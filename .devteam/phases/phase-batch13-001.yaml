phase_id: 1
description: "Implement all 5 CRs: settings rename, agenda sunday type, activity log revision, Supabase perf and security fixes"
status: completed
features:
  - {id: F083, name: "Rename Settings labels (i18n)", status: completed}
  - {id: F084, name: "Agenda Sunday type selector", status: completed}
  - {id: F085, name: "Activity log structured format + i18n", status: completed}
  - {id: F086, name: "pg_timezone_names investigation (no code change)", status: completed}
  - {id: F087, name: "SQL search_path security fix", status: completed}
artifacts_produced:
  - "docs/specs/SPEC_F083.yaml"
  - "docs/specs/SPEC_CONSOLIDATED.yaml"
  - "docs/arch/ARCH_M024.yaml"
  - "docs/arch/ARCH_CONSOLIDATED.yaml"
  - "docs/plans/PLAN_P024.yaml"
  - "docs/plans/PLAN_CONSOLIDATED.yaml"
  - "docs/code/CODE_LEDGER.yaml"
  - "docs/tests/TEST_CONSOLIDATED.yaml"
  - "docs/reviews/REVIEW_CONSOLIDATED.yaml"
  - "docs/qa/QA_PLAN_013.yaml"
  - "docs/qa/QA_CONSOLIDATED.yaml"
commits:
  - {hash: "dba78aa", message: "feat(i18n): rename Settings tab labels in 3 locale files (F083)"}
  - {hash: "9b460b0", message: "fix(sql): add SET search_path='' to 7 PostgreSQL functions (F087)"}
  - {hash: "d94ddfb", message: "refactor(components): export SundayTypeDropdown from SundayCard (F084)"}
  - {hash: "fbdd828", message: "feat(agenda): add SundayTypeDropdown to expanded agenda cards (F084)"}
  - {hash: "f4a2779", message: "feat(activity-log): add structured log format functions (F085)"}
  - {hash: "4562690", message: "feat(i18n): add 24 activity log event keys + actor roles (F085)"}
  - {hash: "13b8a19", message: "refactor(hooks): replace hardcoded logs with buildLogDescription (F085)"}
  - {hash: "2fd5923", message: "feat(history): render translated activity log descriptions (F085)"}
  - {hash: "3bd264e", message: "test(activity-log): add unit tests for structured log functions (F085)"}
  - {hash: "70702c1", message: "fix(tests): update legacy tests for structured log format changes"}
  - {hash: "958d8bb", message: "docs: update CODE_LEDGER with Batch 13 commits"}
  - {hash: "b99e402", message: "test(batch13): add 218 tests for F083-F087"}
  - {hash: "efa501c", message: "docs(tests): update TEST_CONSOLIDATED v17"}
decisions:
  - "ADR-061: Export SundayTypeDropdown from SundayCard.tsx (reuse, no duplication)"
  - "ADR-062: Pipe-delimited format for activity log descriptions"
  - "ADR-063: SET search_path = '' for all SQL functions"
  - "F086: pg_timezone_names is Supabase internal, no app code change needed"
handoff_notes: "Project complete. 2 pending deploys: migration 015 + leaked password protection dashboard setting."
