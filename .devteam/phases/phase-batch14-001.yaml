phase_id: 1
description: "Email reset, offline UX, alert messages, button logic (CR-145 to CR-149, F088-F092)"
status: completed
features:
  - {id: F088, name: "Customize password reset email template and redirect URL", status: completed}
  - {id: F089, name: "Graceful degradation when app is offline", status: completed}
  - {id: F090, name: "Improve offline banner readability on iPhone", status: completed}
  - {id: F091, name: "Improve sunday type change confirmation message", status: completed}
  - {id: F092, name: "Make presentation mode button always visible", status: completed}
artifacts_produced:
  - "docs/specs/SPEC_F088.yaml"
  - "docs/specs/SPEC_F089.yaml"
  - "docs/specs/SPEC_F090.yaml"
  - "docs/specs/SPEC_F091.yaml"
  - "docs/specs/SPEC_F092.yaml"
  - "docs/arch/ARCH_M025.yaml"
  - "docs/plans/PLAN_P025.yaml"
  - "docs/qa/QA_PLAN_014.yaml"
  - "src/__tests__/batch14-phase1.test.ts"
  - "src/app/(auth)/reset-password.tsx"
commits:
  - {hash: "370d7a4", message: "fix(i18n): update sunday type change confirmation dialog text (F091)"}
  - {hash: "413b83d", message: "feat(home): make presentation mode button always visible (F092)"}
  - {hash: "7b0f660", message: "fix(ui): add safe area insets and increase font sizes in OfflineBanner (F090)"}
  - {hash: "7b1a621", message: "fix(auth): add redirectTo deep link to password reset email (F088)"}
  - {hash: "0b19da5", message: "feat(auth): create reset-password page for deep link handling (F088)"}
  - {hash: "a24dd6e", message: "feat(i18n): add reset password page i18n keys (F088)"}
  - {hash: "9f2969a", message: "feat(offline): integrate onlineManager with useConnection (F089)"}
  - {hash: "328238d", message: "feat(offline): configure QueryClient offline-first (F089)"}
  - {hash: "7e8dfc1", message: "feat(i18n): add offline empty state message (F089)"}
  - {hash: "6149b9d", message: "test(batch14): add tests for F088-F092"}
  - {hash: "bf515bf", message: "docs: update CODE_LEDGER"}
  - {hash: "c8aec2e", message: "test(batch14): add 21 additional tests"}
  - {hash: "67da62b", message: "docs(tests): update TEST_CONSOLIDATED v18"}
  - {hash: "9421454", message: "fix(i18n): remove duplicate auth keys, fix es text, update comment"}
  - {hash: "8b81c14", message: "docs: update CODE_LEDGER with review fix commit"}
decisions:
  - "ADR-064: Deep link sacrmeetman://reset-password + Supabase Dashboard config"
  - "ADR-065: TanStack Query onlineManager + networkMode offlineFirst"
  - "Email em 3 idiomas via Edge Function (decisao do usuario)"
  - "Degradacao graciosa (nao offline completo com sync)"
  - "Texto exato do usuario para alert de mudanca de tipo de domingo"
handoff_notes: >
  Phase 1 complete. 5 CRs (145-149) implemented with 15 commits and 109 tests.
  Pending deploy: Supabase Dashboard email template + redirect URLs config for F088.
  Phase 2 covers CR-150 to CR-153 (card layouts, pianist/conductor, hymn toggle, agenda status).
