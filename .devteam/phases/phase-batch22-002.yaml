phase_id: 2
description: "CR-204 (Supabase text/plain override) + CR-208 (causa raiz do erro ao convidar usuario)"
status: completed
features:
  - id: F143
    name: "Fix invite creation Edge Function root cause (CR-208)"
    status: completed
  - id: F144
    name: "External hosting for HTML pages - GitHub Pages (CR-204)"
    status: completed
artifacts_produced:
  - "docs/specs/SPEC_F143_F144.yaml"
  - "docs/arch/ARCH_M039.yaml"
  - "docs/plans/PLAN_P039.yaml"
  - "docs/qa/QA_PLAN_003.yaml"
  - "docs/public/reset-password.html"
  - "docs/public/accept-invite.html"
commits:
  - hash: "0bc0169"
    message: "feat(edge-fn): add structured error codes, logging, and diagnostic mode to create-invitation (F143)"
  - hash: "1e461ad"
    message: "feat(edge-fn): convert reset-redirect to 302 redirect to external page (F144)"
  - hash: "1dd7ec0"
    message: "feat(edge-fn): convert invite-redirect to 302 redirect to external page (F144)"
  - hash: "62cbcf3"
    message: "feat(pages): create external reset-password.html for GitHub Pages (F144)"
  - hash: "59a441f"
    message: "feat(pages): create external accept-invite.html for GitHub Pages (F144)"
  - hash: "2504daf"
    message: "test(batch-22): add F143/F144 tests and update F138/F139 tests for 302 redirect (STEP-06)"
  - hash: "1ba0f99"
    message: "docs(code): update CODE_LEDGER with CR-204/CR-208 commits (Phase 2)"
  - hash: "d10b5f7"
    message: "test(batch-22): add tester tests for F143+F144 (CR-208, CR-204)"
  - hash: "1fc6ccb"
    message: "docs(tests): update TEST_CONSOLIDATED for batch-22 phase 2 (v32)"
decisions:
  - "ADR-094: Structured error codes + diagnostic mode em create-invitation"
  - "ADR-095: External hosting via GitHub Pages para bypass do Content-Type override do Supabase"
handoff_notes: |
  Projeto Batch 22 completo (ambas fases). Deploys pendentes:
  1. GitHub Pages: configurar Settings > Pages > Source: main > /docs/public
  2. Edge Functions: deploy create-invitation, reset-redirect, invite-redirect
  3. Opcionalmente setar EXTERNAL_PAGES_URL secret no Supabase
