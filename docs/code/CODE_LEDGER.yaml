# =============================================================================
# CODE_LEDGER.yaml
# Tracks commits made for CR-82 bugfix and CR-80 feature
# Generated: 2026-02-18
# =============================================================================

metadata:
  project: Sacrament Meeting Planner
  change_requests: [CR-82, CR-80]
  plan_ref: plans/PLAN_P001.yaml
  arch_ref: arch/ARCH_M001.yaml
  spec_ref: specs/SPEC_F001.yaml

commits:

  # --- CR-82 commits ---

  - step: 1
    cr: CR-82
    hash: ee9d84d
    message: "fix(layout): add GestureHandlerRootView wrapper to root layout (CR-82)"
    files_changed:
      - src/app/_layout.tsx
    changes:
      - id: CHG-01
        description: "Added import { GestureHandlerRootView } from 'react-native-gesture-handler'"
      - id: CHG-02
        description: "Wrapped provider tree with <GestureHandlerRootView style={{ flex: 1 }}> inside ErrorBoundary"
    acs_covered: [AC-001, AC-002, AC-003, AC-004, AC-005, AC-006]
    ecs_covered: [EC-001]

  - step: 2
    cr: CR-82
    hash: 37e880b
    message: "test(layout): add tests for GestureHandlerRootView wrapper (CR-82)"
    files_changed:
      - src/__tests__/cr082-gesture-handler-root.test.ts
    tests_added: 9
    test_ids: [T-001, T-002, T-003, T-004, T-005, T-006, T-007, T-008, T-009]
    acs_covered: [AC-001, AC-002, AC-003, AC-004, AC-005, AC-006]
    ecs_covered: [EC-001, EC-002]

  # --- CR-80 commits ---

  - step: 1
    cr: CR-80
    plan_ref: plans/PLAN_P010.yaml
    plan_step: STEP-01
    hash: 9359348
    message: "feat(i18n): add members.description and members.csvHelp keys in pt-BR/en/es (CR-80)"
    files_changed:
      - src/i18n/locales/en.json
      - src/i18n/locales/pt-BR.json
      - src/i18n/locales/es.json
    changes:
      - id: CHG-03
        description: "Added members.description key with English text to en.json"
      - id: CHG-04
        description: "Added members.csvHelp key with English text to en.json"
      - id: CHG-05
        description: "Added members.description key with Portuguese text to pt-BR.json"
      - id: CHG-06
        description: "Added members.csvHelp key with Portuguese text to pt-BR.json"
      - id: CHG-07
        description: "Added members.description key with Spanish text to es.json"
      - id: CHG-08
        description: "Added members.csvHelp key with Spanish text to es.json"
    acs_covered: [AC-4, AC-5, AC-6]
    ecs_covered: [EC-2]

  - step: 2
    cr: CR-80
    plan_ref: plans/PLAN_P010.yaml
    plan_step: STEP-02
    hash: 84bea70
    message: "feat(members): add description and csvHelp explanatory texts (CR-80)"
    files_changed:
      - src/app/(tabs)/settings/members.tsx
    changes:
      - id: CHG-09
        description: "Added <Text> with t('members.description') between header and searchContainer"
      - id: CHG-10
        description: "Added <Text> with t('members.csvHelp') inside canImport block after csvActions"
      - id: CHG-11
        description: "Added description style (fontSize 13, textAlign center, paddingHorizontal 16, marginBottom 8)"
      - id: CHG-12
        description: "Added csvHelp style (fontSize 12, paddingHorizontal 16, marginBottom 8)"
      - id: CHG-13
        description: "Wrapped canImport block content with React Fragment to include csvHelp text"
    acs_covered: [AC-1, AC-2, AC-3]
    ecs_covered: [EC-1, EC-3]

  - step: 3
    cr: CR-80
    plan_ref: plans/PLAN_P010.yaml
    plan_step: STEP-03
    hash: null
    message: "Regression verification (no code changes)"
    files_changed: []
    changes: []
    acs_covered: [AC-7]
    ecs_covered: [EC-2]

test_results:
  new_tests: 9
  new_tests_passing: 9
  full_suite_tests: 2456
  full_suite_passing: 2456
  full_suite_files: 53
  regressions: 0
