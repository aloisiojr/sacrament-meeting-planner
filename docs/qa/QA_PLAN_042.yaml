# =============================================================================
# QA_PLAN_042.yaml
# QA Plan for Batch 25 Phase 3: F157 - CR-221 Managed Prayers
# Steps 11, 12, 13, 15, 19, 20, 21, 22
# Created: 2026-02-24
# =============================================================================

type: qa_plan
version: 1
cr_id: CR-221
feature_id: F157
batch: 25
phase: 3
mode: PRE
created: "2026-02-24"

# =============================================================================
# SCOPE
# =============================================================================

scope:
  description: >
    Phase 3 covers the remaining UI migration and cleanup for CR-221 managed
    prayers. This includes: AgendaForm prayer fields migration from
    sunday_agendas columns to speeches positions 0/4 (toggle-aware: PrayerSelector
    when OFF, read-only + pencil when ON); Agenda tab collapsed card prayer
    counting from speeches; Home tab prayer counting from speeches and dynamic
    section title; tab layout dynamic label (Discursos vs Discursos e Oracoes);
    presentation mode data source migration; SundayAgenda TypeScript type
    cleanup (remove prayer columns); speechUtils handling of prayer positions;
    push notification text differentiation; and regression/test coverage.
  steps_covered:
    - STEP-11  # AgendaForm prayer fields migration
    - STEP-12  # Agenda collapsed card prayer counting
    - STEP-13  # Home tab prayer counting + section title
    - STEP-15  # Tab layout dynamic label
    - STEP-19  # Presentation mode prayer data source
    - STEP-20  # Permissions (prayer assignment follows speech permissions)
    - STEP-21  # Regression + SundayAgenda type cleanup
    - STEP-22  # Tests
  acceptance_criteria_covered:
    - AC-157-08  # SundayAgenda type no longer has prayer fields (deferred from P1)
    - AC-157-11  # Toggle OFF - status confirmed when assigning prayer (deferred from P1)
    - AC-157-13  # Toggle OFF - Agenda uses PrayerSelector
    - AC-157-15  # Toggle OFF - Speeches tab title 'Discursos'
    - AC-157-16  # Toggle OFF - Home section title 'Proximos Discursos'
    - AC-157-22  # Toggle ON - Agenda read-only with pencil navigation
    - AC-157-24  # Toggle ON - Speeches tab title 'Discursos e Oracoes'
    - AC-157-25  # Toggle ON - Home section title 'Proximos Discursos e Oracoes'
    - AC-157-37  # Agenda opening prayer same position, reading from speeches
    - AC-157-38  # Agenda closing prayer same position, reading from speeches
    - AC-157-39  # Agenda Toggle OFF: PrayerSelector editable
    - AC-157-40  # Agenda Toggle ON: read-only field with pencil navigation
    - AC-157-41  # Agenda collapsed card 'Oracoes Y/2' from speeches
    - AC-157-42  # Home preview card 'Oracoes Y/2' from speeches
    - AC-157-43  # Home next assignments section title dynamic
    - AC-157-45  # Presentation mode - data from speeches not sunday_agendas
    - AC-157-59  # Prayer assignment follows speech permissions
    - AC-157-62  # Existing wards unaffected after migration
    - AC-157-63  # Toggling ON then OFF restores original behavior

# =============================================================================
# PHASE 1 + PHASE 2 PREREQUISITES - VERIFIED
# =============================================================================

phase1_phase2_prerequisites:
  status: verified
  timestamp: "2026-02-24"
  evidence:
    - artifact: "supabase/migrations/019_managed_prayers.sql"
      status: exists
      evidence: >
        Migration has manage_prayers column, whatsapp_template columns,
        position CHECK constraint (0-4), data migration, column drops,
        notification trigger manage_prayers check. All verified in Phase 1+2.

    - artifact: "Phase 1 infrastructure (Ward type, hooks, settings toggle)"
      status: verified
      evidence: >
        Ward type has manage_prayers, whatsapp_template fields.
        useWardManagePrayers hook works.
        useLazyCreateSpeeches is type-aware.
        Settings toggle in place with logAction.
        162 Phase 1 tests passing.

    - artifact: "Phase 2 UI (SpeechSlot, collapsed card, invite, WhatsApp)"
      status: verified
      evidence: >
        SpeechSlot isPrayer prop works.
        Speeches tab renders prayer slots conditionally.
        SundayCard collapsed shows prayer lines.
        InviteManagementSection handles positions 0/4.
        WhatsApp templates and segmented control in place.
        234 Phase 2 tests passing.

    - artifact: "Full test suite"
      status: passing
      evidence: "96 test files, 6645 tests passed, 49 skipped, 0 failures"

# =============================================================================
# PHASE 3 CURRENT STATE - PRE-IMPLEMENTATION
# =============================================================================

phase3_current_state:
  status: not_implemented
  evidence:
    - file: "src/components/AgendaForm.tsx"
      area: "Prayer fields still reading from sunday_agendas"
      evidence: |
        Line 314: value={agenda.opening_prayer_name ?? ''}
        Line 318: setSelectorModal({ type: 'prayer', field: 'opening_prayer' })
        Line 326: fields: { opening_prayer_name: null, opening_prayer_member_id: null }
        Line 530: value={agenda.closing_prayer_name ?? ''}
        Line 534: setSelectorModal({ type: 'prayer', field: 'closing_prayer' })
        Line 542: fields: { closing_prayer_name: null, closing_prayer_member_id: null }
        Lines 596-618: PrayerSelector reads/writes from agenda.opening_prayer_*/closing_prayer_*
        NO references to speeches positions 0/4 or managePrayers in AgendaForm.
      search_confirmed: "opening_prayer, closing_prayer found; managePrayers, position 0/4 NOT found"

    - file: "src/app/(tabs)/index.tsx"
      area: "Home tab prayer counting from sunday_agendas"
      evidence: |
        Line 74: if (agenda?.opening_prayer_name) prayersFilled++;
        Line 75: if (agenda?.closing_prayer_name) prayersFilled++;
        Line 101: if (agenda?.opening_prayer_name) prayersFilled++;
        Line 102: if (agenda?.closing_prayer_name) prayersFilled++;
        NO reference to managePrayers, no dynamic section title logic.
      search_confirmed: "managePrayers NOT found, nextSpeechesAndPrayers NOT found"

    - file: "src/app/(tabs)/agenda.tsx"
      area: "Agenda tab prayer counting from sunday_agendas"
      evidence: |
        Line 413: if (agenda?.opening_prayer_name) prayersFilled++;
        Line 414: if (agenda?.closing_prayer_name) prayersFilled++;
        Line 473: if (agenda?.opening_prayer_name) prayersFilled++;
        Line 474: if (agenda?.closing_prayer_name) prayersFilled++;
        NO reference to speeches positions 0/4 for prayer counting.
      search_confirmed: "opening_prayer_name found at lines 413, 473; managePrayers NOT found"

    - file: "src/app/(tabs)/_layout.tsx"
      area: "Tab label is static 'Discursos'"
      evidence: |
        Line 50: title: t('tabs.speeches')
        NOT dynamic based on managePrayers. No import of useWardManagePrayers.
      search_confirmed: "tabs.speeches found; managePrayers NOT found, speechesAndPrayers NOT found"

    - file: "src/hooks/usePresentationMode.ts"
      area: "Presentation mode reads from sunday_agendas prayer fields"
      evidence: |
        Line 100: value: agenda?.opening_prayer_name ?? '' (welcome card)
        Line 181: value: agenda?.closing_prayer_name ?? '' (last speech card)
        Line 193: value: agenda?.closing_prayer_name ?? '' (special meeting card)
        NO reference to speeches positions 0/4.
      search_confirmed: "opening_prayer_name at line 100; closing_prayer_name at lines 181, 193; speeches position 0/4 NOT found"

    - file: "src/types/database.ts"
      area: "SundayAgenda type still has prayer columns"
      evidence: |
        Line 188: opening_prayer_member_id: string | null;
        Line 189: opening_prayer_name: string | null;
        Line 211: closing_prayer_member_id: string | null;
        Line 212: closing_prayer_name: string | null;
        These fields correspond to columns that have been DROPPED in the migration.
      search_confirmed: "All 4 prayer fields present in SundayAgenda interface"

    - file: "src/lib/speechUtils.ts"
      area: "Functions only check positions 1-3"
      evidence: |
        Lines 18-23: areNext3FullyAssigned checks positions 1-3 only
        Lines 38-43: findNextPendingSunday checks positions 1-3 only
        Lines 56-75: getInviteItems filters by status, no position awareness
        No mention of prayer positions 0/4 or managePrayers.
      search_confirmed: "position 0/4 NOT found; managePrayers NOT found"

# =============================================================================
# VALIDATION CHECKS
# =============================================================================

validation_checks:

  # ---------------------------------------------------------------------------
  # MUST PASS - STEP-11: AgendaForm prayer fields migration
  # ---------------------------------------------------------------------------

  must_pass:

    - id: MP-01
      step: STEP-11
      ac: AC-157-37
      description: "AgendaForm reads opening prayer from speeches position 0, not sunday_agendas"
      how_to_verify: "Search AgendaForm.tsx for speeches position 0 usage. Verify NO reference to agenda.opening_prayer_name for display."
      expected_result: "Opening prayer value comes from speeches.find(s => s.position === 0)?.speaker_name or equivalent"
      priority: must_pass

    - id: MP-02
      step: STEP-11
      ac: AC-157-38
      description: "AgendaForm reads closing prayer from speeches position 4, not sunday_agendas"
      how_to_verify: "Search AgendaForm.tsx for speeches position 4 usage. Verify NO reference to agenda.closing_prayer_name for display."
      expected_result: "Closing prayer value comes from speeches.find(s => s.position === 4)?.speaker_name or equivalent"
      priority: must_pass

    - id: MP-03
      step: STEP-11
      ac: AC-157-39
      description: "Toggle OFF: AgendaForm uses PrayerSelector for prayer assignment"
      how_to_verify: "When managePrayers=false, tapping prayer field opens PrayerSelector (members + custom names)"
      expected_result: "PrayerSelector is rendered when managePrayers is false; allows both member selection and custom name typing"
      priority: must_pass

    - id: MP-04
      step: STEP-11
      ac: AC-157-11
      description: "Toggle OFF: prayer assignment saves to speeches with status 'assigned_confirmed'"
      how_to_verify: "Search AgendaForm.tsx for speech update logic when managePrayers=false. Check status is set to 'assigned_confirmed'"
      expected_result: "When assigning prayer via PrayerSelector, speech record (position 0 or 4) is updated with status 'assigned_confirmed'"
      priority: must_pass

    - id: MP-05
      step: STEP-11
      ac: AC-157-40
      description: "Toggle ON: AgendaForm prayer field is read-only"
      how_to_verify: "When managePrayers=true, prayer field is not editable (no PrayerSelector opens, no tapping to edit)"
      expected_result: "Prayer field shows text but is disabled/read-only when managePrayers is true"
      priority: must_pass

    - id: MP-06
      step: STEP-11
      ac: AC-157-40
      description: "Toggle ON: AgendaForm prayer field has pencil icon that navigates to Speeches tab"
      how_to_verify: "Search for PencilIcon or pencil navigation logic in AgendaForm.tsx when managePrayers=true"
      expected_result: "Pencil icon renders next to prayer field; tapping navigates to speeches tab with router.push and expandDate param"
      priority: must_pass

    - id: MP-07
      step: STEP-11
      ac: AC-157-37
      description: "AgendaForm no longer writes to agenda.opening_prayer_name or closing_prayer_name"
      how_to_verify: "Search AgendaForm.tsx for updateAgenda calls with opening_prayer_name, opening_prayer_member_id, closing_prayer_name, closing_prayer_member_id"
      expected_result: "NO calls to updateAgenda with prayer field names. Prayer mutations go to speeches table instead."
      priority: must_pass

    - id: MP-08
      step: STEP-11
      ac: AC-157-13
      description: "AgendaForm imports and uses useWardManagePrayers hook"
      how_to_verify: "Search AgendaForm.tsx for useWardManagePrayers import and call"
      expected_result: "Hook is imported and called: const { managePrayers } = useWardManagePrayers()"
      priority: must_pass

    # ---------------------------------------------------------------------------
    # MUST PASS - STEP-12: Agenda collapsed card prayer counting
    # ---------------------------------------------------------------------------

    - id: MP-09
      step: STEP-12
      ac: AC-157-41
      description: "Agenda tab prayer count reads from speeches positions 0/4, not sunday_agendas"
      how_to_verify: "Search agenda.tsx for prayersFilled logic. Verify it reads from speeches, not agenda.opening_prayer_name"
      expected_result: "prayersFilled counts speeches at positions 0 and 4 with speaker_name set (or appropriate status check)"
      priority: must_pass

    - id: MP-10
      step: STEP-12
      ac: AC-157-41
      description: "Agenda tab NO reference to agenda.opening_prayer_name or closing_prayer_name for counting"
      how_to_verify: "Grep agenda.tsx for opening_prayer_name and closing_prayer_name"
      expected_result: "ZERO occurrences of agenda.opening_prayer_name or agenda.closing_prayer_name in prayer counting logic"
      priority: must_pass

    # ---------------------------------------------------------------------------
    # MUST PASS - STEP-13: Home tab prayer counting + section title
    # ---------------------------------------------------------------------------

    - id: MP-11
      step: STEP-13
      ac: AC-157-42
      description: "Home tab prayer count reads from speeches positions 0/4, not sunday_agendas"
      how_to_verify: "Search index.tsx for prayersFilled logic. Verify it reads from speeches, not agenda.opening_prayer_name"
      expected_result: "prayersFilled counts speeches at positions 0 and 4 with speaker_name set"
      priority: must_pass

    - id: MP-12
      step: STEP-13
      ac: AC-157-42
      description: "Home tab NO reference to agenda.opening_prayer_name or closing_prayer_name for counting"
      how_to_verify: "Grep index.tsx for opening_prayer_name and closing_prayer_name"
      expected_result: "ZERO occurrences of agenda.opening_prayer_name or agenda.closing_prayer_name in prayer counting logic"
      priority: must_pass

    - id: MP-13
      step: STEP-13
      ac: AC-157-43
      description: "Home tab section title dynamic based on managePrayers"
      how_to_verify: "Search index.tsx for managePrayers usage and dynamic title logic"
      expected_result: >
        When managePrayers=true: title uses t('home.nextSpeechesAndPrayers') or equivalent.
        When managePrayers=false: title uses t('home.nextSpeeches') or current key.
      priority: must_pass

    - id: MP-14
      step: STEP-13
      ac: AC-157-43
      description: "Home tab imports useWardManagePrayers hook"
      how_to_verify: "Search index.tsx for useWardManagePrayers import and call"
      expected_result: "Hook imported and called in Home tab component"
      priority: must_pass

    # ---------------------------------------------------------------------------
    # MUST PASS - STEP-15: Tab layout dynamic label
    # ---------------------------------------------------------------------------

    - id: MP-15
      step: STEP-15
      ac: AC-157-15
      description: "Tab layout uses dynamic label for speeches tab"
      how_to_verify: "Search _layout.tsx for managePrayers or dynamic title logic"
      expected_result: >
        Speeches tab title changes based on managePrayers:
        - false: t('tabs.speeches') = 'Discursos'
        - true: t('tabs.speechesAndPrayers') = 'Discursos e Oracoes'
      priority: must_pass

    - id: MP-16
      step: STEP-15
      ac: AC-157-24
      description: "_layout.tsx imports useWardManagePrayers or receives managePrayers"
      how_to_verify: "Search _layout.tsx for useWardManagePrayers import and usage"
      expected_result: "Hook imported and used to determine tab label"
      priority: must_pass

    # ---------------------------------------------------------------------------
    # MUST PASS - STEP-19: Presentation mode prayer data source
    # ---------------------------------------------------------------------------

    - id: MP-17
      step: STEP-19
      ac: AC-157-45
      description: "Presentation mode reads opening prayer from speeches position 0"
      how_to_verify: "Search usePresentationMode.ts for prayer data source. Check it uses speeches, not agenda.opening_prayer_name"
      expected_result: >
        Opening prayer value comes from speeches.find(s => s.position === 0)?.speaker_name
        instead of agenda?.opening_prayer_name
      priority: must_pass

    - id: MP-18
      step: STEP-19
      ac: AC-157-45
      description: "Presentation mode reads closing prayer from speeches position 4"
      how_to_verify: "Search usePresentationMode.ts for closing prayer data source"
      expected_result: >
        Closing prayer value comes from speeches.find(s => s.position === 4)?.speaker_name
        instead of agenda?.closing_prayer_name (both in normal and special meeting cards)
      priority: must_pass

    - id: MP-19
      step: STEP-19
      ac: AC-157-45
      description: "Presentation mode NO references to agenda.opening_prayer_name or closing_prayer_name"
      how_to_verify: "Grep usePresentationMode.ts for opening_prayer_name and closing_prayer_name"
      expected_result: "ZERO occurrences of agenda.opening_prayer_name or agenda.closing_prayer_name"
      priority: must_pass

    # ---------------------------------------------------------------------------
    # MUST PASS - STEP-21: SundayAgenda type cleanup + regression
    # ---------------------------------------------------------------------------

    - id: MP-20
      step: STEP-21
      ac: AC-157-08
      description: "SundayAgenda type in database.ts no longer has prayer fields"
      how_to_verify: "Search database.ts SundayAgenda interface for opening_prayer_member_id, opening_prayer_name, closing_prayer_member_id, closing_prayer_name"
      expected_result: "NONE of these 4 fields exist in SundayAgenda interface"
      priority: must_pass

    - id: MP-21
      step: STEP-21
      ac: AC-157-08
      description: "No source file (excluding tests and migration) references SundayAgenda prayer fields"
      how_to_verify: "Search all .ts/.tsx source files (not test files) for opening_prayer_name, opening_prayer_member_id, closing_prayer_name, closing_prayer_member_id"
      expected_result: >
        ZERO occurrences in production source files. Only migration file
        (019_managed_prayers.sql) may still reference these for data migration.
      priority: must_pass

    - id: MP-22
      step: STEP-21
      ac: AC-157-62
      description: "speechUtils.ts areNext3FullyAssigned handles prayer positions correctly"
      how_to_verify: "Check if areNext3FullyAssigned only checks speech positions 1-3 (correct) or if it was updated to be managePrayers-aware"
      expected_result: >
        Function should still check only positions 1-3 for speech assignment status.
        Prayer positions 0/4 should NOT affect the 'fully assigned' check for speeches.
        This function is about speech assignments, not prayer assignments.
      priority: must_pass

    - id: MP-23
      step: STEP-21
      ac: AC-157-62
      description: "speechUtils.ts getInviteItems does not need position filtering (already handled in InviteManagementSection)"
      how_to_verify: "Verify getInviteItems returns all speeches with actionable status, and position filtering is done in InviteManagementSection"
      expected_result: >
        getInviteItems continues to filter by status only. The position-based
        filtering (exclude 0/4 when managePrayers=false) is handled by
        InviteManagementSection (implemented in Phase 2, MP-20/MP-22).
      priority: must_pass

    # ---------------------------------------------------------------------------
    # MUST PASS - STEP-22: Tests
    # ---------------------------------------------------------------------------

    - id: MP-24
      step: STEP-22
      ac: AC-157-62
      description: "All tests pass (no regression from Phase 3 changes)"
      how_to_verify: "Run npx vitest run and check for 0 failures"
      expected_result: "0 test failures. All Phase 1, Phase 2, and Phase 3 tests pass."
      priority: must_pass

    - id: MP-25
      step: STEP-22
      ac: AC-157-62
      description: "Test files referencing SundayAgenda prayer fields are updated"
      how_to_verify: >
        Check test files that previously referenced opening_prayer_name,
        closing_prayer_name, etc. on SundayAgenda mocks. These should be
        removed or updated.
      expected_result: >
        Test file mock SundayAgenda objects no longer contain
        opening_prayer_name, opening_prayer_member_id, closing_prayer_name,
        closing_prayer_member_id (since these fields are removed from the type).
      priority: must_pass
      notes: >
        Known test files affected (from Phase 1 inventory):
        batch20-phase1.test.ts, cr004-f008-agenda-actors.test.ts,
        cr001-qa-extended.test.ts, batch19-phase2.test.ts, batch16.test.ts,
        batch7-f035-f039.test.ts, batch14-phase2.test.ts,
        integration/setup-integration.ts, usePresentationMode-utils.test.ts,
        phase04-agenda-presentation.test.ts, phase02-database-types.test.ts,
        database-types.test.ts, cr001-qa.test.ts, batch9-phase1.test.ts

  # ---------------------------------------------------------------------------
  # SHOULD PASS - Additional quality checks
  # ---------------------------------------------------------------------------

  should_pass:

    - id: SP-01
      step: STEP-11
      ac: AC-157-39
      description: "AgendaForm PrayerSelector writes to speeches table (not sunday_agendas)"
      how_to_verify: "Check mutation in PrayerSelector onSelect handler targets speeches table"
      expected_result: "Prayer assignment via PrayerSelector uses speech mutation (useUpdateSpeech or direct supabase speeches update)"
      priority: should_pass

    - id: SP-02
      step: STEP-11
      ac: AC-157-40
      description: "Pencil icon navigation includes expandDate param for correct sunday"
      how_to_verify: "Check router.push call includes expandDate or equivalent date parameter"
      expected_result: "router.push('/speeches', { expandDate: sundayDate }) or equivalent"
      priority: should_pass

    - id: SP-03
      step: STEP-13
      ac: AC-157-43
      description: "Home tab InviteManagementSection already receives managePrayers (Phase 2)"
      how_to_verify: "Verify InviteManagementSection in index.tsx uses its internal useWardManagePrayers hook"
      expected_result: "InviteManagementSection already handles managePrayers via its own hook call (Phase 2 MP-19)"
      priority: should_pass

    - id: SP-04
      step: STEP-19
      ac: AC-157-45
      description: "Presentation mode visual output unchanged (same display, different data source)"
      how_to_verify: "Verify the PresentationField structure for prayer labels has not changed"
      expected_result: >
        Prayer fields still use label t('agenda.openingPrayer') and t('agenda.closingPrayer').
        Only the value source changes from agenda fields to speeches positions.
      priority: should_pass

    - id: SP-05
      step: STEP-20
      ac: AC-157-59
      description: "Observer cannot edit prayer fields in AgendaForm when managePrayers=false"
      how_to_verify: "Check AgendaForm prayer SelectorField disabled prop includes isObserver"
      expected_result: "SelectorField for prayers is disabled={isObserver} preventing observer edits"
      priority: should_pass

    - id: SP-06
      step: STEP-21
      ac: AC-157-63
      description: "Dead import of PrayerSelector in SpeechSlot cleaned up"
      how_to_verify: "Check SpeechSlot.tsx imports for PrayerSelector"
      expected_result: "PrayerSelector is NOT imported in SpeechSlot.tsx (was a dead import since Phase 1)"
      priority: should_pass

    - id: SP-07
      step: STEP-21
      ac: AC-157-62
      description: "No TypeScript compilation errors from removing SundayAgenda prayer fields"
      how_to_verify: "Run npx tsc --noEmit or verify test suite passes (tests exercise type system)"
      expected_result: "No type errors. All references to SundayAgenda prayer fields have been removed."
      priority: should_pass

    - id: SP-08
      step: STEP-11
      ac: AC-157-39
      description: "AgendaForm prayer clear (X button) targets speeches table"
      how_to_verify: "Check onClear handler for prayer field updates speeches, not sunday_agendas"
      expected_result: "Clear button sets speech record speaker_name to null and member_id to null in speeches table"
      priority: should_pass

# =============================================================================
# TEST FILE EXPECTATIONS
# =============================================================================

test_expectations:
  file: "src/__tests__/batch25-phase3.test.ts"
  minimum_test_count: 100
  areas_to_cover:
    - "STEP-11: AgendaForm prayer fields migration (toggle OFF PrayerSelector, toggle ON read-only + pencil, speech-based mutations)"
    - "STEP-12: Agenda tab prayer counting from speeches positions 0/4"
    - "STEP-13: Home tab prayer counting from speeches, dynamic section title"
    - "STEP-15: Tab layout dynamic label (speeches vs speechesAndPrayers)"
    - "STEP-19: Presentation mode prayer data source from speeches"
    - "STEP-21: SundayAgenda type cleanup, speechUtils regression checks"
  existing_test_files_to_update:
    - "src/__tests__/batch20-phase1.test.ts"
    - "src/__tests__/cr004-f008-agenda-actors.test.ts"
    - "src/__tests__/cr001-qa-extended.test.ts"
    - "src/__tests__/batch19-phase2.test.ts"
    - "src/__tests__/batch16.test.ts"
    - "src/__tests__/batch7-f035-f039.test.ts"
    - "src/__tests__/batch14-phase2.test.ts"
    - "src/__tests__/integration/setup-integration.ts"
    - "src/__tests__/usePresentationMode-utils.test.ts"
    - "src/__tests__/phase04-agenda-presentation.test.ts"
    - "src/__tests__/phase02-database-types.test.ts"
    - "src/__tests__/database-types.test.ts"
    - "src/__tests__/cr001-qa.test.ts"
    - "src/__tests__/batch9-phase1.test.ts"

# =============================================================================
# VALIDATION SUMMARY
# =============================================================================

validation_summary:
  total_must_pass: 25
  total_should_pass: 8
  steps_validated: 8
  acs_validated: 19
