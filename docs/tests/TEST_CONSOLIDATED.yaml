# =============================================================================
# TEST_CONSOLIDATED.yaml
# Consolidated test results for all CRs
# Generated: 2026-02-18
# =============================================================================

type: test_consolidated
version: 2
last_updated: "2026-02-18T12:55:00Z"
last_updated_by: "tester"

test_suites:

  # ---------------------------------------------------------------------------
  # CR-82: GestureHandlerRootView wrapper
  # ---------------------------------------------------------------------------
  - phase: 1
    feature: F025
    cr: CR-82
    tests:
      - name: "should import GestureHandlerRootView from react-native-gesture-handler"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-001"]
        covers_ecs: []
        status: passing

      - name: "should wrap provider tree with GestureHandlerRootView"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

      - name: "should apply flex:1 style to GestureHandlerRootView"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

      - name: "should have SwipeableCard in Members screen (gesture descendant)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-003"]
        covers_ecs: []
        status: passing

      - name: "should have SwipeableCard in Topics screen (gesture descendant)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-004"]
        covers_ecs: []
        status: passing

      - name: "should have GestureDetector in SwipeableCard for pan gesture"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-005"]
        covers_ecs: []
        status: passing

      - name: "SwipeableCard should import from react-native-gesture-handler"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-006"]
        covers_ecs: []
        status: passing

      - name: "should have GestureHandlerRootView only in root layout (no duplicates)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-001"]
        status: passing

      - name: "GestureHandlerRootView placement: inside ErrorBoundary, outside QueryClientProvider"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-80 / F026: Members Screen Explanatory Texts (i18n)
  # ---------------------------------------------------------------------------
  - phase: 2
    feature: F026
    cr: CR-80
    tests:
      # --- AC-1: Description text below the title ---
      - name: "should render members.description text in the screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should render description below the header and before searchContainer"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for description"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with fontSize 13"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with textAlign center"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with paddingHorizontal 16"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with marginBottom 8"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      # --- AC-2: CSV help text when canImport is true ---
      - name: "should render members.csvHelp text in the screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      - name: "should render csvHelp after csvActions buttons"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for csvHelp"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      # --- AC-3: CSV help hidden when canImport is false ---
      - name: "should place csvHelp inside the canImport conditional block"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-3"]
        covers_ecs: ["EC-1"]
        status: passing

      - name: "should not render csvHelp outside any conditional block"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-3"]
        covers_ecs: ["EC-1"]
        status: passing

      # --- AC-4: pt-BR translations ---
      - name: "should have members.description in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      # --- AC-5: en translations ---
      - name: "should have members.description in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      # --- AC-6: es translations ---
      - name: "should have members.description in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      # --- AC-7: No regressions ---
      - name: "should still have SwipeableCard import in members screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still render SwipeableCard in member rows"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have CSV import handler"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have CSV export handler"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have search functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have add member functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have delete member functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have MemberEditor component"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      # --- EC-1: Without import permissions ---
      - name: "should render description outside any conditional block (always visible)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-1"]
        status: passing

      - name: "should have exactly one occurrence of members.description (not conditional)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-1"]
        status: passing

      # --- EC-2: Text sizing for small screens ---
      - name: "should have description fontSize <= 14 (appropriate for subtitle)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should have csvHelp fontSize <= 13 (smaller than description)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should not use fixed width or numberOfLines on description (allows text wrapping)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should not use fixed width on csvHelp (allows text wrapping)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      # --- EC-3: Texts visible regardless of member list state ---
      - name: "should render description before the main member FlatList (not inside it)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      - name: "should render csvHelp before the main member FlatList (not inside it)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      - name: "should still have ListEmptyComponent for empty state"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      # --- Cross-locale consistency ---
      - name: "should have members.description key in all 3 locales"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp key in all 3 locales"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have all locale files as valid JSON (parseable)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "csvHelp in all locales should mention CSV format info"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "csvHelp in all locales should mention phone format"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

coverage:
  acceptance_criteria:
    # CR-80 / F026 ACs
    - id: AC-1
      covered: true
      tests:
        - "should render members.description text in the screen"
        - "should render description below the header and before searchContainer"
        - "should use colors.textSecondary for description"
        - "should define description style with fontSize 13"
        - "should define description style with textAlign center"
        - "should define description style with paddingHorizontal 16"
        - "should define description style with marginBottom 8"
    - id: AC-2
      covered: true
      tests:
        - "should render members.csvHelp text in the screen"
        - "should render csvHelp after csvActions buttons"
        - "should use colors.textSecondary for csvHelp"
    - id: AC-3
      covered: true
      tests:
        - "should place csvHelp inside the canImport conditional block"
        - "should not render csvHelp outside any conditional block"
    - id: AC-4
      covered: true
      tests:
        - "should have members.description in pt-BR"
        - "should have members.csvHelp in pt-BR"
        - "should have non-empty members.description in pt-BR"
        - "should have non-empty members.csvHelp in pt-BR"
    - id: AC-5
      covered: true
      tests:
        - "should have members.description in en"
        - "should have members.csvHelp in en"
        - "should have non-empty members.description in en"
        - "should have non-empty members.csvHelp in en"
    - id: AC-6
      covered: true
      tests:
        - "should have members.description in es"
        - "should have members.csvHelp in es"
        - "should have non-empty members.description in es"
        - "should have non-empty members.csvHelp in es"
    - id: AC-7
      covered: true
      tests:
        - "should still have SwipeableCard import in members screen"
        - "should still render SwipeableCard in member rows"
        - "should still have CSV import handler"
        - "should still have CSV export handler"
        - "should still have search functionality"
        - "should still have add member functionality"
        - "should still have delete member functionality"
        - "should still have MemberEditor component"

  edge_cases:
    - id: EC-1
      covered: true
      tests:
        - "should place csvHelp inside the canImport conditional block"
        - "should not render csvHelp outside any conditional block"
        - "should render description outside any conditional block (always visible)"
        - "should have exactly one occurrence of members.description (not conditional)"
    - id: EC-2
      covered: true
      tests:
        - "should have description fontSize <= 14 (appropriate for subtitle)"
        - "should have csvHelp fontSize <= 13 (smaller than description)"
        - "should not use fixed width or numberOfLines on description (allows text wrapping)"
        - "should not use fixed width on csvHelp (allows text wrapping)"
    - id: EC-3
      covered: true
      tests:
        - "should render description before the main member FlatList (not inside it)"
        - "should render csvHelp before the main member FlatList (not inside it)"
        - "should still have ListEmptyComponent for empty state"

gaps: []

stats:
  total_tests: 46
  passing: 46
  failing: 0
  skipped: 0

changelog:
  - version: 1
    phase: 1
    changes: ["9 testes adicionados para CR-82 (GestureHandlerRootView)"]
  - version: 2
    phase: 2
    changes: ["46 testes adicionados para F026 (Members Explanatory Texts i18n)"]
