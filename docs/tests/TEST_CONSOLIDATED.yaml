# =============================================================================
# TEST_CONSOLIDATED.yaml
# Consolidated test results for all CRs
# Generated: 2026-02-18
# =============================================================================

type: test_consolidated
version: 22
last_updated: "2026-02-21T04:10:00Z"
last_updated_by: "tester-batch16"

test_suites:

  # ---------------------------------------------------------------------------
  # CR-82: GestureHandlerRootView wrapper
  # ---------------------------------------------------------------------------
  - phase: 1
    feature: F025
    cr: CR-82
    tests:
      - name: "should import GestureHandlerRootView from react-native-gesture-handler"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-001"]
        covers_ecs: []
        status: passing

      - name: "should wrap provider tree with GestureHandlerRootView"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

      - name: "should apply flex:1 style to GestureHandlerRootView"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

      - name: "should have SwipeableCard in Members screen (gesture descendant)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-003"]
        covers_ecs: []
        status: passing

      - name: "should have SwipeableCard in Topics screen (gesture descendant)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-004"]
        covers_ecs: []
        status: passing

      - name: "should have GestureDetector in SwipeableCard for pan gesture"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-005"]
        covers_ecs: []
        status: passing

      - name: "SwipeableCard should import from react-native-gesture-handler"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-006"]
        covers_ecs: []
        status: passing

      - name: "should have GestureHandlerRootView only in root layout (no duplicates)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-001"]
        status: passing

      - name: "GestureHandlerRootView placement: inside ErrorBoundary, outside QueryClientProvider"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-80 / F026: Members Screen Explanatory Texts (i18n)
  # ---------------------------------------------------------------------------
  - phase: 2
    feature: F026
    cr: CR-80
    tests:
      # --- AC-1: Description text below the title ---
      - name: "should render members.description text in the screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should render description below the header and before searchContainer"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for description"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with fontSize 13"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with textAlign center"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with paddingHorizontal 16"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with marginBottom 8"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      # --- AC-2: CSV help text when canImport is true ---
      - name: "should render members.csvHelp text in the screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      - name: "should render csvHelp after csvActions buttons"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for csvHelp"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      # --- AC-3: CSV help hidden when canImport is false ---
      - name: "should place csvHelp inside the canImport conditional block"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-3"]
        covers_ecs: ["EC-1"]
        status: passing

      - name: "should not render csvHelp outside any conditional block"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-3"]
        covers_ecs: ["EC-1"]
        status: passing

      # --- AC-4: pt-BR translations ---
      - name: "should have members.description in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      # --- AC-5: en translations ---
      - name: "should have members.description in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      # --- AC-6: es translations ---
      - name: "should have members.description in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      # --- AC-7: No regressions ---
      - name: "should still have SwipeableCard import in members screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still render SwipeableCard in member rows"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have CSV import handler"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have CSV export handler"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have search functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have add member functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have delete member functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have MemberEditor component"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      # --- EC-1: Without import permissions ---
      - name: "should render description outside any conditional block (always visible)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-1"]
        status: passing

      - name: "should have exactly one occurrence of members.description (not conditional)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-1"]
        status: passing

      # --- EC-2: Text sizing for small screens ---
      - name: "should have description fontSize <= 14 (appropriate for subtitle)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should have csvHelp fontSize <= 13 (smaller than description)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should not use fixed width or numberOfLines on description (allows text wrapping)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should not use fixed width on csvHelp (allows text wrapping)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      # --- EC-3: Texts visible regardless of member list state ---
      - name: "should render description before the main member FlatList (not inside it)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      - name: "should render csvHelp before the main member FlatList (not inside it)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      - name: "should still have ListEmptyComponent for empty state"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      # --- Cross-locale consistency ---
      - name: "should have members.description key in all 3 locales"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp key in all 3 locales"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have all locale files as valid JSON (parseable)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "csvHelp in all locales should mention CSV format info"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "csvHelp in all locales should mention phone format"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 6 Phase 1: F027 (CR-83), F028 (CR-84), F029 (CR-85), F030 (CR-86), F031 (CR-90)
  # ---------------------------------------------------------------------------

  # --- F031 (CR-90): Fix Delete Button ---
  - phase: 3
    feature: F031
    cr: CR-90
    tests:
      - name: "should have onDelete Pressable in SwipeableCard action buttons"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-01"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete function that calls onDelete"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-01"]
        covers_ecs: []
        status: passing

      - name: "should pass onDelete to SwipeableCard in MemberRow"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-02"]
        covers_ecs: []
        status: passing

      - name: "should pass onDelete to SwipeableCard in TopicRow"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-02"]
        covers_ecs: []
        status: passing

      - name: "should have pointerEvents box-none on Animated.View card content"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should have inner View with backgroundColor inside Animated.View"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should NOT have backgroundColor in cardContent style"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete that closes card and calls onDelete"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should still have handleEdit function in SwipeableCard"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-04"]
        covers_ecs: []
        status: passing

      - name: "should still have onPress={handleEdit} on Edit Pressable"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-04"]
        covers_ecs: []
        status: passing

      - name: "should have handleEdit with same structure as handleDelete"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-04"]
        covers_ecs: []
        status: passing

  # --- F027 (CR-83): Save/Cancel Buttons ---
  - phase: 3
    feature: F027
    cr: CR-83
    tests:
      - name: "should NOT have onBlur={handleSave} on any TextInput in MemberEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-01"]
        covers_ecs: []
        status: passing

      - name: "should have Save button that calls handleSave"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-02"]
        covers_ecs: []
        status: passing

      - name: "should have handleSave that validates full_name is not empty and calls onSave"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-02"]
        covers_ecs: []
        status: passing

      - name: "should have Cancel button that calls onCancel"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-03"]
        covers_ecs: []
        status: passing

      - name: "should have onCancel as required prop in MemberEditorProps"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-03"]
        covers_ecs: []
        status: passing

      - name: "should have validation that trims name and returns early if empty"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT have onBlur={handleSave} on any TextInput in TopicEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-05"]
        covers_ecs: []
        status: passing

      - name: "should have Save button that calls handleSave in TopicEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-06"]
        covers_ecs: []
        status: passing

      - name: "should validate title is not empty before calling onSave"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-06"]
        covers_ecs: []
        status: passing

      - name: "should have Cancel button that calls onCancel in TopicEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-07"]
        covers_ecs: []
        status: passing

      - name: "should have onCancel as required prop in TopicEditorProps"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-07"]
        covers_ecs: []
        status: passing

      - name: "MemberEditor should render Save button with t(common.save)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MemberEditor should render Cancel button with t(common.cancel)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicEditor should render Save button with t(common.save)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicEditor should render Cancel button with t(common.cancel)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "Save button should use primary color background in MemberEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "Cancel button should use textSecondary color in MemberEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "should have editorButtons style with flexDirection row, justifyContent flex-end, gap 8"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "should have editorButtons style in topics.tsx matching members.tsx"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MemberRow should pass onCancel to MemberEditor in edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicRow should pass onCancel to TopicEditor in edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MembersScreen should pass onCancel to renderItem for edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MembersScreen should pass onCancel to MemberEditor for adding mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicsScreen should pass onCancel to TopicRow for edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicsScreen should pass onCancel to TopicEditor for adding mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

  # --- F029 (CR-85): Country Codes ---
  - phase: 3
    feature: F029
    cr: CR-85
    tests:
      - name: "should have at least 150 country code entries"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "every entry should have code starting with +"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "every entry should have a non-empty flag"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "every entry should have a label containing the code"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "USA and Canada should be separate entries with code +1"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "should parse Australian number +61412345678"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should parse Brazilian number +5511999999999"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should parse US number +14155551234"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should parse UK number +447911123456"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should default to +55 for number without + prefix"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: ["EC-F029-01"]
        status: passing

      - name: "should handle empty string input"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: ["EC-F029-02"]
        status: passing

      - name: "should handle 3-digit country code like +355 (Albania)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should import COUNTRY_CODES from lib/countryCodes"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should import getFlagForCode from lib/countryCodes"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should NOT have local COUNTRY_CODES array"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should NOT have local getFlagForCode function"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "csvUtils.ts should re-export splitPhoneNumber from countryCodes"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "csvUtils.ts should NOT have local splitPhoneNumber implementation"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "splitPhoneNumber imported from csvUtils should work correctly"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "should have Brazil (+55) as the first entry"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-04"]
        covers_ecs: []
        status: passing

      - name: "remaining entries (after Brazil) should be in alphabetical order by country name"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-04"]
        covers_ecs: []
        status: passing

      - name: "every entry should have a flag with Regional Indicator Symbol pairs"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-05"]
        covers_ecs: []
        status: passing

      - name: "getFlagForCode should return correct flag for known code"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-05"]
        covers_ecs: []
        status: passing

      - name: "getFlagForCode should return globe fallback for unknown code"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-05"]
        covers_ecs: ["EC-F029-03"]
        status: passing

  # --- F030 (CR-86): CSV Import Confirmation ---
  - phase: 3
    feature: F030
    cr: CR-86
    tests:
      - name: "handleImport should call Alert.alert with i18n keys"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-01"]
        covers_ecs: []
        status: passing

      - name: "should have separate performImport function with file picker logic"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-01"]
        covers_ecs: []
        status: passing

      - name: "en.json importConfirmMessage should mention replacing member list"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-02"]
        covers_ecs: []
        status: passing

      - name: "en.json importConfirmMessage should mention assignments not affected"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-02"]
        covers_ecs: []
        status: passing

      - name: "handleImport Alert should have Confirm button that calls performImport"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-03"]
        covers_ecs: []
        status: passing

      - name: "handleImport Alert should have Cancel button with style cancel"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-04"]
        covers_ecs: []
        status: passing

      - name: "Cancel button should be first in the buttons array (no onPress = dismiss)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-04"]
        covers_ecs: []
        status: passing

      - name: "en.json should have members.importConfirmTitle"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "en.json should have members.importConfirmMessage (non-empty)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "pt-BR.json should have members.importConfirmTitle"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "pt-BR.json should have members.importConfirmMessage (non-empty)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "es.json should have members.importConfirmTitle"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "es.json should have members.importConfirmMessage (non-empty)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "all 3 locale files should be valid JSON"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

  # --- F028 (CR-84): SearchInput Clear X Button ---
  - phase: 3
    feature: F028
    cr: CR-84
    tests:
      - name: "SearchInput should only show X when value.length > 0"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-01"]
        covers_ecs: []
        status: passing

      - name: "X button should be conditionally rendered based on value"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-01"]
        covers_ecs: []
        status: passing

      - name: "SearchInput should render Pressable for X button"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-02"]
        covers_ecs: []
        status: passing

      - name: "X button should display unicode multiplication sign"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-02"]
        covers_ecs: []
        status: passing

      - name: "X button onPress should call onChangeText with empty string"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-03"]
        covers_ecs: []
        status: passing

      - name: "TextInput should have paddingRight >= 36 to avoid text under X"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "X button text should use textSecondary color"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "X button should have hitSlop for easier touch"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "X button should have accessibilityRole button"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "clearButton should be positioned absolutely to the right"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "SearchInput should not manually re-focus TextInput when X is pressed"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-05"]
        covers_ecs: []
        status: passing

      # AC-F028-06: All 10 search fields (20 tests: import + usage for each)
      - name: "members should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "members should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "topics should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "topics should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "history should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "history should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "timezone should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "timezone should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "HymnSelector should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "HymnSelector should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "MemberSelectorModal should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "MemberSelectorModal should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "TopicSelectorModal should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "TopicSelectorModal should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "PrayerSelector should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "PrayerSelector should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "ActorSelector should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "ActorSelector should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "AgendaForm should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "AgendaForm should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      # SearchInput component structure
      - name: "should use useTheme() internally for colors (ADR-030)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "SearchInputProps should extend TextInputProps minus value and onChangeText"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "should spread additional TextInput props via rest"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 6 Phase 2: F032 (CR-87), F033 (CR-88), F034 (CR-89)
  # ---------------------------------------------------------------------------

  # --- F032 (CR-87): Swipe Action Icons ---
  - phase: 4
    feature: F032
    cr: CR-87
    tests:
      - name: "should render pencil Unicode character (U+270F) in Edit button"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should render wastebasket Unicode character (U+1F5D1) in Delete button"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT render editLabel text inside Edit button content"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT render deleteLabel text inside Delete button content"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should have handleEdit that fires onEdit callback on press"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-02"]
        covers_ecs: []
        status: passing

      - name: "should have handleEdit that closes card before calling onEdit"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-02"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete that fires onDelete callback on press"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-03"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete that closes card before calling onDelete"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-03"]
        covers_ecs: []
        status: passing

      - name: "should have accessibilityLabel on Edit button using editLabel"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should have accessibilityLabel on Delete button using deleteLabel"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT have Unicode pencil character in any accessibilityLabel"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should keep editLabel and deleteLabel in SwipeableCardProps interface"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should have actionIcon style with fontSize 20"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should have actionIcon style with textAlign center"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use styles.actionIcon for Edit button icon (not actionText)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use styles.actionIcon for Delete button icon (not actionText)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use colors.onPrimary for Edit icon color"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use #FFFFFF for Delete icon color"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use colors.primary as Edit button background"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use colors.error as Delete button background"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

  # --- F033 (CR-88): Topics Screen Explanatory Text ---
  - phase: 4
    feature: F033
    cr: CR-88
    tests:
      - name: "should render t(topics.description) text in the topics screen"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-01"]
        covers_ecs: []
        status: passing

      - name: "should render description between header and Ward Topics section"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-01"]
        covers_ecs: []
        status: passing

      - name: "should mention ward topics in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should mention activating/deactivating collections in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should mention speeches in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should mention adding/editing/deleting in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should have topics.description in en.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.description in pt-BR.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.description in es.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.noTopics in en.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.noTopics in pt-BR.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.noTopics in es.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have description style with fontSize 13"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should have description style with textAlign center"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should have description style with paddingHorizontal 16"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should have description style with marginBottom 8"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for description text color"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT have numberOfLines on description Text"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-05"]
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should have paddingHorizontal on description for safe wrapping"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-05"]
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should have same set of topics keys in all 3 locales"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-06"]
        covers_ecs: []
        status: passing

      - name: "should have all existing topics keys preserved (no removal)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-06"]
        covers_ecs: []
        status: passing

      - name: "all 3 locale files should be valid JSON"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-06"]
        covers_ecs: []
        status: passing

  # --- F034 (CR-89): Collection Topics View ---
  - phase: 4
    feature: F034
    cr: CR-89
    tests:
      - name: "should have expandedCollectionId state in TopicsScreen"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should have handleCollectionPress that toggles expandedCollectionId"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should render CollectionTopicsList when collection is expanded"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should pass collectionId to CollectionTopicsList"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should toggle expandedCollectionId to null when same collection is tapped"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-02"]
        covers_ecs: []
        status: passing

      - name: "should have useCollectionTopics hook in useTopics.ts"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should query general_topics table in useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should filter by collection_id in useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should order results by title ascending in useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should be disabled when collectionId is null"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should have collectionTopics in topicKeys"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should render topic title in collection topics list"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should render topic link when available in collection topics list"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should use primary color for topic link text"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should import ActivityIndicator from react-native"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-04"]
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should render ActivityIndicator when isLoading is true"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-04"]
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should use small size and primary color for ActivityIndicator"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-04"]
        covers_ecs: []
        status: passing

      - name: "should render t(topics.noTopics) when topics array is empty"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-05"]
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should check for empty or null topics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-05"]
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should style empty state text as italic"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-05"]
        covers_ecs: []
        status: passing

      - name: "should have Switch outside of the Pressable in CollectionRow"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: ["EC-05"]
        status: passing

      - name: "should pass onToggle to Switch onValueChange (not to Pressable)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: ["EC-05"]
        status: passing

      - name: "should pass onPress to Pressable (not to Switch)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: []
        status: passing

      - name: "should have isExpanded and onPress in CollectionRowProps"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: []
        status: passing

      - name: "should use single expandedCollectionId (not an array/set)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-07"]
        covers_ecs: []
        status: passing

      - name: "should toggle by comparing prev with collectionId"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-07"]
        covers_ecs: []
        status: passing

      - name: "should have chevron showing right-pointing triangle when collapsed"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have chevron showing down-pointing triangle when expanded"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should toggle chevron based on isExpanded prop"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have chevron style with fontSize 10 and width 16"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have collectionPressable style with flex 1 and flexDirection row"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have collection topics container with paddingLeft 32 (visual nesting)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should use textSecondary color for topic titles"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have hairlineWidth separator between topic items"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should NOT have swipe or edit buttons in collection topics (read-only)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      # Edge cases
      - name: "should use U+270F (Pencil) which is widely supported"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-01"]
        status: passing

      - name: "should use U+1F5D1 (Wastebasket) which is widely supported"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-01"]
        status: passing

      - name: "should have no numberOfLines constraint on description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should have paddingHorizontal for safe margins on small screens"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should show noTopics message when topics array is empty"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should show noTopics message when topics is null/undefined"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should show ActivityIndicator during loading"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should have loading container with paddingVertical 16"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should wrap only chevron and name in Pressable (not Switch)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-05"]
        status: passing

      # Regression tests
      - name: "should still have handleEdit function"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have handleDelete function"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have GestureDetector for pan gesture"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have animated translateX style"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have pointerEvents box-none on Animated.View"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have onReveal callback for single-reveal management"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have TopicEditor component"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have TopicRow component"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have CollectionRow component"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still import SwipeableCard"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still import SearchInput"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have search functionality"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have ward topics CRUD"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have collection toggle"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useWardTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useCollections"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useActiveTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useToggleCollection"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should export useCollectionTopics (new hook)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "topics.tsx should import useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 7 Phase 1: F035 (CR-91), F036 (CR-92), F037 (CR-93), F038 (CR-95), F039 (CR-98)
  # ---------------------------------------------------------------------------

  # --- F035 (CR-91): Fix RLS policy error on notification_queue ---
  - phase: 5
    feature: F035
    cr: CR-91
    tests:
      - name: "should have SECURITY DEFINER keyword in migration 013"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should define CREATE OR REPLACE FUNCTION enqueue_speech_notification()"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should define function as RETURNS TRIGGER"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should use plpgsql language"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should have SECURITY DEFINER after LANGUAGE plpgsql"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should have RLS enabled on notification_queue"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-02"]
        covers_ecs: []
        status: passing

      - name: "should NOT have INSERT policy for authenticated on notification_queue"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-02"]
        covers_ecs: []
        status: passing

      - name: "should handle assigned_not_invited status (Case 1: designation notification)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-01"]
        status: passing

      - name: "should handle assigned_confirmed status (Case 4: speaker_confirmed notification)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-02"]
        status: passing

      - name: "should handle gave_up status (Case 5: speaker_withdrew notification)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-03"]
        status: passing

      - name: "should handle not_assigned status (cancellation UPDATE)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-04"]
        status: passing

      - name: "should NOT contain DROP TRIGGER statement"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT contain CREATE TRIGGER statement"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-04"]
        covers_ecs: []
        status: passing

      - name: "should use CREATE OR REPLACE to update function without recreating trigger"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-04"]
        covers_ecs: []
        status: passing

      - name: "should INSERT into notification_queue for assigned_not_invited"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-01"]
        status: passing

      - name: "should INSERT into notification_queue for assigned_confirmed"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-02"]
        status: passing

      - name: "should INSERT into notification_queue for gave_up"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-03"]
        status: passing

      - name: "should UPDATE notification_queue for not_assigned (cancellation)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-04"]
        status: passing

  # --- F036 (CR-92): Fix duplicate key error in country dropdown ---
  - phase: 5
    feature: F036
    cr: CR-92
    tests:
      - name: "should use item.label as keyExtractor for country codes FlatList"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT use item.code as keyExtractor for country codes FlatList"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-01"]
        covers_ecs: []
        status: passing

      - name: "should have all unique labels in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-02"]
        covers_ecs: []
        status: passing

      - name: "should have United States with +1 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-03"]
        covers_ecs: []
        status: passing

      - name: "should have Canada with +1 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-03"]
        covers_ecs: []
        status: passing

      - name: "should have unique labels for US and Canada"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-03"]
        covers_ecs: []
        status: passing

      - name: "should have Russia with +7 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-04"]
        covers_ecs: []
        status: passing

      - name: "should have Kazakhstan with +7 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-04"]
        covers_ecs: []
        status: passing

      - name: "should have unique labels for Russia and Kazakhstan"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-04"]
        covers_ecs: []
        status: passing

      - name: "should have item.code === countryCode comparison for highlighting"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-05"]
        covers_ecs: []
        status: passing

      - name: "should apply primaryContainer background for selected item"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-05"]
        covers_ecs: []
        status: passing

      - name: "should use code-based comparison (not label-based) for highlighting"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-05"]
        covers_ecs: ["EC-F036-01"]
        status: passing

  # --- F037 (CR-93): Change deep link protocol to sacrmeetman:// ---
  - phase: 5
    feature: F037
    cr: CR-93
    tests:
      - name: "should have scheme set to sacrmeetman in app.json"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT contain wardmanager as scheme"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-01"]
        covers_ecs: []
        status: passing

      - name: "should contain sacrmeetman://invite/ in create-invitation Edge Function"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-02"]
        covers_ecs: []
        status: passing

      - name: "should NOT contain wardmanager:// in create-invitation Edge Function"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-02"]
        covers_ecs: []
        status: passing

      - name: "should have zero wardmanager:// references in src/ directory"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-03"]
        covers_ecs: []
        status: passing

      - name: "should have zero wardmanager:// references in supabase/ directory"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-03"]
        covers_ecs: []
        status: passing

      - name: "should have ios.bundleIdentifier as com.wardmanager.app"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-04"]
        covers_ecs: []
        status: passing

      - name: "should have android.package as com.wardmanager.app"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-04"]
        covers_ecs: []
        status: passing

      - name: "should only use sacrmeetman:// protocol (old links stop working by design)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-02"]
        covers_ecs: ["EC-F037-01"]
        status: passing

      - name: "should have scheme defined in app.json (works only in standalone builds)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-01"]
        covers_ecs: ["EC-F037-02"]
        status: passing

  # --- F038 (CR-95): Fix speech fields not hiding on sunday type change ---
  - phase: 5
    feature: F038
    cr: CR-95
    tests:
      - name: "should show speech slots when exception is null (default = speeches)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01"]
        covers_ecs: ["EC-F038-01"]
        status: passing

      - name: "should use condition (!exception || exception.reason === 'speeches') for speech slots"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-02", "AC-F038-03", "AC-F038-04", "AC-F038-05", "AC-F038-06", "AC-F038-07"]
        covers_ecs: []
        status: passing

      - name: "should NOT use isExcludedFromAgenda for speech slots visibility"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-02", "AC-F038-03", "AC-F038-04", "AC-F038-05", "AC-F038-06", "AC-F038-07"]
        covers_ecs: []
        status: passing

      - name: "should NOT import isExcludedFromAgenda"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-02"]
        covers_ecs: []
        status: passing

      - name: "should only render [1, 2, 3].map speech slots inside the speeches condition"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01", "AC-F038-09"]
        covers_ecs: []
        status: passing

      - name: "should render SundayTypeDropdown inside SundayCard (not conditional on type)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-08"]
        covers_ecs: []
        status: passing

      - name: "should evaluate to true when exception.reason is speeches"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-09"]
        covers_ecs: []
        status: passing

      - name: "should evaluate !exception to true when exception is null"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01"]
        covers_ecs: ["EC-F038-01"]
        status: passing

      - name: "should compute exception from sundayData.exception with null fallback"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01"]
        covers_ecs: ["EC-F038-01"]
        status: passing

      - name: "should only control visibility of speech slots (not modify speech data)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F038-02"]
        status: passing

      - name: "should import isExcludedFromAgenda in agenda.tsx"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should use isExcludedFromAgenda for expandable check in agenda.tsx"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should export isExcludedFromAgenda function from useAgenda.ts"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

  # --- F039 (CR-98): Fix prayer fields not clickable ---
  - phase: 5
    feature: F039
    cr: CR-98
    tests:
      - name: "should render PrayerSelector with visible={true} in AgendaForm"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-01"]
        covers_ecs: []
        status: passing

      - name: "should render PrayerSelector for closing_prayer using same selectorModal pattern"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-02"]
        covers_ecs: []
        status: passing

      - name: "should call onSelect and then onClose in handleSelectMember"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-03"]
        covers_ecs: []
        status: passing

      - name: "should have onClose prop that resets selectorModal in AgendaForm"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-04"]
        covers_ecs: []
        status: passing

      - name: "should call onClose in cancel button handler"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-04"]
        covers_ecs: []
        status: passing

      - name: "should call onClose in onRequestClose handler"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-04"]
        covers_ecs: []
        status: passing

      - name: "should have handleCustomName that calls onSelect with null memberId"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-05"]
        covers_ecs: []
        status: passing

      - name: "should call onClose after custom name selection"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-05"]
        covers_ecs: []
        status: passing

      - name: "should have disabled prop that prevents opening"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-06"]
        covers_ecs: []
        status: passing

      - name: "should pass disabled to Pressable"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-06"]
        covers_ecs: []
        status: passing

      - name: "should have visible prop in PrayerSelectorProps"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should have onClose prop in PrayerSelectorProps"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should have useEffect that opens modal when visible is true"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should import useEffect from React"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should have handleClear that calls onSelect(null)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-01"]
        status: passing

      - name: "should render clear button when selected and not disabled"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-01"]
        status: passing

      - name: "should use useMembers hook with search parameter"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-02"]
        status: passing

      - name: "should have SearchInput component in modal"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-02"]
        status: passing

      - name: "should reset search and customName on close"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-03"]
        status: passing

      - name: "should reset search and customName on member selection"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-03"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 7 Phase 2: F040 (CR-94), F041 (CR-96), F042 (CR-97), F043 (CR-99), F044 (CR-100)
  # ---------------------------------------------------------------------------

  # --- F040 (CR-94): Update default WhatsApp template (i18n templates) ---
  - phase: 6
    feature: F040
    cr: CR-94
    tests:
      - name: "should export DEFAULT_TEMPLATE_PT_BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-01"]
        covers_ecs: []
        status: passing

      - name: "should include {nome} placeholder in pt-BR template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-01"]
        covers_ecs: []
        status: passing

      - name: "should export DEFAULT_TEMPLATE_EN"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-02"]
        covers_ecs: []
        status: passing

      - name: "should include all 6 placeholders in en template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-02"]
        covers_ecs: []
        status: passing

      - name: "should export DEFAULT_TEMPLATE_ES"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-03"]
        covers_ecs: []
        status: passing

      - name: "should include all 6 placeholders in es template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-03"]
        covers_ecs: []
        status: passing

      - name: "should have getDefaultTemplate function"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should accept language parameter in getDefaultTemplate"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return DEFAULT_TEMPLATE_EN for en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return DEFAULT_TEMPLATE_ES for es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return DEFAULT_TEMPLATE_PT_BR as default (fallback)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

      - name: "should have language parameter in buildWhatsAppUrl with default pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should use getDefaultTemplate(language) in buildWhatsAppUrl when template is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should pass locale as 5th argument to buildWhatsAppUrl in InviteManagementSection"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should replace {nome} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {data} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {posicao} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {colecao} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {titulo} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {link} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should re-export DEFAULT_TEMPLATE_EN from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should re-export DEFAULT_TEMPLATE_ES from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should re-export getDefaultTemplate from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should continue to re-export resolveTemplate from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should continue to re-export buildWhatsAppUrl from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should use template parameter when not empty in buildWhatsAppUrl"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-01"]
        status: passing

      - name: "should have default case returning pt-BR template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

      # Functional tests
      - name: "should return pt-BR template for pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return en template for en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return es template for es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return pt-BR template for unknown language (fallback)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

      - name: "should replace all placeholders with values"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should handle empty optional fields"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should use pt-BR template when language is pt-BR and template is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should use en template when language is en and template is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should use custom template when provided, ignoring language"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-01"]
        status: passing

      - name: "should default to pt-BR when language parameter is omitted"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

  # --- F041 (CR-96): Search fields fixed at top filling available space ---
  - phase: 6
    feature: F041
    cr: CR-96
    tests:
      - name: "should have SearchInput outside FlatList in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-01"]
        covers_ecs: []
        status: passing

      - name: "should not have SearchInput inside FlatList (no ListHeaderComponent with SearchInput)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-01"]
        covers_ecs: []
        status: passing

      - name: "should have SearchInput outside ScrollView in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-02"]
        covers_ecs: []
        status: passing

      - name: "should have searchContainer with paddingHorizontal in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-03"]
        covers_ecs: []
        status: passing

      - name: "should have searchContainer with paddingHorizontal in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-03"]
        covers_ecs: []
        status: passing

      - name: "should use SearchInput component in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-04"]
        covers_ecs: []
        status: passing

      - name: "should use SearchInput component in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-04"]
        covers_ecs: []
        status: passing

      - name: "should use KeyboardAvoidingView in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-05"]
        covers_ecs: []
        status: passing

      - name: "should use KeyboardAvoidingView in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-05"]
        covers_ecs: []
        status: passing

      - name: "should not have modified MemberSelectorModal"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-06"]
        covers_ecs: []
        status: passing

      - name: "should not have modified ActorSelector layout"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-06"]
        covers_ecs: []
        status: passing

      - name: "should have ListEmptyComponent in members FlatList"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F041-01"]
        status: passing

      - name: "should have empty state in topics screen"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F041-01"]
        status: passing

      - name: "should have description text before search in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F041-02"]
        status: passing

  # --- F042 (CR-97): Multi-select for Reconhecendo a Presenca field ---
  - phase: 6
    feature: F042
    cr: CR-97
    tests:
      - name: "should have toggle logic in recognizing handler that adds actor name"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-01"]
        covers_ecs: []
        status: passing

      - name: "should spread current array and add new name"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-01"]
        covers_ecs: []
        status: passing

      - name: "should check if actor name already exists in array"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-02"]
        covers_ecs: ["EC-F042-03"]
        status: passing

      - name: "should filter out existing actor name when toggling"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-02"]
        covers_ecs: []
        status: passing

      - name: "should display recognized_names joined by comma in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-03"]
        covers_ecs: []
        status: passing

      - name: "should have selectedNames prop in ActorSelectorProps"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-04"]
        covers_ecs: []
        status: passing

      - name: "should check if actor is selected for checkmark display"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-04"]
        covers_ecs: []
        status: passing

      - name: "should render checkmark (U+2713) for selected actors"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-04"]
        covers_ecs: []
        status: passing

      - name: "should have multiSelect prop in ActorSelectorProps"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-05"]
        covers_ecs: []
        status: passing

      - name: "should not close modal when multiSelect is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-05"]
        covers_ecs: []
        status: passing

      - name: "should pass multiSelect={true} for recognizing field"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-05"]
        covers_ecs: []
        status: passing

      - name: "should have overlay pressable that closes modal in ActorSelector"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-06"]
        covers_ecs: []
        status: passing

      - name: "should have close button that closes modal in ActorSelector"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-06"]
        covers_ecs: []
        status: passing

      - name: "should call updateField with recognized_names array"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-07"]
        covers_ecs: []
        status: passing

      - name: "should set to null when array is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-07"]
        covers_ecs: ["EC-F042-02"]
        status: passing

      - name: "should join recognized_names in presentation mode"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-08"]
        covers_ecs: []
        status: passing

      - name: "should not pass multiSelect for presiding field"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-09"]
        covers_ecs: []
        status: passing

      - name: "should close modal after selecting presiding/conducting/etc"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-09"]
        covers_ecs: []
        status: passing

      - name: "should not pass selectedNames for non-recognizing fields"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-09"]
        covers_ecs: []
        status: passing

      - name: "should handle null recognized_names with fallback to empty array"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F042-01"]
        status: passing

      - name: "should set to null when updated array is empty (EC-F042-02)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F042-02"]
        status: passing

      - name: "should use exact string matching for toggle"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F042-03"]
        status: passing

  # --- F043 (CR-99): Change speech labels from Orador to Discurso ---
  - phase: 6
    feature: F043
    cr: CR-99
    tests:
      - name: "should have speeches.speaker equal to Discurso in pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT have speeches.speaker equal to Orador in pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-01"]
        covers_ecs: []
        status: passing

      - name: "should have speeches.speaker equal to Speech in en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-02"]
        covers_ecs: []
        status: passing

      - name: "should NOT have speeches.speaker equal to Speaker in en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-02"]
        covers_ecs: []
        status: passing

      - name: "should have speeches.speaker equal to Discurso in es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-03"]
        covers_ecs: []
        status: passing

      - name: "should NOT have speeches.speaker equal to Orador in es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-03"]
        covers_ecs: []
        status: passing

      - name: "should use t(speeches.speaker) in usePresentationMode for speaker labels"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-04"]
        covers_ecs: []
        status: passing

      - name: "should use t(speeches.speaker) in AgendaForm for speaker labels"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-04"]
        covers_ecs: []
        status: passing

      - name: "should have speeches.speaker used only in AgendaForm and usePresentationMode"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-05"]
        covers_ecs: []
        status: passing

      - name: "should have consistent values across all 3 locales for speeches key"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-05"]
        covers_ecs: []
        status: passing

      - name: "should use labels with ordinal + Discurso/Speech pattern in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F043-01"]
        status: passing

  # --- F044 (CR-100): Read-only speaker field with last-minute swap ---
  - phase: 6
    feature: F044
    cr: CR-100
    tests:
      - name: "should have SpeakerField component in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-01"]
        covers_ecs: []
        status: passing

      - name: "should display speakerName as read-only text"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-01"]
        covers_ecs: []
        status: passing

      - name: "should show displayName which is overrideName or speakerName"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-01"]
        covers_ecs: []
        status: passing

      - name: "should render pencil icon (U+270F) for edit"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-02"]
        covers_ecs: []
        status: passing

      - name: "should only show pencil when hasSpeaker is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-02"]
        covers_ecs: []
        status: passing

      - name: "should have isEditing state in SpeakerField"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-03"]
        covers_ecs: []
        status: passing

      - name: "should have handleStartEdit that sets isEditing to true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-03"]
        covers_ecs: []
        status: passing

      - name: "should render TextInput when isEditing is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-03"]
        covers_ecs: []
        status: passing

      - name: "should have editValue state for text input"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-04"]
        covers_ecs: []
        status: passing

      - name: "should have onChangeText that updates editValue"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-04"]
        covers_ecs: []
        status: passing

      - name: "should call onEditOverride with trimmed value on save"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-04"]
        covers_ecs: []
        status: passing

      - name: "should render X icon (U+2716) when hasOverride is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-05"]
        covers_ecs: []
        status: passing

      - name: "should compute hasOverride based on overrideName vs speakerName"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-05"]
        covers_ecs: []
        status: passing

      - name: "should only show X when hasOverride and not disabled"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-05"]
        covers_ecs: []
        status: passing

      - name: "should have handleRevert that sets override to null"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-06"]
        covers_ecs: []
        status: passing

      - name: "should set isEditing to false on revert"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-06"]
        covers_ecs: []
        status: passing

      - name: "should have migration 014 for speaker override fields"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have speaker_1_override in SundayAgenda type"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have speaker_2_override in SundayAgenda type"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have speaker_3_override in SundayAgenda type"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use updateField for speaker_1_override in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use updateField for speaker_2_override in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use updateField for speaker_3_override in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have TEXT DEFAULT NULL in migration"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have COMMENT ON COLUMN for documentation"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use speaker_1_override from agenda in buildPresentationCards"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should use speaker_2_override from agenda in buildPresentationCards"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should use speaker_3_override from agenda in buildPresentationCards"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should fallback to speech.speaker_name when override is null"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should pass disabled={isObserver} to SpeakerField"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-09"]
        covers_ecs: []
        status: passing

      - name: "should not show pencil icon when disabled"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-09"]
        covers_ecs: []
        status: passing

      - name: "should show placeholder when no speaker name"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-10"]
        covers_ecs: []
        status: passing

      - name: "should not show pencil when no speaker is assigned"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-10"]
        covers_ecs: []
        status: passing

      - name: "should read override from agenda.speaker_N_override (null clears it)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-01"]
        status: passing

      - name: "should clear override when trimmed value is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-02"]
        status: passing

      - name: "should clear override when value equals original speakerName"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-02"]
        status: passing

      - name: "should have independent SpeakerField for position 1"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-03"]
        status: passing

      - name: "should have independent SpeakerField for position 2"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-03"]
        status: passing

      - name: "should have independent SpeakerField for position 3"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-03"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 8 Phase 1: F045 (CR-101), F046 (CR-102), F047 (CR-103),
  #                   F048 (CR-104, CR-108), F049 (CR-109)
  # ---------------------------------------------------------------------------
  - phase: 7
    feature: F045
    cr: CR-101
    tests:
      - name: "should wrap LEDs section with isSpeechesType conditional"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-01"]
        covers_ecs: []
        status: passing
      - name: "should have isSpeechesType flag defined"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-01"]
        covers_ecs: []
        status: passing
      - name: "should render StatusLED components inside conditional"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-01"]
        covers_ecs: []
        status: passing
      - name: "should NOT render LEDs unconditionally (no standalone <View style={styles.leds}>)"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-02"]
        covers_ecs: []
        status: passing
      - name: "should use SundayCard component in speeches.tsx"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-03"]
        covers_ecs: []
        status: passing
      - name: "should use SundayCard component in NextSundaysSection.tsx"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-04"]
        covers_ecs: []
        status: passing
      - name: "should compute isSpeechesType from currentType which derives from exception.reason"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F045-01"]
        status: passing
      - name: "should have SUNDAY_TYPE_SPEECHES imported for comparison"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F045-02"]
        status: passing

  - phase: 7
    feature: F046
    cr: CR-102
    tests:
      - name: "should filter exceptionLabel to return null when reason is speeches"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-01"]
        covers_ecs: []
        status: passing
      - name: "should compute exceptionLabel with speeches filter"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-01"]
        covers_ecs: []
        status: passing
      - name: "should still use t() for translation of exception reason"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-02"]
        covers_ecs: []
        status: passing
      - name: "should have conditional rendering {exceptionLabel && (...)}"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-02"]
        covers_ecs: []
        status: passing
      - name: "should use fallback reason string for unrecognized types"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-03"]
        covers_ecs: []
        status: passing
      - name: "should handle null exception gracefully"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F046-01"]
        status: passing

  - phase: 7
    feature: F047
    cr: CR-103
    tests:
      - name: "should import getDefaultTemplate from whatsappUtils"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-01"]
        covers_ecs: []
        status: passing
      - name: "should call getDefaultTemplate when whatsapp_template is null"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-01"]
        covers_ecs: []
        status: passing
      - name: "should handle undefined whatsapp_template as null"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-01"]
        covers_ecs: []
        status: passing
      - name: "should set template from ward.whatsapp_template when it has value"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-02"]
        covers_ecs: []
        status: passing
      - name: "should check for empty string explicitly"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-03"]
        covers_ecs: []
        status: passing
      - name: "should set empty template for empty string"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-03"]
        covers_ecs: []
        status: passing
      - name: "should pass ward.language to getDefaultTemplate"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-04"]
        covers_ecs: []
        status: passing
      - name: "should fallback to pt-BR when language is null"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-04"]
        covers_ecs: []
        status: passing
      - name: "should include language field in ward query"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-05"]
        covers_ecs: []
        status: passing
      - name: "should use same getDefaultTemplate function as whatsappUtils"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-05"]
        covers_ecs: []
        status: passing
      - name: "should guard initialization with ward check"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F047-01"]
        status: passing
      - name: "getDefaultTemplate falls back to pt-BR for unknown language"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F047-02"]
        status: passing

  - phase: 7
    feature: F048
    cr: CR-104
    tests:
      - name: "should include collection field in handleNotInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-01"]
        covers_ecs: []
        status: passing
      - name: "should include collection field in handleInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-01"]
        covers_ecs: []
        status: passing
      - name: "should include link field in handleNotInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-02"]
        covers_ecs: []
        status: passing
      - name: "should include link field in handleInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-02"]
        covers_ecs: []
        status: passing
      - name: "should have quotes around {titulo} in pt-BR template"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-03"]
        covers_ecs: []
        status: passing
      - name: "should have quotes around {titulo} in EN template"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-03"]
        covers_ecs: []
        status: passing
      - name: "should have quotes around {titulo} in ES template"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-03"]
        covers_ecs: []
        status: passing
      - name: "should use formatDateHumanReadable instead of formatDate for WhatsApp date"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "should import formatDateHumanReadable from dateUtils"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "formatDateHumanReadable returns correct pt-BR format"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "formatDateHumanReadable returns correct en format"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-05"]
        covers_ecs: []
        status: passing
      - name: "formatDateHumanReadable returns correct es format"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-06"]
        covers_ecs: []
        status: passing
      - name: "should use ?? empty string for collection"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-07"]
        covers_ecs: ["EC-F048-01"]
        status: passing
      - name: "should use ?? empty string for link"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-07"]
        covers_ecs: ["EC-F048-02"]
        status: passing
      - name: "resolveTemplate cleans whitespace from empty placeholders"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-07"]
        covers_ecs: []
        status: passing
      - name: "should have quotes in pt-BR template source code"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-08"]
        covers_ecs: []
        status: passing
      - name: "should have quotes in EN template source code"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-08"]
        covers_ecs: []
        status: passing
      - name: "should have quotes in ES template source code"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-08"]
        covers_ecs: []
        status: passing
      - name: "resolveTemplate handles empty collection gracefully"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F048-01"]
        status: passing
      - name: "resolveTemplate handles empty link gracefully"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F048-02"]
        status: passing
      - name: "resolveTemplate renders empty quotes for empty title"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F048-03"]
        status: passing

  - phase: 7
    feature: F049
    cr: CR-109
    tests:
      - name: "should check for speeches reason in condition"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-01"]
        covers_ecs: []
        status: passing
      - name: "should allow SpeechSlots when exception reason is speeches"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-01"]
        covers_ecs: []
        status: passing
      - name: "should block SpeechSlots when exception reason is not speeches"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-02"]
        covers_ecs: []
        status: passing
      - name: "should use same pattern as speeches.tsx"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-03"]
        covers_ecs: []
        status: passing
      - name: "should handle null exception with !entry.exception check"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F049-01"]
        status: passing
      - name: "should render SpeechSlot components for each position"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F049-02"]
        status: passing
      - name: "should use SpeechSlot import"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F049-02"]
        status: passing

  - phase: 7
    feature: "F045-F049"
    cr: "Cross-cutting"
    tests:
      - name: "resolves pt-BR template with all variables including quotes"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: integration
        covers_acs: ["AC-F048-03", "AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "resolves EN template with all variables including quotes"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: integration
        covers_acs: ["AC-F048-03", "AC-F048-05"]
        covers_ecs: []
        status: passing
      - name: "resolves ES template with all variables including quotes"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: integration
        covers_acs: ["AC-F048-03", "AC-F048-06"]
        covers_ecs: []
        status: passing
      - name: "formats March date in pt-BR"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "formats December date in en"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-05"]
        covers_ecs: []
        status: passing
      - name: "formats January date in es"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-06"]
        covers_ecs: []
        status: passing

coverage:
  acceptance_criteria:
    # CR-80 / F026 ACs
    - id: AC-1
      covered: true
      tests:
        - "should render members.description text in the screen"
        - "should render description below the header and before searchContainer"
        - "should use colors.textSecondary for description"
        - "should define description style with fontSize 13"
        - "should define description style with textAlign center"
        - "should define description style with paddingHorizontal 16"
        - "should define description style with marginBottom 8"
    - id: AC-2
      covered: true
      tests:
        - "should render members.csvHelp text in the screen"
        - "should render csvHelp after csvActions buttons"
        - "should use colors.textSecondary for csvHelp"
    - id: AC-3
      covered: true
      tests:
        - "should place csvHelp inside the canImport conditional block"
        - "should not render csvHelp outside any conditional block"
    - id: AC-4
      covered: true
      tests:
        - "should have members.description in pt-BR"
        - "should have members.csvHelp in pt-BR"
        - "should have non-empty members.description in pt-BR"
        - "should have non-empty members.csvHelp in pt-BR"
    - id: AC-5
      covered: true
      tests:
        - "should have members.description in en"
        - "should have members.csvHelp in en"
        - "should have non-empty members.description in en"
        - "should have non-empty members.csvHelp in en"
    - id: AC-6
      covered: true
      tests:
        - "should have members.description in es"
        - "should have members.csvHelp in es"
        - "should have non-empty members.description in es"
        - "should have non-empty members.csvHelp in es"
    - id: AC-7
      covered: true
      tests:
        - "should still have SwipeableCard import in members screen"
        - "should still render SwipeableCard in member rows"
        - "should still have CSV import handler"
        - "should still have CSV export handler"
        - "should still have search functionality"
        - "should still have add member functionality"
        - "should still have delete member functionality"
        - "should still have MemberEditor component"

    # F031 (CR-90) ACs
    - id: AC-F031-01
      covered: true
      tests:
        - "should have onDelete Pressable in SwipeableCard action buttons"
        - "should have handleDelete function that calls onDelete"
    - id: AC-F031-02
      covered: true
      tests:
        - "should pass onDelete to SwipeableCard in MemberRow"
        - "should pass onDelete to SwipeableCard in TopicRow"
    - id: AC-F031-03
      covered: true
      tests:
        - "should have pointerEvents box-none on Animated.View card content"
        - "should have inner View with backgroundColor inside Animated.View"
        - "should NOT have backgroundColor in cardContent style"
        - "should have handleDelete that closes card and calls onDelete"
    - id: AC-F031-04
      covered: true
      tests:
        - "should still have handleEdit function in SwipeableCard"
        - "should still have onPress={handleEdit} on Edit Pressable"
        - "should have handleEdit with same structure as handleDelete"

    # F027 (CR-83) ACs
    - id: AC-F027-01
      covered: true
      tests:
        - "should NOT have onBlur={handleSave} on any TextInput in MemberEditor"
    - id: AC-F027-02
      covered: true
      tests:
        - "should have Save button that calls handleSave"
        - "should have handleSave that validates full_name is not empty and calls onSave"
    - id: AC-F027-03
      covered: true
      tests:
        - "should have Cancel button that calls onCancel"
        - "should have onCancel as required prop in MemberEditorProps"
    - id: AC-F027-04
      covered: true
      tests:
        - "should have validation that trims name and returns early if empty"
    - id: AC-F027-05
      covered: true
      tests:
        - "should NOT have onBlur={handleSave} on any TextInput in TopicEditor"
    - id: AC-F027-06
      covered: true
      tests:
        - "should have Save button that calls handleSave in TopicEditor"
        - "should validate title is not empty before calling onSave"
    - id: AC-F027-07
      covered: true
      tests:
        - "should have Cancel button that calls onCancel in TopicEditor"
        - "should have onCancel as required prop in TopicEditorProps"
    - id: AC-F027-08
      covered: true
      tests:
        - "MemberEditor should render Save button with t(common.save)"
        - "MemberEditor should render Cancel button with t(common.cancel)"
        - "TopicEditor should render Save button with t(common.save)"
        - "TopicEditor should render Cancel button with t(common.cancel)"
        - "Save button should use primary color background in MemberEditor"
        - "Cancel button should use textSecondary color in MemberEditor"
        - "should have editorButtons style with flexDirection row, justifyContent flex-end, gap 8"
        - "should have editorButtons style in topics.tsx matching members.tsx"
        - "MemberRow should pass onCancel to MemberEditor in edit mode"
        - "TopicRow should pass onCancel to TopicEditor in edit mode"
        - "MembersScreen should pass onCancel to renderItem for edit mode"
        - "MembersScreen should pass onCancel to MemberEditor for adding mode"
        - "TopicsScreen should pass onCancel to TopicRow for edit mode"
        - "TopicsScreen should pass onCancel to TopicEditor for adding mode"

    # F029 (CR-85) ACs
    - id: AC-F029-01
      covered: true
      tests:
        - "should have at least 150 country code entries"
        - "every entry should have code starting with +"
        - "every entry should have a non-empty flag"
        - "every entry should have a label containing the code"
        - "USA and Canada should be separate entries with code +1"
    - id: AC-F029-02
      covered: true
      tests:
        - "should parse Australian number +61412345678"
        - "should parse Brazilian number +5511999999999"
        - "should parse US number +14155551234"
        - "should parse UK number +447911123456"
        - "should default to +55 for number without + prefix"
        - "should handle empty string input"
        - "should handle 3-digit country code like +355 (Albania)"
    - id: AC-F029-03
      covered: true
      tests:
        - "members.tsx should import COUNTRY_CODES from lib/countryCodes"
        - "members.tsx should import getFlagForCode from lib/countryCodes"
        - "members.tsx should NOT have local COUNTRY_CODES array"
        - "members.tsx should NOT have local getFlagForCode function"
        - "csvUtils.ts should re-export splitPhoneNumber from countryCodes"
        - "csvUtils.ts should NOT have local splitPhoneNumber implementation"
        - "splitPhoneNumber imported from csvUtils should work correctly"
    - id: AC-F029-04
      covered: true
      tests:
        - "should have Brazil (+55) as the first entry"
        - "remaining entries (after Brazil) should be in alphabetical order by country name"
    - id: AC-F029-05
      covered: true
      tests:
        - "every entry should have a flag with Regional Indicator Symbol pairs"
        - "getFlagForCode should return correct flag for known code"
        - "getFlagForCode should return globe fallback for unknown code"

    # F030 (CR-86) ACs
    - id: AC-F030-01
      covered: true
      tests:
        - "handleImport should call Alert.alert with i18n keys"
        - "should have separate performImport function with file picker logic"
    - id: AC-F030-02
      covered: true
      tests:
        - "en.json importConfirmMessage should mention replacing member list"
        - "en.json importConfirmMessage should mention assignments not affected"
    - id: AC-F030-03
      covered: true
      tests:
        - "handleImport Alert should have Confirm button that calls performImport"
    - id: AC-F030-04
      covered: true
      tests:
        - "handleImport Alert should have Cancel button with style cancel"
        - "Cancel button should be first in the buttons array (no onPress = dismiss)"
    - id: AC-F030-05
      covered: true
      tests:
        - "en.json should have members.importConfirmTitle"
        - "en.json should have members.importConfirmMessage (non-empty)"
        - "pt-BR.json should have members.importConfirmTitle"
        - "pt-BR.json should have members.importConfirmMessage (non-empty)"
        - "es.json should have members.importConfirmTitle"
        - "es.json should have members.importConfirmMessage (non-empty)"
        - "all 3 locale files should be valid JSON"

    # F028 (CR-84) ACs
    - id: AC-F028-01
      covered: true
      tests:
        - "SearchInput should only show X when value.length > 0"
        - "X button should be conditionally rendered based on value"
    - id: AC-F028-02
      covered: true
      tests:
        - "SearchInput should render Pressable for X button"
        - "X button should display unicode multiplication sign"
    - id: AC-F028-03
      covered: true
      tests:
        - "X button onPress should call onChangeText with empty string"
    - id: AC-F028-04
      covered: true
      tests:
        - "TextInput should have paddingRight >= 36 to avoid text under X"
        - "X button text should use textSecondary color"
        - "X button should have hitSlop for easier touch"
        - "X button should have accessibilityRole button"
        - "clearButton should be positioned absolutely to the right"
        - "should use useTheme() internally for colors (ADR-030)"
        - "SearchInputProps should extend TextInputProps minus value and onChangeText"
        - "should spread additional TextInput props via rest"
    - id: AC-F028-05
      covered: true
      tests:
        - "SearchInput should not manually re-focus TextInput when X is pressed"
    - id: AC-F028-06
      covered: true
      tests:
        - "members should import SearchInput"
        - "members should use <SearchInput in JSX"
        - "topics should import SearchInput"
        - "topics should use <SearchInput in JSX"
        - "history should import SearchInput"
        - "history should use <SearchInput in JSX"
        - "timezone should import SearchInput"
        - "timezone should use <SearchInput in JSX"
        - "HymnSelector should import SearchInput"
        - "HymnSelector should use <SearchInput in JSX"
        - "MemberSelectorModal should import SearchInput"
        - "MemberSelectorModal should use <SearchInput in JSX"
        - "TopicSelectorModal should import SearchInput"
        - "TopicSelectorModal should use <SearchInput in JSX"
        - "PrayerSelector should import SearchInput"
        - "PrayerSelector should use <SearchInput in JSX"
        - "ActorSelector should import SearchInput"
        - "ActorSelector should use <SearchInput in JSX"
        - "AgendaForm should import SearchInput"
        - "AgendaForm should use <SearchInput in JSX"

    # F032 (CR-87) ACs
    - id: AC-F032-01
      covered: true
      tests:
        - "should render pencil Unicode character (U+270F) in Edit button"
        - "should render wastebasket Unicode character (U+1F5D1) in Delete button"
        - "should NOT render editLabel text inside Edit button content"
        - "should NOT render deleteLabel text inside Delete button content"
    - id: AC-F032-02
      covered: true
      tests:
        - "should have handleEdit that fires onEdit callback on press"
        - "should have handleEdit that closes card before calling onEdit"
    - id: AC-F032-03
      covered: true
      tests:
        - "should have handleDelete that fires onDelete callback on press"
        - "should have handleDelete that closes card before calling onDelete"
    - id: AC-F032-04
      covered: true
      tests:
        - "should have accessibilityLabel on Edit button using editLabel"
        - "should have accessibilityLabel on Delete button using deleteLabel"
        - "should NOT have Unicode pencil character in any accessibilityLabel"
        - "should keep editLabel and deleteLabel in SwipeableCardProps interface"
    - id: AC-F032-05
      covered: true
      tests:
        - "should have actionIcon style with fontSize 20"
        - "should have actionIcon style with textAlign center"
        - "should use styles.actionIcon for Edit button icon (not actionText)"
        - "should use styles.actionIcon for Delete button icon (not actionText)"
        - "should use colors.onPrimary for Edit icon color"
        - "should use #FFFFFF for Delete icon color"
        - "should use colors.primary as Edit button background"
        - "should use colors.error as Delete button background"

    # F033 (CR-88) ACs
    - id: AC-F033-01
      covered: true
      tests:
        - "should render t(topics.description) text in the topics screen"
        - "should render description between header and Ward Topics section"
    - id: AC-F033-02
      covered: true
      tests:
        - "should mention ward topics in en description"
        - "should mention activating/deactivating collections in en description"
        - "should mention speeches in en description"
        - "should mention adding/editing/deleting in en description"
    - id: AC-F033-03
      covered: true
      tests:
        - "should have topics.description in en.json"
        - "should have topics.description in pt-BR.json"
        - "should have topics.description in es.json"
        - "should have topics.noTopics in en.json"
        - "should have topics.noTopics in pt-BR.json"
        - "should have topics.noTopics in es.json"
    - id: AC-F033-04
      covered: true
      tests:
        - "should have description style with fontSize 13"
        - "should have description style with textAlign center"
        - "should have description style with paddingHorizontal 16"
        - "should have description style with marginBottom 8"
        - "should use colors.textSecondary for description text color"
    - id: AC-F033-05
      covered: true
      tests:
        - "should NOT have numberOfLines on description Text"
        - "should have paddingHorizontal on description for safe wrapping"
    - id: AC-F033-06
      covered: true
      tests:
        - "should have same set of topics keys in all 3 locales"
        - "should have all existing topics keys preserved (no removal)"
        - "all 3 locale files should be valid JSON"

    # F034 (CR-89) ACs
    - id: AC-F034-01
      covered: true
      tests:
        - "should have expandedCollectionId state in TopicsScreen"
        - "should have handleCollectionPress that toggles expandedCollectionId"
        - "should render CollectionTopicsList when collection is expanded"
        - "should pass collectionId to CollectionTopicsList"
    - id: AC-F034-02
      covered: true
      tests:
        - "should toggle expandedCollectionId to null when same collection is tapped"
    - id: AC-F034-03
      covered: true
      tests:
        - "should have useCollectionTopics hook in useTopics.ts"
        - "should query general_topics table in useCollectionTopics"
        - "should filter by collection_id in useCollectionTopics"
        - "should order results by title ascending in useCollectionTopics"
        - "should be disabled when collectionId is null"
        - "should have collectionTopics in topicKeys"
        - "should render topic title in collection topics list"
        - "should render topic link when available in collection topics list"
        - "should use primary color for topic link text"
    - id: AC-F034-04
      covered: true
      tests:
        - "should import ActivityIndicator from react-native"
        - "should render ActivityIndicator when isLoading is true"
        - "should use small size and primary color for ActivityIndicator"
    - id: AC-F034-05
      covered: true
      tests:
        - "should render t(topics.noTopics) when topics array is empty"
        - "should check for empty or null topics"
        - "should style empty state text as italic"
    - id: AC-F034-06
      covered: true
      tests:
        - "should have Switch outside of the Pressable in CollectionRow"
        - "should pass onToggle to Switch onValueChange (not to Pressable)"
        - "should pass onPress to Pressable (not to Switch)"
        - "should have isExpanded and onPress in CollectionRowProps"
    - id: AC-F034-07
      covered: true
      tests:
        - "should use single expandedCollectionId (not an array/set)"
        - "should toggle by comparing prev with collectionId"
    - id: AC-F034-08
      covered: true
      tests:
        - "should have chevron showing right-pointing triangle when collapsed"
        - "should have chevron showing down-pointing triangle when expanded"
        - "should toggle chevron based on isExpanded prop"
        - "should have chevron style with fontSize 10 and width 16"
        - "should have collectionPressable style with flex 1 and flexDirection row"
        - "should have collection topics container with paddingLeft 32 (visual nesting)"
        - "should use textSecondary color for topic titles"
        - "should have hairlineWidth separator between topic items"
        - "should NOT have swipe or edit buttons in collection topics (read-only)"

    # F035 (CR-91) ACs
    - id: AC-F035-01
      covered: true
      tests:
        - "should have SECURITY DEFINER keyword in migration 013"
        - "should define CREATE OR REPLACE FUNCTION enqueue_speech_notification()"
        - "should define function as RETURNS TRIGGER"
        - "should use plpgsql language"
        - "should have SECURITY DEFINER after LANGUAGE plpgsql"
    - id: AC-F035-02
      covered: true
      tests:
        - "should have RLS enabled on notification_queue"
        - "should NOT have INSERT policy for authenticated on notification_queue"
    - id: AC-F035-03
      covered: true
      tests:
        - "should handle assigned_not_invited status (Case 1: designation notification)"
        - "should handle assigned_confirmed status (Case 4: speaker_confirmed notification)"
        - "should handle gave_up status (Case 5: speaker_withdrew notification)"
        - "should handle not_assigned status (cancellation UPDATE)"
    - id: AC-F035-04
      covered: true
      tests:
        - "should NOT contain DROP TRIGGER statement"
        - "should NOT contain CREATE TRIGGER statement"
        - "should use CREATE OR REPLACE to update function without recreating trigger"

    # F036 (CR-92) ACs
    - id: AC-F036-01
      covered: true
      tests:
        - "should use item.label as keyExtractor for country codes FlatList"
        - "should NOT use item.code as keyExtractor for country codes FlatList"
    - id: AC-F036-02
      covered: true
      tests:
        - "should have all unique labels in COUNTRY_CODES"
    - id: AC-F036-03
      covered: true
      tests:
        - "should have United States with +1 in COUNTRY_CODES"
        - "should have Canada with +1 in COUNTRY_CODES"
        - "should have unique labels for US and Canada"
    - id: AC-F036-04
      covered: true
      tests:
        - "should have Russia with +7 in COUNTRY_CODES"
        - "should have Kazakhstan with +7 in COUNTRY_CODES"
        - "should have unique labels for Russia and Kazakhstan"
    - id: AC-F036-05
      covered: true
      tests:
        - "should have item.code === countryCode comparison for highlighting"
        - "should apply primaryContainer background for selected item"

    # F037 (CR-93) ACs
    - id: AC-F037-01
      covered: true
      tests:
        - "should have scheme set to sacrmeetman in app.json"
        - "should NOT contain wardmanager as scheme"
    - id: AC-F037-02
      covered: true
      tests:
        - "should contain sacrmeetman://invite/ in create-invitation Edge Function"
        - "should NOT contain wardmanager:// in create-invitation Edge Function"
    - id: AC-F037-03
      covered: true
      tests:
        - "should have zero wardmanager:// references in src/ directory"
        - "should have zero wardmanager:// references in supabase/ directory"
    - id: AC-F037-04
      covered: true
      tests:
        - "should have ios.bundleIdentifier as com.wardmanager.app"
        - "should have android.package as com.wardmanager.app"

    # F038 (CR-95) ACs
    - id: AC-F038-01
      covered: true
      tests:
        - "should show speech slots when exception is null (default = speeches)"
        - "should only render [1, 2, 3].map speech slots inside the speeches condition"
    - id: AC-F038-02
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
        - "should NOT use isExcludedFromAgenda for speech slots visibility"
        - "should NOT import isExcludedFromAgenda"
    - id: AC-F038-03
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-04
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-05
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-06
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-07
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-08
      covered: true
      tests:
        - "should render SundayTypeDropdown inside SundayCard (not conditional on type)"
    - id: AC-F038-09
      covered: true
      tests:
        - "should evaluate to true when exception.reason is speeches"
        - "should only render [1, 2, 3].map speech slots inside the speeches condition"

    # F039 (CR-98) ACs
    - id: AC-F039-01
      covered: true
      tests:
        - "should render PrayerSelector with visible={true} in AgendaForm"
    - id: AC-F039-02
      covered: true
      tests:
        - "should render PrayerSelector for closing_prayer using same selectorModal pattern"
    - id: AC-F039-03
      covered: true
      tests:
        - "should call onSelect and then onClose in handleSelectMember"
    - id: AC-F039-04
      covered: true
      tests:
        - "should have onClose prop that resets selectorModal in AgendaForm"
        - "should call onClose in cancel button handler"
        - "should call onClose in onRequestClose handler"
    - id: AC-F039-05
      covered: true
      tests:
        - "should have handleCustomName that calls onSelect with null memberId"
        - "should call onClose after custom name selection"
    - id: AC-F039-06
      covered: true
      tests:
        - "should have disabled prop that prevents opening"
        - "should pass disabled to Pressable"
    - id: AC-F039-07
      covered: true
      tests:
        - "should have visible prop in PrayerSelectorProps"
        - "should have onClose prop in PrayerSelectorProps"
        - "should have useEffect that opens modal when visible is true"
        - "should import useEffect from React"

    # F040 (CR-94) Acceptance Criteria
    - id: AC-F040-01
      covered: true
      tests:
        - "should export DEFAULT_TEMPLATE_PT_BR"
        - "should include {nome} placeholder in pt-BR template"
    - id: AC-F040-02
      covered: true
      tests:
        - "should export DEFAULT_TEMPLATE_EN"
        - "should include all 6 placeholders in en template"
    - id: AC-F040-03
      covered: true
      tests:
        - "should export DEFAULT_TEMPLATE_ES"
        - "should include all 6 placeholders in es template"
    - id: AC-F040-04
      covered: true
      tests:
        - "should have getDefaultTemplate function"
        - "should accept language parameter in getDefaultTemplate"
        - "should return DEFAULT_TEMPLATE_EN for en"
        - "should return DEFAULT_TEMPLATE_ES for es"
        - "should return DEFAULT_TEMPLATE_PT_BR as default (fallback)"
        - "should have language parameter in buildWhatsAppUrl with default pt-BR"
        - "should use getDefaultTemplate(language) in buildWhatsAppUrl when template is empty"
        - "should pass locale as 5th argument to buildWhatsAppUrl in InviteManagementSection"
        - "should use template parameter when not empty in buildWhatsAppUrl"
        - "should return pt-BR template for pt-BR"
        - "should return en template for en"
        - "should return es template for es"
        - "should return pt-BR template for unknown language (fallback)"
        - "should use pt-BR template when language is pt-BR and template is empty"
        - "should use en template when language is en and template is empty"
        - "should use custom template when provided, ignoring language"
        - "should default to pt-BR when language parameter is omitted"
    - id: AC-F040-05
      covered: true
      tests:
        - "should replace {nome} placeholder"
        - "should replace {data} placeholder"
        - "should replace {posicao} placeholder"
        - "should replace {colecao} placeholder"
        - "should replace {titulo} placeholder"
        - "should replace {link} placeholder"
        - "should replace all placeholders with values"
        - "should handle empty optional fields"
    - id: AC-F040-06
      covered: true
      tests:
        - "should re-export DEFAULT_TEMPLATE_EN from whatsapp.ts"
        - "should re-export DEFAULT_TEMPLATE_ES from whatsapp.ts"
        - "should re-export getDefaultTemplate from whatsapp.ts"
        - "should continue to re-export resolveTemplate from whatsapp.ts"
        - "should continue to re-export buildWhatsAppUrl from whatsapp.ts"

    # F041 (CR-96) Acceptance Criteria
    - id: AC-F041-01
      covered: true
      tests:
        - "should have SearchInput outside FlatList in members.tsx"
        - "should not have SearchInput inside FlatList (no ListHeaderComponent with SearchInput)"
    - id: AC-F041-02
      covered: true
      tests:
        - "should have SearchInput outside ScrollView in topics.tsx"
    - id: AC-F041-03
      covered: true
      tests:
        - "should have searchContainer with paddingHorizontal in members.tsx"
        - "should have searchContainer with paddingHorizontal in topics.tsx"
    - id: AC-F041-04
      covered: true
      tests:
        - "should use SearchInput component in members.tsx"
        - "should use SearchInput component in topics.tsx"
    - id: AC-F041-05
      covered: true
      tests:
        - "should use KeyboardAvoidingView in members.tsx"
        - "should use KeyboardAvoidingView in topics.tsx"
    - id: AC-F041-06
      covered: true
      tests:
        - "should not have modified MemberSelectorModal"
        - "should not have modified ActorSelector layout"

    # F042 (CR-97) Acceptance Criteria
    - id: AC-F042-01
      covered: true
      tests:
        - "should have toggle logic in recognizing handler that adds actor name"
        - "should spread current array and add new name"
    - id: AC-F042-02
      covered: true
      tests:
        - "should check if actor name already exists in array"
        - "should filter out existing actor name when toggling"
    - id: AC-F042-03
      covered: true
      tests:
        - "should display recognized_names joined by comma in AgendaForm"
    - id: AC-F042-04
      covered: true
      tests:
        - "should have selectedNames prop in ActorSelectorProps"
        - "should check if actor is selected for checkmark display"
        - "should render checkmark (U+2713) for selected actors"
    - id: AC-F042-05
      covered: true
      tests:
        - "should have multiSelect prop in ActorSelectorProps"
        - "should not close modal when multiSelect is true"
        - "should pass multiSelect={true} for recognizing field"
    - id: AC-F042-06
      covered: true
      tests:
        - "should have overlay pressable that closes modal in ActorSelector"
        - "should have close button that closes modal in ActorSelector"
    - id: AC-F042-07
      covered: true
      tests:
        - "should call updateField with recognized_names array"
        - "should set to null when array is empty"
    - id: AC-F042-08
      covered: true
      tests:
        - "should join recognized_names in presentation mode"
    - id: AC-F042-09
      covered: true
      tests:
        - "should not pass multiSelect for presiding field"
        - "should close modal after selecting presiding/conducting/etc"
        - "should not pass selectedNames for non-recognizing fields"

    # F043 (CR-99) Acceptance Criteria
    - id: AC-F043-01
      covered: true
      tests:
        - "should have speeches.speaker equal to Discurso in pt-BR"
        - "should NOT have speeches.speaker equal to Orador in pt-BR"
    - id: AC-F043-02
      covered: true
      tests:
        - "should have speeches.speaker equal to Speech in en"
        - "should NOT have speeches.speaker equal to Speaker in en"
    - id: AC-F043-03
      covered: true
      tests:
        - "should have speeches.speaker equal to Discurso in es"
        - "should NOT have speeches.speaker equal to Orador in es"
    - id: AC-F043-04
      covered: true
      tests:
        - "should use t(speeches.speaker) in usePresentationMode for speaker labels"
        - "should use t(speeches.speaker) in AgendaForm for speaker labels"
    - id: AC-F043-05
      covered: true
      tests:
        - "should have speeches.speaker used only in AgendaForm and usePresentationMode"
        - "should have consistent values across all 3 locales for speeches key"

    # F044 (CR-100) Acceptance Criteria
    - id: AC-F044-01
      covered: true
      tests:
        - "should have SpeakerField component in AgendaForm"
        - "should display speakerName as read-only text"
        - "should show displayName which is overrideName or speakerName"
    - id: AC-F044-02
      covered: true
      tests:
        - "should render pencil icon (U+270F) for edit"
        - "should only show pencil when hasSpeaker is true"
    - id: AC-F044-03
      covered: true
      tests:
        - "should have isEditing state in SpeakerField"
        - "should have handleStartEdit that sets isEditing to true"
        - "should render TextInput when isEditing is true"
    - id: AC-F044-04
      covered: true
      tests:
        - "should have editValue state for text input"
        - "should have onChangeText that updates editValue"
        - "should call onEditOverride with trimmed value on save"
    - id: AC-F044-05
      covered: true
      tests:
        - "should render X icon (U+2716) when hasOverride is true"
        - "should compute hasOverride based on overrideName vs speakerName"
        - "should only show X when hasOverride and not disabled"
    - id: AC-F044-06
      covered: true
      tests:
        - "should have handleRevert that sets override to null"
        - "should set isEditing to false on revert"
    - id: AC-F044-07
      covered: true
      tests:
        - "should have migration 014 for speaker override fields"
        - "should have speaker_1_override in SundayAgenda type"
        - "should have speaker_2_override in SundayAgenda type"
        - "should have speaker_3_override in SundayAgenda type"
        - "should use updateField for speaker_1_override in AgendaForm"
        - "should use updateField for speaker_2_override in AgendaForm"
        - "should use updateField for speaker_3_override in AgendaForm"
        - "should have TEXT DEFAULT NULL in migration"
        - "should have COMMENT ON COLUMN for documentation"
    - id: AC-F044-08
      covered: true
      tests:
        - "should use speaker_1_override from agenda in buildPresentationCards"
        - "should use speaker_2_override from agenda in buildPresentationCards"
        - "should use speaker_3_override from agenda in buildPresentationCards"
        - "should fallback to speech.speaker_name when override is null"
    - id: AC-F044-09
      covered: true
      tests:
        - "should pass disabled={isObserver} to SpeakerField"
        - "should not show pencil icon when disabled"
    - id: AC-F044-10
      covered: true
      tests:
        - "should show placeholder when no speaker name"
        - "should not show pencil when no speaker is assigned"

    # F045 (CR-101) ACs
    - id: AC-F045-01
      covered: true
      tests:
        - "should wrap LEDs section with isSpeechesType conditional"
        - "should have isSpeechesType flag defined"
        - "should render StatusLED components inside conditional"
    - id: AC-F045-02
      covered: true
      tests:
        - "should NOT render LEDs unconditionally (no standalone <View style={styles.leds}>)"
    - id: AC-F045-03
      covered: true
      tests:
        - "should use SundayCard component in speeches.tsx"
    - id: AC-F045-04
      covered: true
      tests:
        - "should use SundayCard component in NextSundaysSection.tsx"

    # F046 (CR-102) ACs
    - id: AC-F046-01
      covered: true
      tests:
        - "should filter exceptionLabel to return null when reason is speeches"
        - "should compute exceptionLabel with speeches filter"
    - id: AC-F046-02
      covered: true
      tests:
        - "should still use t() for translation of exception reason"
        - "should have conditional rendering {exceptionLabel && (...)}"
    - id: AC-F046-03
      covered: true
      tests:
        - "should use fallback reason string for unrecognized types"

    # F047 (CR-103) ACs
    - id: AC-F047-01
      covered: true
      tests:
        - "should import getDefaultTemplate from whatsappUtils"
        - "should call getDefaultTemplate when whatsapp_template is null"
        - "should handle undefined whatsapp_template as null"
    - id: AC-F047-02
      covered: true
      tests:
        - "should set template from ward.whatsapp_template when it has value"
    - id: AC-F047-03
      covered: true
      tests:
        - "should check for empty string explicitly"
        - "should set empty template for empty string"
    - id: AC-F047-04
      covered: true
      tests:
        - "should pass ward.language to getDefaultTemplate"
        - "should fallback to pt-BR when language is null"
    - id: AC-F047-05
      covered: true
      tests:
        - "should include language field in ward query"
        - "should use same getDefaultTemplate function as whatsappUtils"

    # F048 (CR-104, CR-108) ACs
    - id: AC-F048-01
      covered: true
      tests:
        - "should include collection field in handleNotInvitedAction"
        - "should include collection field in handleInvitedAction"
    - id: AC-F048-02
      covered: true
      tests:
        - "should include link field in handleNotInvitedAction"
        - "should include link field in handleInvitedAction"
    - id: AC-F048-03
      covered: true
      tests:
        - "should have quotes around {titulo} in pt-BR template"
        - "should have quotes around {titulo} in EN template"
        - "should have quotes around {titulo} in ES template"
    - id: AC-F048-04
      covered: true
      tests:
        - "should use formatDateHumanReadable instead of formatDate for WhatsApp date"
        - "should import formatDateHumanReadable from dateUtils"
        - "formatDateHumanReadable returns correct pt-BR format"
    - id: AC-F048-05
      covered: true
      tests:
        - "formatDateHumanReadable returns correct en format"
    - id: AC-F048-06
      covered: true
      tests:
        - "formatDateHumanReadable returns correct es format"
    - id: AC-F048-07
      covered: true
      tests:
        - "should use ?? empty string for collection"
        - "should use ?? empty string for link"
        - "resolveTemplate cleans whitespace from empty placeholders"
    - id: AC-F048-08
      covered: true
      tests:
        - "should have quotes in pt-BR template source code"
        - "should have quotes in EN template source code"
        - "should have quotes in ES template source code"

    # F049 (CR-109) ACs
    - id: AC-F049-01
      covered: true
      tests:
        - "should check for speeches reason in condition"
        - "should allow SpeechSlots when exception reason is speeches"
    - id: AC-F049-02
      covered: true
      tests:
        - "should block SpeechSlots when exception reason is not speeches"
    - id: AC-F049-03
      covered: true
      tests:
        - "should use same pattern as speeches.tsx"

  edge_cases:
    - id: EC-1
      covered: true
      tests:
        - "should place csvHelp inside the canImport conditional block"
        - "should not render csvHelp outside any conditional block"
        - "should render description outside any conditional block (always visible)"
        - "should have exactly one occurrence of members.description (not conditional)"
    - id: EC-2
      covered: true
      tests:
        - "should have description fontSize <= 14 (appropriate for subtitle)"
        - "should have csvHelp fontSize <= 13 (smaller than description)"
        - "should not use fixed width or numberOfLines on description (allows text wrapping)"
        - "should not use fixed width on csvHelp (allows text wrapping)"
    - id: EC-3
      covered: true
      tests:
        - "should render description before the main member FlatList (not inside it)"
        - "should render csvHelp before the main member FlatList (not inside it)"
        - "should still have ListEmptyComponent for empty state"
    - id: EC-F029-01
      covered: true
      tests:
        - "should default to +55 for number without + prefix"
    - id: EC-F029-02
      covered: true
      tests:
        - "should handle empty string input"
    - id: EC-F029-03
      covered: true
      tests:
        - "getFlagForCode should return globe fallback for unknown code"
    - id: EC-B6P2-01
      covered: true
      tests:
        - "should use U+270F (Pencil) which is widely supported"
        - "should use U+1F5D1 (Wastebasket) which is widely supported"
    - id: EC-B6P2-02
      covered: true
      tests:
        - "should have no numberOfLines constraint on description"
        - "should have paddingHorizontal for safe margins on small screens"
    - id: EC-B6P2-03
      covered: true
      tests:
        - "should show noTopics message when topics array is empty"
        - "should show noTopics message when topics is null/undefined"
    - id: EC-B6P2-04
      covered: true
      tests:
        - "should show ActivityIndicator during loading"
        - "should have loading container with paddingVertical 16"
    - id: EC-B6P2-05
      covered: true
      tests:
        - "should wrap only chevron and name in Pressable (not Switch)"
    # F035 (CR-91) Edge Cases
    - id: EC-F035-01
      covered: true
      tests:
        - "should handle assigned_not_invited status (Case 1: designation notification)"
        - "should INSERT into notification_queue for assigned_not_invited"
    - id: EC-F035-02
      covered: true
      tests:
        - "should handle assigned_confirmed status (Case 4: speaker_confirmed notification)"
        - "should INSERT into notification_queue for assigned_confirmed"
    - id: EC-F035-03
      covered: true
      tests:
        - "should handle gave_up status (Case 5: speaker_withdrew notification)"
        - "should INSERT into notification_queue for gave_up"
    - id: EC-F035-04
      covered: true
      tests:
        - "should handle not_assigned status (cancellation UPDATE)"
        - "should UPDATE notification_queue for not_assigned (cancellation)"
    # F036 (CR-92) Edge Cases
    - id: EC-F036-01
      covered: true
      tests:
        - "should use code-based comparison (not label-based) for highlighting"
    # F037 (CR-93) Edge Cases
    - id: EC-F037-01
      covered: true
      tests:
        - "should only use sacrmeetman:// protocol (old links stop working by design)"
    - id: EC-F037-02
      covered: true
      tests:
        - "should have scheme defined in app.json (works only in standalone builds)"
    # F038 (CR-95) Edge Cases
    - id: EC-F038-01
      covered: true
      tests:
        - "should show speech slots when exception is null (default = speeches)"
        - "should evaluate !exception to true when exception is null"
        - "should compute exception from sundayData.exception with null fallback"
    - id: EC-F038-02
      covered: true
      tests:
        - "should only control visibility of speech slots (not modify speech data)"
    # F039 (CR-98) Edge Cases
    - id: EC-F039-01
      covered: true
      tests:
        - "should have handleClear that calls onSelect(null)"
        - "should render clear button when selected and not disabled"
    - id: EC-F039-02
      covered: true
      tests:
        - "should use useMembers hook with search parameter"
        - "should have SearchInput component in modal"
    - id: EC-F039-03
      covered: true
      tests:
        - "should reset search and customName on close"
        - "should reset search and customName on member selection"
    # F040 (CR-94) Edge Cases
    - id: EC-F040-01
      covered: true
      tests:
        - "should use template parameter when not empty in buildWhatsAppUrl"
        - "should use custom template when provided, ignoring language"
    - id: EC-F040-02
      covered: true
      tests:
        - "should have default case returning pt-BR template"
        - "should return DEFAULT_TEMPLATE_PT_BR as default (fallback)"
        - "should return pt-BR template for unknown language (fallback)"
        - "should default to pt-BR when language parameter is omitted"
    # F041 (CR-96) Edge Cases
    - id: EC-F041-01
      covered: true
      tests:
        - "should have ListEmptyComponent in members FlatList"
        - "should have empty state in topics screen"
    - id: EC-F041-02
      covered: true
      tests:
        - "should have description text before search in topics.tsx"
    # F042 (CR-97) Edge Cases
    - id: EC-F042-01
      covered: true
      tests:
        - "should handle null recognized_names with fallback to empty array"
    - id: EC-F042-02
      covered: true
      tests:
        - "should set to null when array is empty"
        - "should set to null when updated array is empty (EC-F042-02)"
    - id: EC-F042-03
      covered: true
      tests:
        - "should check if actor name already exists in array"
        - "should use exact string matching for toggle"
    # F043 (CR-99) Edge Cases
    - id: EC-F043-01
      covered: true
      tests:
        - "should use labels with ordinal + Discurso/Speech pattern in AgendaForm"
    # F044 (CR-100) Edge Cases
    - id: EC-F044-01
      covered: true
      tests:
        - "should read override from agenda.speaker_N_override (null clears it)"
    - id: EC-F044-02
      covered: true
      tests:
        - "should clear override when trimmed value is empty"
        - "should clear override when value equals original speakerName"
    - id: EC-F044-03
      covered: true
      tests:
        - "should have independent SpeakerField for position 1"
        - "should have independent SpeakerField for position 2"
        - "should have independent SpeakerField for position 3"

    # F045 (CR-101) Edge Cases
    - id: EC-F045-01
      covered: true
      tests:
        - "should compute isSpeechesType from currentType which derives from exception.reason"
    - id: EC-F045-02
      covered: true
      tests:
        - "should have SUNDAY_TYPE_SPEECHES imported for comparison"

    # F046 (CR-102) Edge Cases
    - id: EC-F046-01
      covered: true
      tests:
        - "should handle null exception gracefully"

    # F047 (CR-103) Edge Cases
    - id: EC-F047-01
      covered: true
      tests:
        - "should guard initialization with ward check"
    - id: EC-F047-02
      covered: true
      tests:
        - "getDefaultTemplate falls back to pt-BR for unknown language"

    # F048 (CR-104, CR-108) Edge Cases
    - id: EC-F048-01
      covered: true
      tests:
        - "should use ?? empty string for collection"
        - "resolveTemplate handles empty collection gracefully"
    - id: EC-F048-02
      covered: true
      tests:
        - "should use ?? empty string for link"
        - "resolveTemplate handles empty link gracefully"
    - id: EC-F048-03
      covered: true
      tests:
        - "resolveTemplate renders empty quotes for empty title"

    # F049 (CR-109) Edge Cases
    - id: EC-F049-01
      covered: true
      tests:
        - "should handle null exception with !entry.exception check"
    - id: EC-F049-02
      covered: true
      tests:
        - "should render SpeechSlot components for each position"
        - "should use SpeechSlot import"

  # ---------------------------------------------------------------------------
  # F050 (CR-105): Replace text buttons with icons in invite management
  # ---------------------------------------------------------------------------
  - phase: 8
    feature: F050
    cr: CR-105
    tests:
      - name: "should import Svg and Path from react-native-svg"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-01"]
        status: passing

      - name: "should define WhatsAppIcon component"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-01"]
        status: passing

      - name: "should render WhatsAppIcon for isNotInvited button"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-01"]
        status: passing

      - name: "should NOT render text WhatsApp in button"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-01"]
        status: passing

      - name: "should render Unicode U+22EE for non-isNotInvited button"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-02"]
        status: passing

      - name: "should use actionIcon style instead of text content"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-02"]
        status: passing

      - name: "should call handleNotInvitedAction for isNotInvited"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-03"]
        status: passing

      - name: "should call handleInvitedAction for not isNotInvited"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-04"]
        status: passing

      - name: "should have accessibilityLabel for WhatsApp button"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-05"]
        status: passing

      - name: "should have accessibilityLabel for changeStatus button"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F050-05"]
        status: passing

      - name: "should use colors.onPrimary for WhatsApp icon color"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F050-01"]
        status: passing

      - name: "should have fixed width and height for icon button"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F050-02"]
        status: passing

      - name: "should have justifyContent and alignItems center"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F050-02"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F050-01
        covered: true
      - ac: AC-F050-02
        covered: true
      - ac: AC-F050-03
        covered: true
      - ac: AC-F050-04
        covered: true
      - ac: AC-F050-05
        covered: true

  # ---------------------------------------------------------------------------
  # F051 (CR-106): Replace Alert with custom dropdown for status actions
  # ---------------------------------------------------------------------------
  - phase: 8
    feature: F051
    cr: CR-106
    tests:
      - name: "should NOT import Alert from react-native"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-01"]
        status: passing

      - name: "should set dropdownSpeech state instead of Alert"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-01"]
        status: passing

      - name: "should use viewConversation i18n key"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-02"]
        status: passing

      - name: "should have WhatsAppIcon in dropdown"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-02"]
        status: passing

      - name: "i18n key exists in pt-BR"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F051-02"]
        status: passing

      - name: "i18n key exists in en"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F051-02"]
        status: passing

      - name: "i18n key exists in es"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F051-02"]
        status: passing

      - name: "should render assigned_confirmed option"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-03"]
        status: passing

      - name: "should use STATUS_INDICATOR_COLORS.assigned_confirmed"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-03"]
        status: passing

      - name: "should render assigned_not_invited option"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-04"]
        status: passing

      - name: "assigned_invited -> assigned_not_invited is valid transition"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F051-04"]
        status: passing

      - name: "getAvailableStatuses includes assigned_not_invited for assigned_invited"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F051-04"]
        status: passing

      - name: "should render gave_up option"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-05"]
        status: passing

      - name: "should render cancel option with onClose"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-06"]
        status: passing

      - name: "should use Modal from react-native"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-07"]
        status: passing

      - name: "should have transparent overlay"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-07"]
        status: passing

      - name: "should have borderRadius 12"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-07"]
        status: passing

      - name: "should display speech.speaker_name"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-08"]
        status: passing

      - name: "should check for speaker_phone"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F051-01"]
        status: passing

      - name: "should disable option when no phone"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F051-01"]
        status: passing

      - name: "should apply disabled opacity style"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F051-01"]
        status: passing

      - name: "should have overlay Pressable with onPress onClose"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F051-02"]
        status: passing

      - name: "should use useTheme for colors"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F051-03"]
        status: passing

      - name: "should import InviteActionDropdown"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-01"]
        status: passing

      - name: "should have dropdownSpeech state"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-01"]
        status: passing

      - name: "should render InviteActionDropdown conditionally"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-07"]
        status: passing

      - name: "should have handleDropdownWhatsApp callback"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-02"]
        status: passing

      - name: "should have handleDropdownStatusChange callback"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-01"]
        status: passing

      - name: "should close dropdown after action"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F051-06"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F051-01
        covered: true
      - ac: AC-F051-02
        covered: true
      - ac: AC-F051-03
        covered: true
      - ac: AC-F051-04
        covered: true
      - ac: AC-F051-05
        covered: true
      - ac: AC-F051-06
        covered: true
      - ac: AC-F051-07
        covered: true
      - ac: AC-F051-08
        covered: true

  # ---------------------------------------------------------------------------
  # F052 (CR-107): Enhanced second line in invite row
  # ---------------------------------------------------------------------------
  - phase: 8
    feature: F052
    cr: CR-107
    tests:
      - name: "should use t(speeches.slot) for label"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F052-01"]
        status: passing

      - name: "should use ordinal position format"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F052-01"]
        status: passing

      - name: "should import StatusLED"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F052-02"]
        status: passing

      - name: "should render StatusLED with size 10"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F052-02", "AC-F052-05"]
        status: passing

      - name: "should render translated status name"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F052-03"]
        status: passing

      - name: "should have separator between slot label and LED"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F052-04"]
        status: passing

      - name: "should have speechInfoRow with row layout"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F052-04"]
        status: passing

      - name: "should have numberOfLines 1 on status name"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F052-01"]
        status: passing

      - name: "StatusLED supports inline rendering via size prop"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F052-02"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F052-01
        covered: true
      - ac: AC-F052-02
        covered: true
      - ac: AC-F052-03
        covered: true
      - ac: AC-F052-04
        covered: true
      - ac: AC-F052-05
        covered: true

  # ---------------------------------------------------------------------------
  # F053 (CR-110): Bishopric sees invite management section
  # ---------------------------------------------------------------------------
  - phase: 8
    feature: F053
    cr: CR-110
    tests:
      - name: "hasPermission bishopric home:invite_mgmt returns true"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F053-01"]
        status: passing

      - name: "permissions.ts includes home:invite_mgmt for bishopric"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F053-01"]
        status: passing

      - name: "guard uses hasPermission which now includes bishopric"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F053-02"]
        status: passing

      - name: "secretary retains home:invite_mgmt permission"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F053-03"]
        status: passing

      - name: "observer does not have home:invite_mgmt"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F053-04"]
        status: passing

      - name: "bishopric has home:next_assignments"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F053-05"]
        status: passing

      - name: "should mention Secretary and Bishopric in docstring"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F053-01"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F053-01
        covered: true
      - ac: AC-F053-02
        covered: true
      - ac: AC-F053-03
        covered: true
      - ac: AC-F053-04
        covered: true
      - ac: AC-F053-05
        covered: true

  # ---------------------------------------------------------------------------
  # F054 (CR-111): SpeechSlot spacing and X size
  # ---------------------------------------------------------------------------
  - phase: 8
    feature: F054
    cr: CR-111
    tests:
      - name: "should have gap 12 in row style"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F054-01"]
        status: passing

      - name: "should NOT have gap 8 in row style"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F054-01"]
        status: passing

      - name: "should have fontSize 24 in removeButton style"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F054-02"]
        status: passing

      - name: "should NOT have fontSize 20 in removeButton style"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F054-02"]
        status: passing

      - name: "should have hitSlop 8 on remove button"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F054-03"]
        status: passing

      - name: "field has flex 1 for truncation"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F054-04"]
        status: passing

      - name: "speaker text has numberOfLines 1"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["AC-F054-04"]
        status: passing

      - name: "fieldText has flex 1 for text truncation"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F054-01"]
        status: passing

      - name: "remove button conditional on hasSpeaker and canUnassign"
        file: "src/__tests__/batch8-phase2.test.ts"
        type: structural
        covers_acs: ["EC-F054-02"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F054-01
        covered: true
      - ac: AC-F054-02
        covered: true
      - ac: AC-F054-03
        covered: true
      - ac: AC-F054-04
        covered: true

  # ---------------------------------------------------------------------------
  # CR-112 / F055: View WhatsApp conversation without resending invite
  # ---------------------------------------------------------------------------
  - phase: 9
    feature: F055
    cr: CR-112
    tests:
      - name: "should have handleDropdownWhatsApp that calls buildWhatsAppConversationUrl"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F055-01"]
        status: passing

      - name: "should import buildWhatsAppConversationUrl"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F055-01"]
        status: passing

      - name: "should return URL without ?text= for standard phone number"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F055-02"]
        status: passing

      - name: "should strip + from phone number"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F055-02"]
        status: passing

      - name: "should handle phone number without + prefix"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F055-02"]
        status: passing

      - name: "should have handleNotInvitedAction that uses buildWhatsAppUrl (with message)"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F055-03"]
        status: passing

      - name: "buildWhatsAppUrl should still return URL with ?text= parameter"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F055-03"]
        status: passing

      - name: "should have disabled={!hasPhone} on View Conversation option"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F055-04"]
        status: passing

      - name: "should have reduced opacity style for disabled option"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F055-04"]
        status: passing

      - name: "should check speech.speaker_phone existence for hasPhone"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F055-04"]
        status: passing

      - name: "should remove spaces from phone number"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F055-01"]
        status: passing

      - name: "should remove dashes from phone number"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F055-01"]
        status: passing

      - name: "should remove parentheses from phone number"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F055-01"]
        status: passing

      - name: "should handle mixed special characters"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F055-01"]
        status: passing

      - name: "should have openWhatsApp with error handling via Alert"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F055-02"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F055-01
        covered: true
      - ac: AC-F055-02
        covered: true
      - ac: AC-F055-03
        covered: true
      - ac: AC-F055-04
        covered: true

  # ---------------------------------------------------------------------------
  # CR-113 / F056: InviteActionDropdown title i18n
  # ---------------------------------------------------------------------------
  - phase: 9
    feature: F056
    cr: CR-113
    tests:
      - name: "should use t('speeches.changeStatus') for title"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F056-01"]
        status: passing

      - name: "should NOT use speech?.speaker_name as title"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F056-01"]
        status: passing

      - name: "pt-BR locale should have speeches.changeStatus = 'Alterar status'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F056-01"]
        status: passing

      - name: "en locale should have speeches.changeStatus = 'Change status'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F056-02"]
        status: passing

      - name: "es locale should have speeches.changeStatus = 'Cambiar estado'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F056-03"]
        status: passing

      - name: "title should not depend on speech object"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F056-01"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F056-01
        covered: true
      - ac: AC-F056-02
        covered: true
      - ac: AC-F056-03
        covered: true

  # ---------------------------------------------------------------------------
  # CR-117 / F057: Fix +1 country code showing Canada instead of USA
  # ---------------------------------------------------------------------------
  - phase: 9
    feature: F057
    cr: CR-117
    tests:
      - name: "getFlagForCode('+1') should return US flag emoji"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-01"]
        status: passing

      - name: "USA should appear before Canada in COUNTRY_CODES"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-01"]
        status: passing

      - name: "should have countryLabel state in MemberEditor"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F057-02"]
        status: passing

      - name: "should compare by item.label === countryLabel for highlight"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F057-02"]
        status: passing

      - name: "should NOT compare by item.code === countryCode for highlight"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F057-02"]
        status: passing

      - name: "should update both countryCode and countryLabel on selection"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F057-03"]
        status: passing

      - name: "Canada should still exist in COUNTRY_CODES"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-03"]
        status: passing

      - name: "Kazakhstan and Russia should both exist with code +7"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-04"]
        status: passing

      - name: "getCountryByLabel should distinguish Kazakhstan and Russia"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-04"]
        status: passing

      - name: "countryLabel should initialize from member.country_code"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F057-01"]
        status: passing

      - name: "splitPhoneNumber should still work with +1"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F057-02"]
        status: passing

      - name: "splitPhoneNumber should still work with +7"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F057-02"]
        status: passing

      - name: "splitPhoneNumber should still work with +55"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F057-02"]
        status: passing

      - name: "should return USA entry for 'United States (+1)'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-01"]
        status: passing

      - name: "should return Canada entry for 'Canada (+1)'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-03"]
        status: passing

      - name: "should return undefined for non-existent label"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F057-04"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F057-01
        covered: true
      - ac: AC-F057-02
        covered: true
      - ac: AC-F057-03
        covered: true
      - ac: AC-F057-04
        covered: true

  # ---------------------------------------------------------------------------
  # CR-122 / F058: Change 3rd speech label to Ultimo Discurso
  # ---------------------------------------------------------------------------
  - phase: 9
    feature: F058
    cr: CR-122
    tests:
      - name: "SpeechSlot getPositionLabel should return t('speeches.lastSpeech') for position 3"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-01"]
        status: passing

      - name: "pt-BR locale should have speeches.lastSpeech = 'Ultimo Discurso'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F058-01"]
        status: passing

      - name: "en locale should have speeches.lastSpeech = 'Final Speech'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F058-02"]
        status: passing

      - name: "es locale should have speeches.lastSpeech = 'Ultimo Discurso'"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F058-03"]
        status: passing

      - name: "should use t('speeches.lastSpeech') for 3rd speaker label"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-04"]
        status: passing

      - name: "should NOT use 3BA ordinal for 3rd speaker label"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-04"]
        status: passing

      - name: "AgendaForm section header should use t('agenda.sectionLastSpeech')"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-04"]
        status: passing

      - name: "should use t('speeches.lastSpeech') for speech.position === 3"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-05"]
        status: passing

      - name: "should use conditional: position 3 uses lastSpeech, others use ordinal"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-05"]
        status: passing

      - name: "SpeechSlot should use ordinal format for positions other than 3"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-06"]
        status: passing

      - name: "AgendaForm should use ordinal for 1st and 2nd speakers"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F058-06"]
        status: passing

      - name: "usePresentationMode should use t('speeches.lastSpeech') for 3rd speaker label"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F058-01"]
        status: passing

      - name: "usePresentationMode should use ordinal for 1st and 2nd speakers"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F058-01"]
        status: passing

      - name: "usePresentationMode 3rd speaker label should NOT use ordinal"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F058-01"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F058-01
        covered: true
      - ac: AC-F058-02
        covered: true
      - ac: AC-F058-03
        covered: true
      - ac: AC-F058-04
        covered: true
      - ac: AC-F058-05
        covered: true
      - ac: AC-F058-06
        covered: true

  # ---------------------------------------------------------------------------
  # CR-125 / F059: Fix closing prayer field visual duplication
  # ---------------------------------------------------------------------------
  - phase: 9
    feature: F059
    cr: CR-125
    tests:
      - name: "AgendaForm should pass modalOnly={true} to PrayerSelector"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-01"]
        status: passing

      - name: "PrayerSelector with modalOnly should be rendered in prayer selectorModal section"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-01"]
        status: passing

      - name: "PrayerSelector should conditionally hide inline Pressable with modalOnly"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-02"]
        status: passing

      - name: "AgendaForm renders both opening and closing prayer through same selectorModal pattern"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-03"]
        status: passing

      - name: "PrayerSelector should have handleSelectMember callback"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-04"]
        status: passing

      - name: "Modal should still render member FlatList"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-04"]
        status: passing

      - name: "PrayerSelector should have handleCustomName callback"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-05"]
        status: passing

      - name: "Modal should have custom name option"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-05"]
        status: passing

      - name: "modalOnly should default to false"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-06"]
        status: passing

      - name: "inline Pressable should render when modalOnly is false/not set"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-06"]
        status: passing

      - name: "PrayerSelectorProps should include modalOnly as optional boolean"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: ["AC-F059-06"]
        status: passing

      - name: "PrayerSelector should reset search and customName on close"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F059-01"]
        status: passing

      - name: "AgendaForm should have selectorModal state with field info"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F059-02"]
        status: passing

      - name: "PrayerSelector placeholder should reflect which prayer field is active"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: structural
        covers_acs: []
        covers_ecs: ["EC-F059-02"]
        status: passing

    acceptance_criteria_coverage:
      - ac: AC-F059-01
        covered: true
      - ac: AC-F059-02
        covered: true
      - ac: AC-F059-03
        covered: true
      - ac: AC-F059-04
        covered: true
      - ac: AC-F059-05
        covered: true
      - ac: AC-F059-06
        covered: true

  # ---------------------------------------------------------------------------
  # Cross-feature: i18n key consistency (Batch 9 Phase 1)
  # ---------------------------------------------------------------------------
  - phase: 9
    feature: cross
    cr: cross
    tests:
      - name: "all 3 locales should have matching speeches keys"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        status: passing

      - name: "all locale files should be valid JSON"
        file: "src/__tests__/batch9-phase1.test.ts"
        type: unit
        covers_acs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-114 / F060: Add X button to remove topic assignment
  # ---------------------------------------------------------------------------
  - phase: 10
    feature: F060
    cr: CR-114
    tests:
      - name: "should render X button (U+00D7) in topic field when topicDisplay exists and canAssign"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-01"]
        status: passing

      - name: "should have X button inside topicField Pressable"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-01"]
        status: passing

      - name: "X button should be between topic text and dropdown arrow"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-01"]
        status: passing

      - name: "should have handleClearTopic callback that calls onClearTopic"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-02"]
        status: passing

      - name: "speeches.tsx should wire onClearTopic with assignTopic.mutate setting null"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-02"]
        status: passing

      - name: "NextSundaysSection should wire onClearTopic with assignTopic.mutate setting null"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-02"]
        status: passing

      - name: "X button rendering condition includes canAssign"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-03"]
        status: passing

      - name: "canAssign is based on speech:assign permission"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-03"]
        status: passing

      - name: "topicDisplay is null when topic_title is null"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-04"]
        status: passing

      - name: "X button condition requires topicDisplay to be truthy"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-04"]
        status: passing

      - name: "topic field Pressable calls handleTopicPress"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-05"]
        status: passing

      - name: "handleTopicPress calls onOpenTopicSelector"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-05"]
        status: passing

      - name: "handleClearTopic does NOT call Alert.alert"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-06"]
        status: passing

      - name: "handleClearTopic does NOT check speaker_name"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F060-01"]
        status: passing

      - name: "handleClearTopic does NOT check speech status"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F060-02"]
        status: passing

      - name: "SpeechSlotProps should include onClearTopic optional prop"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-01"]
        status: passing

      - name: "onClearTopic should be destructured in component"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F060-01"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-115 / F061: Confirmation dialog on sunday type change
  # ---------------------------------------------------------------------------
  - phase: 10
    feature: F061
    cr: CR-115
    tests:
      - name: "should call Alert.alert in handleSelect when changing from speeches with assignments"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-01"]
        status: passing

      - name: "should check for speaker_name OR topic_title to determine assignments"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-01"]
        status: passing

      - name: "should use speeches.some() to check for assignments"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-01"]
        status: passing

      - name: "confirmation is conditional on hasAssignments being true"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-02"]
        status: passing

      - name: "Alert.alert has Cancel button with style cancel"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-03"]
        status: passing

      - name: "Alert.alert has Confirm button with destructive style"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-04"]
        status: passing

      - name: "Confirm button onPress calls onSelect or opens other modal"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-04"]
        status: passing

      - name: "handleSelect returns early for SUNDAY_TYPE_SPEECHES without Alert"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-05"]
        status: passing

      - name: "SundayTypeDropdownProps includes speeches: Speech[]"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-06"]
        status: passing

      - name: "SundayCard passes speeches prop to SundayTypeDropdown"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-06"]
        status: passing

      - name: "pt-BR has changeConfirmTitle"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-07"]
        status: passing

      - name: "pt-BR has changeConfirmMessage"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-07"]
        status: passing

      - name: "en has changeConfirmTitle"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-07"]
        status: passing

      - name: "en has changeConfirmMessage"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-07"]
        status: passing

      - name: "es has changeConfirmTitle"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-07"]
        status: passing

      - name: "es has changeConfirmMessage"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F061-07"]
        status: passing

      - name: "hasAssignments checks both speaker_name and topic_title with OR"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F061-01"]
        status: passing

      - name: "confirmation onPress handles other type by opening otherModal"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F061-02"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-116 / F062: LED click shows confirmed and gave_up options directly
  # ---------------------------------------------------------------------------
  - phase: 10
    feature: F062
    cr: CR-116
    tests:
      - name: "ledAllowedStatuses is set for assigned_invited"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-01"]
        status: passing

      - name: "ledAllowedStatuses contains exactly assigned_confirmed and gave_up"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-01"]
        status: passing

      - name: "StatusChangeModal receives allowedStatuses prop"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-01"]
        status: passing

      - name: "ledAllowedStatuses is undefined for non-assigned_invited status"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-02"]
        status: passing

      - name: "assigned_not_invited has correct transitions in VALID_TRANSITIONS"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-02"]
        status: passing

      - name: "assigned_confirmed has correct transition"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-03"]
        status: passing

      - name: "StatusChangeModal uses speechStatus.{status} for labels"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-04"]
        status: passing

      - name: "pt-BR has speechStatus.assigned_confirmed"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-04"]
        status: passing

      - name: "pt-BR has speechStatus.gave_up"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-04"]
        status: passing

      - name: "LED disabled condition includes status not_assigned"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-05"]
        status: passing

      - name: "allowedStatuses is optional in StatusChangeModalProps"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-06"]
        status: passing

      - name: "when allowedStatuses undefined, filtered equals availableStatuses"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-06"]
        status: passing

      - name: "FlatList uses filtered (not raw availableStatuses)"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-06"]
        status: passing

      - name: "assigned_invited has 4 available statuses by default"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-06"]
        status: passing

      - name: "filtering assigned_invited to [assigned_confirmed, gave_up] yields 2 results"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F062-06"]
        status: passing

      - name: "gave_up has only not_assigned as transition"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F062-01"]
        status: passing

      - name: "ledAllowedStatuses is undefined for gave_up (no filtering)"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F062-01"]
        status: passing

      - name: "StatusChangeModal onSelect callback passes selected status"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F062-02"]
        status: passing

      - name: "assigned_confirmed is a valid transition from assigned_invited"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F062-02"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-119 / F063: Redesign speech cards layout (LED left, X right)
  # ---------------------------------------------------------------------------
  - phase: 10
    feature: F063
    cr: CR-119
    tests:
      - name: "StatusLED appears before speaker field inside styles.row"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-01"]
        status: passing

      - name: "row contains LED comment before speaker comment"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-01"]
        status: passing

      - name: "Remove button appears after speaker field in row"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-02"]
        status: passing

      - name: "field style has flex: 1"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-03"]
        status: passing

      - name: "topicField has marginLeft: 28"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-04"]
        status: passing

      - name: "marginLeft 28 = LED size 16 + gap 12"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-04"]
        status: passing

      - name: "speeches.tsx renders SpeechSlot for positions 1, 2, 3"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-05"]
        status: passing

      - name: "SpeechSlot is a single component (not separate per position)"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-05"]
        status: passing

      - name: "StatusLED has onPress={handleStatusPress}"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-06"]
        status: passing

      - name: "handleStatusPress opens StatusChangeModal"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-06"]
        status: passing

      - name: "X button conditional includes canUnassign"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-07"]
        status: passing

      - name: "canUnassign is based on speech:unassign permission"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F063-07"]
        status: passing

      - name: "LED still renders when no speaker (status not_assigned)"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F063-01"]
        status: passing

      - name: "speaker field text has numberOfLines={1} for truncation"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F063-02"]
        status: passing

      - name: "fieldText has flex: 1"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F063-02"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-121 / F064: "(Last-minute assignment)" label in agenda
  # ---------------------------------------------------------------------------
  - phase: 10
    feature: F064
    cr: CR-121
    tests:
      - name: "lastMinuteAssignment label rendered when hasOverride and not editing"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-01"]
        status: passing

      - name: "label uses lastMinuteLabel style"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-01"]
        status: passing

      - name: "hasOverride is false when overrideName is null"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-02"]
        status: passing

      - name: "handleRevert calls onEditOverride(null)"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-03"]
        status: passing

      - name: "pt-BR has agenda.lastMinuteAssignment"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-04"]
        status: passing

      - name: "en has agenda.lastMinuteAssignment = (Last-minute assignment)"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-05"]
        status: passing

      - name: "es has agenda.lastMinuteAssignment"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-06"]
        status: passing

      - name: "lastMinuteLabel has fontSize 11"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-07"]
        status: passing

      - name: "lastMinuteLabel has fontStyle italic"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-07"]
        status: passing

      - name: "label uses textTertiary color"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-07"]
        status: passing

      - name: "label condition includes !isEditing"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: ["AC-F064-08"]
        status: passing

      - name: "hasOverride is false when overrideName equals speakerName"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F064-01"]
        status: passing

      - name: "handleSave clears override when trimmed equals speakerName"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F064-01"]
        status: passing

      - name: "handleSave clears override when input is empty"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F064-02"]
        status: passing

      - name: "lastMinuteLabel style is only in AgendaForm, not PresentationMode"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F064-03"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 9 Phase 2 cross-feature i18n consistency
  # ---------------------------------------------------------------------------
  - phase: 10
    feature: cross
    cr: cross
    tests:
      - name: "all 3 locales should have sundayExceptions.changeConfirmTitle"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        status: passing

      - name: "all 3 locales should have sundayExceptions.changeConfirmMessage"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        status: passing

      - name: "all 3 locales should have agenda.lastMinuteAssignment"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        status: passing

      - name: "all locale files should be valid JSON"
        file: "src/__tests__/batch9-phase2.test.ts"
        type: unit
        covers_acs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-118 / F065: SearchInput flex:1 + close button in Settings
  # ---------------------------------------------------------------------------
  - phase: 11
    feature: F065
    cr: CR-118
    tests:
      - name: "styles.container includes flex: 1"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-01"]
        covers_ecs: []
        status: passing

      - name: "container still has position relative and justifyContent center"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-01"]
        covers_ecs: []
        status: passing

      - name: "members.tsx searchContainer has flexDirection row"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-02"]
        covers_ecs: []
        status: passing

      - name: "members.tsx searchContainer has alignItems center"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-02"]
        covers_ecs: []
        status: passing

      - name: "members.tsx searchContainer has gap 12"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-02"]
        covers_ecs: []
        status: passing

      - name: "members.tsx has Pressable close after SearchInput"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-03"]
        covers_ecs: []
        status: passing

      - name: "members.tsx close button is a Pressable with accessibilityRole button"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-03"]
        covers_ecs: []
        status: passing

      - name: "close onPress calls setSearch with empty string"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-04"]
        covers_ecs: []
        status: passing

      - name: "topics.tsx searchContainer has flexDirection row"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-05"]
        covers_ecs: []
        status: passing

      - name: "topics.tsx has Pressable close with t(common.close)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-06"]
        covers_ecs: []
        status: passing

      - name: "topics.tsx close button calls setSearch empty"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-06"]
        covers_ecs: []
        status: passing

      - name: "history.tsx searchContainer has flexDirection row"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-07"]
        covers_ecs: []
        status: passing

      - name: "history.tsx has Pressable close with t(common.close)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-08"]
        covers_ecs: []
        status: passing

      - name: "history.tsx close button calls updateSearch empty"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-08"]
        covers_ecs: []
        status: passing

      - name: "timezone.tsx searchContainer has flexDirection row"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-09"]
        covers_ecs: []
        status: passing

      - name: "timezone.tsx has Pressable close with t(common.close)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-10"]
        covers_ecs: []
        status: passing

      - name: "timezone.tsx close button calls setSearch empty"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-10"]
        covers_ecs: []
        status: passing

      - name: "MemberSelectorModal still passes flex:1 via style (redundant but harmless)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-11"]
        covers_ecs: []
        status: passing

      - name: "ActorSelector still has SearchInput"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-11"]
        covers_ecs: []
        status: passing

      - name: "HymnSelector in AgendaForm still has SearchInput"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-11"]
        covers_ecs: []
        status: passing

      - name: "PrayerSelector still has SearchInput"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-11"]
        covers_ecs: []
        status: passing

      - name: "AgendaForm HymnSelectorModal still uses sheetSearchRow pattern"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-12"]
        covers_ecs: []
        status: passing

      - name: "close button always calls setter with empty string (no guard)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-04"]
        covers_ecs: ["EC-F065-01"]
        status: passing

      - name: "SearchInput input has fixed height 40"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F065-02"]
        status: passing

      - name: "members.tsx closeButtonText has fontSize 16 and fontWeight 500"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-03"]
        covers_ecs: []
        status: passing

      - name: "topics.tsx closeButtonText has fontSize 16 and fontWeight 500"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-06"]
        covers_ecs: []
        status: passing

      - name: "history.tsx closeButtonText has fontSize 16 and fontWeight 500"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-08"]
        covers_ecs: []
        status: passing

      - name: "timezone.tsx closeButtonText has fontSize 16 and fontWeight 500"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-10"]
        covers_ecs: []
        status: passing

      - name: "pt-BR has common.close = Fechar"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-03", "AC-F065-06", "AC-F065-08", "AC-F065-10"]
        covers_ecs: []
        status: passing

      - name: "en has common.close = Close"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-03", "AC-F065-06", "AC-F065-08", "AC-F065-10"]
        covers_ecs: []
        status: passing

      - name: "es has common.close = Cerrar"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F065-03", "AC-F065-06", "AC-F065-08", "AC-F065-10"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-120 / F066: Auto-scroll on card expand
  # ---------------------------------------------------------------------------
  - phase: 11
    feature: F066
    cr: CR-120
    tests:
      - name: "handleToggle calls scrollToIndex with viewPosition: 0 when expanding"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-01"]
        covers_ecs: []
        status: passing

      - name: "scrollToIndex is called with animated: true"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-01", "AC-F066-05"]
        covers_ecs: []
        status: passing

      - name: "scroll is delayed by 300ms setTimeout"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-01"]
        covers_ecs: ["EC-F066-03"]
        status: passing

      - name: "handleToggle in agenda.tsx calls scrollToIndex with viewPosition: 0"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-02"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx scroll is delayed by 300ms setTimeout"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-02"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx scroll uses animated: true"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-02", "AC-F066-05"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx uses viewPosition: 0"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-03"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx uses viewPosition: 0"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-03"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx only scrolls in the else branch (expanding)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-04"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx only scrolls in the else branch (expanding)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-04"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx scrollToIndex has animated: true"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-05"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx always scrolls when expanding (else branch)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-06"]
        covers_ecs: ["EC-F066-01"]
        status: passing

      - name: "speeches.tsx preserves getItemLayout"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-07"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx preserves getItemLayout"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-07"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx preserves onScrollToIndexFailed"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-07"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx preserves onScrollToIndexFailed"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-07"]
        covers_ecs: []
        status: passing

      - name: "scroll happens unconditionally when index >= 0 (no visibility check)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-06"]
        covers_ecs: ["EC-F066-01"]
        status: passing

      - name: "scrollToIndex is used (not scrollToEnd) - FlatList handles bounds"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F066-02"]
        status: passing

      - name: "uses setTimeout for deferred scroll (animation overrides momentum)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F066-03"]
        status: passing

      - name: "speeches.tsx handleToggle depends on listItems"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-01"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx handleToggle depends on listItems"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-02"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx finds index by type sunday and key matching date"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-01"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx finds index by type sunday and data.date matching"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F066-02"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-123 / F067: Recognizing field proportional height
  # ---------------------------------------------------------------------------
  - phase: 11
    feature: F067
    cr: CR-123
    tests:
      - name: "recognized_names are rendered via .map() with individual Text elements"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-01"]
        covers_ecs: []
        status: passing

      - name: "each Text has numberOfLines={1}"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-01"]
        covers_ecs: ["EC-F067-02"]
        status: passing

      - name: "each name Text uses recognizingName style"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-01"]
        covers_ecs: []
        status: passing

      - name: "Pressable uses selectorField style (no fixed height)"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-02"]
        covers_ecs: []
        status: passing

      - name: "selectorField style has no fixed height"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-02"]
        covers_ecs: []
        status: passing

      - name: "shows placeholder text when recognized_names is empty or null"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-03"]
        covers_ecs: []
        status: passing

      - name: "placeholder uses textTertiary color"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-03"]
        covers_ecs: []
        status: passing

      - name: "onPress opens ActorSelector with recognizing field config"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-04"]
        covers_ecs: []
        status: passing

      - name: "Pressable disabled prop set to isObserver"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-05"]
        covers_ecs: []
        status: passing

      - name: "onPress is undefined when isObserver"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-05"]
        covers_ecs: []
        status: passing

      - name: "uses styles.selectorField for border, radius, padding"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-06"]
        covers_ecs: []
        status: passing

      - name: "selectorField has borderWidth, borderRadius, paddingHorizontal, paddingVertical"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-06"]
        covers_ecs: []
        status: passing

      - name: "presiding still uses SelectorField component"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-07"]
        covers_ecs: []
        status: passing

      - name: "conducting still uses SelectorField component"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-07"]
        covers_ecs: []
        status: passing

      - name: "opening hymn still uses SelectorField component"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-07"]
        covers_ecs: []
        status: passing

      - name: "opening prayer still uses SelectorField component"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-07"]
        covers_ecs: []
        status: passing

      - name: "SelectorField still has numberOfLines={1}"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-07"]
        covers_ecs: []
        status: passing

      - name: "recognizingName has fontSize 15"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-06"]
        covers_ecs: []
        status: passing

      - name: "recognizingName has paddingVertical 2"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-06"]
        covers_ecs: []
        status: passing

      - name: "no max height or numberOfLines limit on container"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-02"]
        covers_ecs: ["EC-F067-01"]
        status: passing

      - name: "each Text element has numberOfLines={1} for truncation"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F067-02"]
        status: passing

      - name: "field content is reactive to agenda.recognized_names"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-01"]
        covers_ecs: ["EC-F067-03"]
        status: passing

      - name: "ActorSelector toggle handler updates recognized_names array"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-04"]
        covers_ecs: ["EC-F067-03"]
        status: passing

      - name: "the recognizing block does not use SelectorField"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: ["AC-F067-01"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 9 Phase 3 cross-feature i18n consistency
  # ---------------------------------------------------------------------------
  - phase: 11
    feature: cross
    cr: cross
    tests:
      - name: "all 3 locales have common.close"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: []
        status: passing

      - name: "all locale files are valid JSON"
        file: "src/__tests__/batch9-phase3.test.ts"
        type: unit
        covers_acs: []
        status: passing

gaps:
  # --- SPEC F082 AC coverage gaps (tester assessment v16) ---
  # The coder restructured the 30 SPEC ACs into 26 ACs + 14 ECs across 5 categories.
  # SPEC ACs 13-30 (categories 2-4) were remapped to different test subjects.
  # Below are the SPEC ACs that lack direct test coverage:

  - id: "AC-082-13 (SPEC)"
    reason: >
      SPEC requires SyncProvider renders children + OfflineBanner. Coder tests
      SYNCED_TABLES config instead. No SyncProvider render test exists because
      SyncProvider imports react-native components that require RN runtime.
    recommendation: "Accept gap: SyncProvider render requires react-native environment not available in Vitest."

  - id: "AC-082-14 (SPEC)"
    reason: >
      SPEC requires OfflineBanner visible when NetInfo offline. Coder tests
      isNetInfoOnline utility instead. OfflineBanner is a react-native component.
    recommendation: "Accept gap: OfflineBanner render requires react-native environment."

  - id: "AC-082-15 (SPEC)"
    reason: >
      SPEC requires useRealtimeSync subscribes to Supabase channel. Coder tests
      SYNCED_TABLES and TABLE_TO_QUERY_KEYS config instead. Partially covered:
      sync config validated, but hook behavior not directly tested.
    recommendation: "Partially covered by sync-realtime config tests. Hook test requires react-native runtime."

  - id: "AC-082-16 (SPEC)"
    reason: >
      SPEC requires useRealtimeSync falls back to polling on CHANNEL_ERROR.
      Coder tests isNetInfoOnline connection utility instead. Hook behavior not tested.
    recommendation: "Accept gap: useRealtimeSync hook requires react-native runtime for renderHook."

  - id: "AC-082-17 (SPEC)"
    reason: >
      SPEC requires useRealtimeSync invalidates queries on reconnect. Coder tests
      offline queue FIFO and persistence instead. Reconnect invalidation not tested.
    recommendation: "Accept gap: requires react-native runtime for hook rendering."

  - id: "AC-082-18 (SPEC)"
    reason: >
      SPEC requires AuthProvider initializes session on mount (real AuthProvider).
      Coder tests permission matrix and createMockAuthContext instead. AuthProvider
      real component not tested because it imports react-native Navigation.
    recommendation: "Accept gap: AuthProvider render requires react-native runtime."

  - id: "AC-082-19 (SPEC)"
    reason: >
      SPEC requires AuthProvider extracts role from app_metadata. Not tested
      with real AuthProvider. Partially covered by createMockAuthContext test
      which verifies role plumbing through auth context.
    recommendation: "Partially covered by permissions-roles tests."

  - id: "AC-082-20 (SPEC)"
    reason: >
      SPEC requires AuthProvider defaults role to observer. Not tested with
      real AuthProvider.
    recommendation: "Accept gap: AuthProvider render requires react-native runtime."

  - id: "AC-082-21 (SPEC)"
    reason: >
      SPEC requires signIn calls supabase.auth.signInWithPassword. Not tested
      with real AuthProvider.
    recommendation: "Accept gap: AuthProvider render requires react-native runtime."

  - id: "AC-082-22 (SPEC)"
    reason: >
      SPEC requires signOut clears session. Not tested with real AuthProvider.
    recommendation: "Accept gap: AuthProvider render requires react-native runtime."

  - id: "AC-082-23 (SPEC)"
    reason: >
      SPEC requires hasPermission('speech_assign') returns true for bishopric.
      COVERED by permissions-roles.integration.test.ts (bishopric has all
      expected permissions, including speech:assign). Coder relabeled as AC-082-13.
    recommendation: "No action needed. Covered under different AC label."

  - id: "AC-082-24 (SPEC)"
    reason: >
      SPEC requires hasPermission('settings_access') returns false for observer.
      COVERED by permissions-roles.integration.test.ts (observer does not have
      settings:access). Coder relabeled as AC-082-13.
    recommendation: "No action needed. Covered under different AC label."

  - id: "AC-082-25 (SPEC)"
    reason: >
      SPEC requires ActorSelector renders actors filtered by role. No component
      rendering test exists. React-native component render not possible in Vitest.
    recommendation: "Accept gap: component render requires react-native environment."

  - id: "AC-082-26 (SPEC)"
    reason: >
      SPEC requires SearchInput debounce triggers callback. No component test.
    recommendation: "Accept gap: component render requires react-native environment."

  - id: "AC-082-27 (SPEC)"
    reason: >
      SPEC requires OfflineBanner visibility based on connection. No component test.
    recommendation: "Accept gap: component render requires react-native environment."

  - id: "AC-082-28 (SPEC)"
    reason: >
      SPEC requires StatusChangeModal shows valid transitions. Not tested via
      component render. However, getAvailableStatuses is tested in
      speech-lifecycle.integration.test.ts (AC-082-25 coder label) which validates
      the underlying logic.
    recommendation: "Partially covered by getAvailableStatuses tests."

  - id: "AC-082-29 (SPEC)"
    reason: >
      SPEC requires MemberSelectorModal renders and filters members. No component test.
    recommendation: "Accept gap: component render requires react-native environment."

  - id: "AC-082-30 (SPEC)"
    reason: >
      SPEC requires HymnSelector renders hymns from useHymns. No component test.
    recommendation: "Accept gap: component render requires react-native environment."

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 1 - F069 (CR-126): StatusLED flat circle redesign
  # ---------------------------------------------------------------------------
  - phase: 12
    feature: F069
    cr: CR-126
    tests:
      - name: "StatusLED does NOT contain outerRing style"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-01"]
        covers_ecs: []
        status: passing

      - name: "StatusLED does NOT contain innerCircle style"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-01"]
        covers_ecs: []
        status: passing

      - name: "StatusLED does NOT contain glowDot style"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-01"]
        covers_ecs: []
        status: passing

      - name: "StatusLED contains styles.circle"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-01"]
        covers_ecs: []
        status: passing

      - name: "StatusLED renders single Animated.View with circle style"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-01"]
        covers_ecs: []
        status: passing

      - name: "STATUS_COLORS.not_assigned is #9CA3AF"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-02"]
        covers_ecs: []
        status: passing

      - name: "STATUS_COLORS.assigned_not_invited is #F97316"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-03"]
        covers_ecs: []
        status: passing

      - name: "STATUS_COLORS.assigned_invited is #EAB308"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-04"]
        covers_ecs: []
        status: passing

      - name: "STATUS_COLORS.assigned_confirmed is #22C55E"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-05"]
        covers_ecs: []
        status: passing

      - name: "STATUS_COLORS.gave_up is #7F1D1D"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-06"]
        covers_ecs: ["EC-F069-01"]
        status: passing

      - name: "StatusLED has withRepeat animation for assigned_not_invited"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-07"]
        covers_ecs: []
        status: passing

      - name: "animation uses opacity 0.3 to 1"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-07"]
        covers_ecs: []
        status: passing

      - name: "animation duration is 1000ms per phase (total ~2s)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-07"]
        covers_ecs: []
        status: passing

      - name: "StatusLED checks isReduceMotionEnabled"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-08"]
        covers_ecs: []
        status: passing

      - name: "StatusLED listens for reduceMotionChanged"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-08"]
        covers_ecs: []
        status: passing

      - name: "reduced motion cancels animation and sets opacity to 1"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-08"]
        covers_ecs: []
        status: passing

      - name: "STATUS_INDICATOR_COLORS.assigned_not_invited is #F97316"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-09"]
        covers_ecs: []
        status: passing

      - name: "STATUS_INDICATOR_COLORS.assigned_invited is #EAB308"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-09"]
        covers_ecs: []
        status: passing

      - name: "STATUS_INDICATOR_COLORS.assigned_confirmed is #22C55E"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-09"]
        covers_ecs: []
        status: passing

      - name: "STATUS_INDICATOR_COLORS.gave_up is #7F1D1D"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-09"]
        covers_ecs: []
        status: passing

      - name: "STATUS_INDICATOR_COLORS.not_assigned is #9CA3AF (maintained)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-09"]
        covers_ecs: []
        status: passing

      - name: "StatusLED renders Pressable when onPress and not disabled"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-10"]
        covers_ecs: []
        status: passing

      - name: "StatusLED renders View when no onPress or disabled"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-10"]
        covers_ecs: []
        status: passing

      - name: "StatusLED uses size prop for width and height"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-11"]
        covers_ecs: []
        status: passing

      - name: "StatusLED has default size of 16"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-11"]
        covers_ecs: []
        status: passing

      - name: "SundayCard imports StatusLED"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-12"]
        covers_ecs: []
        status: passing

      - name: "SundayCard renders StatusLED in header"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-12"]
        covers_ecs: []
        status: passing

      - name: "STATUS_COLORS does not reference theme colors (static)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F069-02"]
        status: passing

      - name: "InviteActionDropdown imports STATUS_INDICATOR_COLORS from StatusChangeModal"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F069-03"]
        status: passing

      - name: "InviteManagementSection uses StatusLED component (inherits new colors)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F069-03"]
        status: passing

      - name: "StatusLED does NOT contain LEDColors interface"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-01"]
        covers_ecs: []
        status: passing

      - name: "STATUS_COLORS is Record<SpeechStatus, string> (not LEDColors)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F069-01"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 1 - F070 (CR-127): Delete speeches on sunday type change
  # ---------------------------------------------------------------------------
  - phase: 12
    feature: F070
    cr: CR-127
    tests:
      - name: "useDeleteSpeechesByDate is exported from useSpeeches.ts"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-01"]
        covers_ecs: []
        status: passing

      - name: "useDeleteSpeechesByDate calls supabase.delete on speeches table"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-01"]
        covers_ecs: []
        status: passing

      - name: "useDeleteSpeechesByDate filters by ward_id and sunday_date"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-01"]
        covers_ecs: ["EC-F070-04"]
        status: passing

      - name: "Alert.alert has cancel button with style cancel"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-02"]
        covers_ecs: []
        status: passing

      - name: "onDeleteSpeeches is only called in destructive onPress"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-02"]
        covers_ecs: []
        status: passing

      - name: "SundayCard calls onDeleteSpeeches when currentType is speeches (no assignments)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-03"]
        covers_ecs: []
        status: passing

      - name: "revert to speeches calls onRevertToSpeeches, not onDeleteSpeeches"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-04"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx imports useDeleteSpeechesByDate"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-05"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx creates deleteSpeechesByDate instance"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-05"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx has handleDeleteSpeeches callback"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-05"]
        covers_ecs: []
        status: passing

      - name: "SundayCard receives onDeleteSpeeches prop"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-05"]
        covers_ecs: []
        status: passing

      - name: "useDeleteSpeechesByDate invalidates speechKeys.all"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-06"]
        covers_ecs: []
        status: passing

      - name: "useDeleteSpeechesByDate logs speech_cleanup action"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-07"]
        covers_ecs: []
        status: passing

      - name: "SundayCard calls onDeleteSpeeches before opening other modal"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-08"]
        covers_ecs: []
        status: passing

      - name: "SundayCard checks speaker_name and topic_title for hasAssignments"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F070-01", "EC-F070-02"]
        status: passing

      - name: "useDeleteSpeechesByDate throws on error"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F070-03"]
        status: passing

      - name: "delete uses eq filters (returns 0 rows safely)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F070-04"]
        status: passing

      - name: "SundayTypeDropdownProps includes date"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-01"]
        covers_ecs: []
        status: passing

      - name: "SundayTypeDropdownProps includes onDeleteSpeeches"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-01"]
        covers_ecs: []
        status: passing

      - name: "SundayCardProps includes onDeleteSpeeches"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-01"]
        covers_ecs: []
        status: passing

      - name: "SundayCard passes date to SundayTypeDropdown"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-01"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx renderItem deps include handleDeleteSpeeches"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F070-05"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 1 - F071 (CR-129): LED click filter + disable terminal states
  # ---------------------------------------------------------------------------
  - phase: 12
    feature: F071
    cr: CR-129
    tests:
      - name: "ledAllowedStatuses includes assigned_invited"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-01"]
        covers_ecs: []
        status: passing

      - name: "ledAllowedStatuses includes assigned_confirmed"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-02"]
        covers_ecs: []
        status: passing

      - name: "ledAllowedStatuses includes gave_up"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-02"]
        covers_ecs: []
        status: passing

      - name: "ledAllowedStatuses includes assigned_not_invited"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-02"]
        covers_ecs: []
        status: passing

      - name: "handleStatusPress returns early for assigned_confirmed"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-03"]
        covers_ecs: ["EC-F071-01"]
        status: passing

      - name: "StatusLED disabled includes assigned_confirmed"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-03"]
        covers_ecs: ["EC-F071-01"]
        status: passing

      - name: "handleStatusPress returns early for gave_up"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-04"]
        covers_ecs: ["EC-F071-02"]
        status: passing

      - name: "StatusLED disabled includes gave_up"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-04"]
        covers_ecs: ["EC-F071-02"]
        status: passing

      - name: "handleStatusPress returns early for not_assigned"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-05"]
        covers_ecs: []
        status: passing

      - name: "StatusLED disabled includes not_assigned"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-05"]
        covers_ecs: []
        status: passing

      - name: "StatusChangeModal allowedStatuses is optional"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-06"]
        covers_ecs: []
        status: passing

      - name: "StatusChangeModal shows all transitions when allowedStatuses not provided"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-06"]
        covers_ecs: []
        status: passing

      - name: "StatusLED disabled includes isObserver"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-07"]
        covers_ecs: []
        status: passing

      - name: "ledAllowedStatuses is a constant (not conditional on status)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F071-01", "EC-F071-02"]
        status: passing

      - name: "ledAllowedStatuses does NOT include not_assigned"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F071-01", "AC-F071-02"]
        covers_ecs: []
        status: passing

      - name: "ledAllowedStatuses has 4 entries"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 1 - F072 (CR-130): Country code display fix
  # ---------------------------------------------------------------------------
  - phase: 12
    feature: F072
    cr: CR-130
    tests:
      - name: "members.tsx imports getCountryByLabel from countryCodes"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-01", "AC-F072-02", "AC-F072-03"]
        covers_ecs: []
        status: passing

      - name: "flag text uses getCountryByLabel(countryLabel)?.flag"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-01", "AC-F072-02", "AC-F072-03"]
        covers_ecs: []
        status: passing

      - name: "fallback to getFlagForCode(countryCode) when label not found"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F072-01"]
        status: passing

      - name: "getCountryByLabel exists in countryCodes.ts"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-04", "AC-F072-05"]
        covers_ecs: []
        status: passing

      - name: "Russia exists in COUNTRY_CODES with +7"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-04"]
        covers_ecs: []
        status: passing

      - name: "Kazakhstan exists in COUNTRY_CODES with +7"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-05"]
        covers_ecs: []
        status: passing

      - name: "members.tsx highlight compares item.label with countryLabel"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-06"]
        covers_ecs: []
        status: passing

      - name: "Brazil exists in COUNTRY_CODES with unique code +55"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-07"]
        covers_ecs: []
        status: passing

      - name: "countryLabel initializes via COUNTRY_CODES.find by code"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-08"]
        covers_ecs: []
        status: passing

      - name: "US is listed before Canada in COUNTRY_CODES (ADR-043)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F072-08"]
        covers_ecs: []
        status: passing

      - name: "uses nullish coalescing operator for fallback"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F072-01"]
        status: passing

      - name: "countryCode default is +55"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F072-02"]
        status: passing

      - name: "countryLabel fallback is Brazil (+55)"
        file: "src/__tests__/batch10-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F072-02"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 2 - F073 (CR-128): Topic X button positioning
  # ---------------------------------------------------------------------------
  - phase: 13
    feature: F073
    cr: CR-128
    tests:
      - name: "clearTopic Pressable is NOT inside topicField Pressable"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-01"]
        covers_ecs: []
        status: passing

      - name: "clearTopic Pressable is inside topicRow View"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-01"]
        covers_ecs: []
        status: passing

      - name: "styles.topicRow has flexDirection row"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

      - name: "styles.topicRow has alignItems center"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

      - name: "styles.topicRow has gap 12"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

      - name: "arrow U+25BC is inside topicField Pressable (before its close)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-03"]
        covers_ecs: []
        status: passing

      - name: "clearTopic Pressable has onPress={handleClearTopic}"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-04"]
        covers_ecs: []
        status: passing

      - name: "handleClearTopic calls onClearTopic with speech.id"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-04"]
        covers_ecs: []
        status: passing

      - name: "clearTopic conditional checks topicDisplay && canAssign"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-05"]
        covers_ecs: []
        status: passing

      - name: "topicDisplay is null when no topic_title"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-073-01"]
        status: passing

      - name: "X button guard includes canAssign check"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-073-02"]
        status: passing

      - name: "topic Text has numberOfLines={1}"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-073-03"]
        status: passing

      - name: "styles.topicField has flex: 1"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

      - name: "styles.topicField does NOT have marginTop"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

      - name: "styles.topicField does NOT have marginLeft"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

      - name: "styles.topicRow has marginTop: 6"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

      - name: "styles.topicRow has marginLeft: 28"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-073-02"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 2 - F074 (CR-131): Hymn search field width
  # ---------------------------------------------------------------------------
  - phase: 13
    feature: F074
    cr: CR-131
    tests:
      - name: "styles.searchInput contains flex: 1"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-01", "AC-074-02", "AC-074-03"]
        covers_ecs: []
        status: passing

      - name: "styles.searchInput does NOT contain borderWidth"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-01", "AC-074-02", "AC-074-03"]
        covers_ecs: []
        status: passing

      - name: "styles.searchInput does NOT contain borderRadius"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-02"]
        covers_ecs: []
        status: passing

      - name: "styles.searchInput does NOT contain paddingHorizontal"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-03"]
        covers_ecs: []
        status: passing

      - name: "styles.searchInput does NOT contain paddingVertical"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-01"]
        covers_ecs: []
        status: passing

      - name: "styles.searchInput does NOT contain fontSize"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-01", "AC-074-02", "AC-074-03"]
        covers_ecs: []
        status: passing

      - name: "styles.searchInput does NOT contain marginBottom"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-01", "AC-074-02", "AC-074-03"]
        covers_ecs: []
        status: passing

      - name: "HymnSelectorModal uses SearchInput component"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-04"]
        covers_ecs: []
        status: passing

      - name: "HymnSelectorModal uses filterHymns for search"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-074-04"]
        covers_ecs: []
        status: passing

      - name: "SearchInput.tsx has placeholder prop"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-074-01"]
        status: passing

      - name: "SearchInput uses TextInput internally"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-074-02"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 2 - F075 (CR-132): Auto-scroll fix - speeches.tsx
  # ---------------------------------------------------------------------------
  - phase: 13
    feature: F075
    cr: CR-132
    tests:
      - name: "speeches.tsx does NOT define getItemLayout callback"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-02"]
        covers_ecs: []
        status: passing

      - name: "FlatList does NOT receive getItemLayout prop (speeches)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-02"]
        covers_ecs: []
        status: passing

      - name: "FlatList uses scrollToIndex (works with measured heights)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-03"]
        covers_ecs: []
        status: passing

      - name: "scrollToIndex only called in expand branch (speeches)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-04"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx has useEffect for initial scroll"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-05"]
        covers_ecs: []
        status: passing

      - name: "initial scroll uses animated: false (speeches)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-05"]
        covers_ecs: []
        status: passing

      - name: "handleToggle uses 400ms timeout (speeches)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-02"]
        covers_ecs: []
        status: passing

      - name: "FlatList has onScrollToIndexFailed callback (speeches)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-075-04"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 2 - F075 (CR-132): Auto-scroll fix - agenda.tsx
  # ---------------------------------------------------------------------------
  - phase: 13
    feature: F075
    cr: CR-132
    tests:
      - name: "agenda.tsx does NOT define ESTIMATED_ITEM_HEIGHT"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-01"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx does NOT define getItemLayout callback"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-01"]
        covers_ecs: []
        status: passing

      - name: "FlatList does NOT receive getItemLayout prop (agenda)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-01"]
        covers_ecs: []
        status: passing

      - name: "FlatList does NOT receive initialScrollIndex prop"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-01"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx has useEffect for initial scroll"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-05"]
        covers_ecs: []
        status: passing

      - name: "initial scroll uses animated: false (agenda)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-05"]
        covers_ecs: []
        status: passing

      - name: "handleToggle uses 400ms timeout (agenda)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-01"]
        covers_ecs: []
        status: passing

      - name: "agenda.tsx has onScrollToIndexFailed callback"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-075-04"]
        status: passing

      - name: "scrollToIndex only called in else branch (agenda)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-075-04"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 2 - F076 (CR-133): Custom prayer name hint
  # ---------------------------------------------------------------------------
  - phase: 13
    feature: F076
    cr: CR-133
    tests:
      - name: "PrayerSelector renders customNameHintText"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-01"]
        covers_ecs: []
        status: passing

      - name: "hint uses t(agenda.customNameHint) for text"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-01"]
        covers_ecs: []
        status: passing

      - name: "hint uses colors.textSecondary"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-01"]
        covers_ecs: []
        status: passing

      - name: "hint is NOT inside a conditional block (always visible)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-02"]
        covers_ecs: []
        status: passing

      - name: "pt-BR has agenda.customNameHint key"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-07"]
        covers_ecs: []
        status: passing

      - name: "en has agenda.customNameHint key"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-07"]
        covers_ecs: []
        status: passing

      - name: "es has agenda.customNameHint key"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-07"]
        covers_ecs: []
        status: passing

      - name: "customNameHintText has fontSize 13"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-01"]
        covers_ecs: []
        status: passing

      - name: "customNameHintText has paddingHorizontal 16"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-01"]
        covers_ecs: []
        status: passing

      - name: "customNameHintText has paddingBottom 8"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-01"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 10 Phase 2 - F076 (CR-133): Custom prayer name pre-populate
  # ---------------------------------------------------------------------------
  - phase: 13
    feature: F076
    cr: CR-133
    tests:
      - name: "useEffect checks selected?.memberId === null"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-03"]
        covers_ecs: []
        status: passing

      - name: "useEffect calls setSearch(selected.name)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-03"]
        covers_ecs: []
        status: passing

      - name: "useEffect calls setCustomName(selected.name)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-03"]
        covers_ecs: []
        status: passing

      - name: "customNameButton shown when customName.trim().length > 0"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-04"]
        covers_ecs: []
        status: passing

      - name: "handleSelectMember calls onSelect with memberId"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-05"]
        covers_ecs: []
        status: passing

      - name: "handleSelectMember resets search and customName"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-05"]
        covers_ecs: []
        status: passing

      - name: "handleCustomName calls onSelect with memberId: null"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-06"]
        covers_ecs: []
        status: passing

      - name: "handleCustomName trims the name"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-06"]
        covers_ecs: ["EC-076-01"]
        status: passing

      - name: "handleCustomName uses trim() before saving"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-076-01"]
        status: passing

      - name: "handleCustomName returns early if trimmed is empty"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-076-02"]
        status: passing

      - name: "handleSelectMember sets memberId to member.id (not null)"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-05"]
        covers_ecs: ["EC-076-03"]
        status: passing

      - name: "useEffect only pre-populates when memberId === null"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-03"]
        covers_ecs: ["EC-076-04"]
        status: passing

      - name: "useEffect dependency array is [visible]"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-03"]
        covers_ecs: []
        status: passing

      - name: "useEffect has eslint-disable for exhaustive-deps"
        file: "src/__tests__/batch10-phase2.test.ts"
        type: unit
        covers_acs: ["AC-076-03"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 11 (F077-F081): Status Options, Help Text, Agenda Scroll, Checkbox, Delete Text
  # ---------------------------------------------------------------------------

  - phase: 14
    feature: F077
    cr: CR-134
    tests:
      - name: "assigned_not_invited has 4 transitions"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "assigned_not_invited can go to assigned_confirmed"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "assigned_not_invited can go to gave_up"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "assigned_confirmed has 4 transitions"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "assigned_confirmed can go to assigned_not_invited"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "assigned_confirmed can go to assigned_invited"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "assigned_confirmed can go to gave_up"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "gave_up has 4 transitions"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "gave_up can go to assigned_confirmed"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "not_assigned -> [assigned_not_invited] preserved"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "getAvailableStatuses returns 4 for assigned_confirmed"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "getAvailableStatuses returns 4 for gave_up"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "isValidTransition(assigned_confirmed, assigned_invited) is true"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: ["EC-077-02"]
        status: passing

      - name: "isValidTransition(gave_up, assigned_confirmed) is true"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: ["EC-077-02"]
        status: passing

      - name: "ALL_ASSIGNED_STATUSES defined with 4 statuses"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-01"]
        covers_ecs: []
        status: passing

      - name: "statusOptions filters out current speech status"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-01"]
        covers_ecs: []
        status: passing

      - name: "statusOptions.map renders dynamic Pressable list"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-01"]
        covers_ecs: []
        status: passing

      - name: "ALL_ASSIGNED_STATUSES does not contain not_assigned"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-02"]
        covers_ecs: []
        status: passing

      - name: "ledAllowedStatuses contains 4 assigned statuses"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-03"]
        covers_ecs: []
        status: passing

      - name: "ledAllowedStatuses does NOT contain not_assigned"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-03"]
        covers_ecs: []
        status: passing

      - name: "handleStatusPress does NOT block assigned_confirmed"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-04"]
        covers_ecs: []
        status: passing

      - name: "StatusLED disabled does NOT include assigned_confirmed"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-04"]
        covers_ecs: []
        status: passing

      - name: "handleStatusPress does NOT block gave_up"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-05"]
        covers_ecs: []
        status: passing

      - name: "StatusLED disabled does NOT include gave_up"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-05"]
        covers_ecs: []
        status: passing

      - name: "handleStatusPress blocks not_assigned"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-06"]
        covers_ecs: []
        status: passing

      - name: "StatusLED disabled includes not_assigned"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-06"]
        covers_ecs: []
        status: passing

      - name: "StatusLED disabled includes isObserver"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-07"]
        covers_ecs: []
        status: passing

      - name: "handleStatusSelect calls onChangeStatus"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "InviteActionDropdown calls onChangeStatus"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-077-08"]
        covers_ecs: []
        status: passing

      - name: "statusOptions uses optional chaining on speech?.status"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-077-01"]
        status: passing

      - name: "all assigned statuses can reach not_assigned"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-077-02"]
        status: passing

  - phase: 14
    feature: F078
    cr: CR-135
    tests:
      - name: "pt-BR agenda.customNameHint has new text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-078-01"]
        covers_ecs: []
        status: passing

      - name: "en agenda.customNameHint has new text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-078-02"]
        covers_ecs: []
        status: passing

      - name: "es agenda.customNameHint has new text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-078-03"]
        covers_ecs: []
        status: passing

      - name: "PrayerSelector uses t(agenda.customNameHint)"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-078-04"]
        covers_ecs: []
        status: passing

      - name: "customNameHintText style does not have numberOfLines"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-078-01"]
        status: passing

  - phase: 14
    feature: F079
    cr: CR-136
    tests:
      - name: "scrollToIndex in useEffect uses viewPosition: 0.5"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-01", "AC-079-02"]
        covers_ecs: []
        status: passing

      - name: "scrollToIndex uses animated: false"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-02"]
        covers_ecs: []
        status: passing

      - name: "onScrollToIndexFailed uses scrollToOffset first"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-03"]
        covers_ecs: []
        status: passing

      - name: "onScrollToIndexFailed retries with setTimeout"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-03"]
        covers_ecs: []
        status: passing

      - name: "retry uses viewPosition: 0.5"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-03"]
        covers_ecs: []
        status: passing

      - name: "retry uses Math.min(info.index, listItems.length - 1)"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-03"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx does NOT use viewPosition: 0.5 for initial scroll"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-04"]
        covers_ecs: []
        status: passing

      - name: "speeches.tsx handleToggle still uses viewPosition: 0"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-079-04"]
        covers_ecs: []
        status: passing

      - name: "useEffect guards initialIndex > 0"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-079-01"]
        status: passing

      - name: "useEffect guards listItems.length > 0"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-079-01"]
        status: passing

      - name: "handleToggle uses viewPosition: 0 (card at top)"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-079-02"]
        status: passing

  - phase: 14
    feature: F080
    cr: CR-137
    tests:
      - name: "multiSelect conditional renders checkbox Text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-01"]
        covers_ecs: []
        status: passing

      - name: "checkbox has styles.checkbox class"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-01"]
        covers_ecs: []
        status: passing

      - name: "selected items render U+2611 (ballot box with check)"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-02"]
        covers_ecs: []
        status: passing

      - name: "unselected items render U+2610 (ballot box)"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-03"]
        covers_ecs: []
        status: passing

      - name: "isSelected ternary switches between checked and unchecked"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-03"]
        covers_ecs: []
        status: passing

      - name: "actorNameArea Pressable has onPress={handleSelect}"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-04"]
        covers_ecs: []
        status: passing

      - name: "actorActions View with edit and delete icons exists"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-05"]
        covers_ecs: []
        status: passing

      - name: "edit icon (U+270E) still rendered"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-05"]
        covers_ecs: []
        status: passing

      - name: "delete icon (U+2716) still rendered"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-05"]
        covers_ecs: []
        status: passing

      - name: "checkbox is guarded by multiSelect condition"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-06"]
        covers_ecs: []
        status: passing

      - name: "old checkmark prefix U+2713 is NOT in source"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-06"]
        covers_ecs: []
        status: passing

      - name: "handleSelect calls onSelect(actor)"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-07"]
        covers_ecs: []
        status: passing

      - name: "FlatList has ListEmptyComponent with noResults"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-080-01"]
        status: passing

      - name: "checkbox is inside the non-editing branch"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-080-02"]
        status: passing

      - name: "actorNameArea has flexDirection row"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-01"]
        covers_ecs: []
        status: passing

      - name: "actorNameArea has alignItems center"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-01"]
        covers_ecs: []
        status: passing

      - name: "checkbox style has fontSize 20"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-01"]
        covers_ecs: []
        status: passing

      - name: "checkbox style has marginRight 8"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-080-01"]
        covers_ecs: []
        status: passing

  - phase: 14
    feature: F081
    cr: CR-138
    tests:
      - name: "handleDelete uses t(actors.deleteConfirm)"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-01"]
        covers_ecs: []
        status: passing

      - name: "handleDelete does NOT use members.deleteConfirm"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-01"]
        covers_ecs: []
        status: passing

      - name: "pt-BR actors.deleteConfirm has correct text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-02"]
        covers_ecs: []
        status: passing

      - name: "en actors.deleteConfirm has correct text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-03"]
        covers_ecs: []
        status: passing

      - name: "es actors.deleteConfirm has correct text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-04"]
        covers_ecs: []
        status: passing

      - name: "pt-BR members.deleteConfirm still has original text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-05"]
        covers_ecs: []
        status: passing

      - name: "en members.deleteConfirm still has original text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-05"]
        covers_ecs: []
        status: passing

      - name: "es members.deleteConfirm still has original text"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: ["AC-081-05"]
        covers_ecs: []
        status: passing

      - name: "pt-BR has actors section"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-081-01"]
        status: passing

      - name: "en has actors section"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-081-01"]
        status: passing

      - name: "es has actors section"
        file: "src/__tests__/batch11.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-081-01"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-139: Integration Tests (F082)
  # ---------------------------------------------------------------------------
  - phase: 15
    feature: F082
    cr: CR-139
    tests:
      # hooks-supabase.integration.test.ts (25 tests)
      - name: "fetches actors from Supabase (AC-082-01)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-01"]
        covers_ecs: []
        status: passing
      - name: "creates actor and invalidates cache (AC-082-02)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-02"]
        covers_ecs: []
        status: passing
      - name: "updates actor and invalidates cache"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-02"]
        covers_ecs: []
        status: passing
      - name: "deletes actor and invalidates cache"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-02"]
        covers_ecs: []
        status: passing
      - name: "returns isError when Supabase errors (EC-082-01)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-01"]
        status: passing
      - name: "does not fetch when wardId is empty (EC-082-02)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-02"]
        status: passing
      - name: "does not invalidate cache on mutation failure (EC-082-03)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-03"]
        status: passing
      - name: "does not cause errors when unmounted before query completes (EC-082-06)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-06"]
        status: passing
      - name: "lazy creates agenda when none exists (AC-082-03)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-03"]
        covers_ecs: []
        status: passing
      - name: "updates agenda with partial fields"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-03"]
        covers_ecs: []
        status: passing
      - name: "fetches speeches for date range (AC-082-04)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-04"]
        covers_ecs: []
        status: passing
      - name: "assigns speaker and updates status (AC-082-05)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-05"]
        covers_ecs: []
        status: passing
      - name: "validates transition before changing status (AC-082-06)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-06"]
        covers_ecs: []
        status: passing
      - name: "rejects invalid status transition"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-06"]
        covers_ecs: []
        status: passing
      - name: "fetches members for current ward (AC-082-07)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-07"]
        covers_ecs: []
        status: passing
      - name: "creates member and invalidates cache"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-07"]
        covers_ecs: []
        status: passing
      - name: "updates member and invalidates cache"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-07"]
        covers_ecs: []
        status: passing
      - name: "deletes member and invalidates cache"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-07"]
        covers_ecs: []
        status: passing
      - name: "fetches hymns and transitions isLoading (AC-082-08)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-08"]
        covers_ecs: []
        status: passing
      - name: "creates topic and invalidates cache (AC-082-09)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-09"]
        covers_ecs: []
        status: passing
      - name: "generates sunday dates (AC-082-10)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-10"]
        covers_ecs: []
        status: passing
      - name: "sets sunday type and invalidates cache (AC-082-11)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-11"]
        covers_ecs: []
        status: passing
      - name: "fetches activity log entries (AC-082-12)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-12"]
        covers_ecs: []
        status: passing
      - name: "has retry:false for deterministic tests (EC-082-04)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-04"]
        status: passing
      - name: "useActors and useCreateActor share same QueryClient (EC-082-05)"
        file: "src/__tests__/integration/hooks-supabase.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-05"]
        status: passing

      # permissions-roles.integration.test.ts (17 tests)
      - name: "bishopric has all expected permissions"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "secretary has expected permissions"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "secretary does not have bishopric-exclusive permissions"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "observer has only read and presentation permissions"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "observer does not have write permissions"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "getPermissions returns all permissions for a role"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "getPermissions returns empty for unknown role"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-07"]
        status: passing
      - name: "ALL_PERMISSIONS contains all defined permissions"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "ALL_ROLES contains exactly 3 roles"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-13"]
        covers_ecs: []
        status: passing
      - name: "bishopric user can access all hook data (AC-082-14)"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-14"]
        covers_ecs: []
        status: passing
      - name: "observer user gets read data when wardId present"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-14"]
        covers_ecs: []
        status: passing
      - name: "hasPermission in auth context delegates to permissions lib"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-14"]
        covers_ecs: []
        status: passing
      - name: "auth context with secretary role has correct permissions"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-14"]
        covers_ecs: []
        status: passing
      - name: "hasPermission returns false for unknown role (EC-082-07)"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-07"]
        status: passing
      - name: "hooks respect enabled flag when wardId is empty (EC-082-08)"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-08"]
        status: passing
      - name: "hooks fire when wardId is present (EC-082-08)"
        file: "src/__tests__/integration/permissions-roles.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-08"]
        status: passing

      # sync-realtime.integration.test.ts (22 tests)
      - name: "SYNCED_TABLES contains all 7 tables (AC-082-15)"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-15"]
        covers_ecs: []
        status: passing
      - name: "TABLE_TO_QUERY_KEYS maps every synced table"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-15"]
        covers_ecs: []
        status: passing
      - name: "getQueryKeysForTable returns correct keys (AC-082-18)"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-18"]
        covers_ecs: []
        status: passing
      - name: "POLLING_INTERVAL_MS is 2500ms"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-15"]
        covers_ecs: []
        status: passing
      - name: "isNetInfoOnline connection states (AC-082-16)"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-16"]
        covers_ecs: []
        status: passing
      - name: "offline queue FIFO enqueue/dequeue (AC-082-17)"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-17"]
        covers_ecs: []
        status: passing
      - name: "enqueue returns false when queue is full (EC-082-09)"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-09"]
        status: passing
      - name: "queue persistence across cycles (EC-082-10)"
        file: "src/__tests__/integration/sync-realtime.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-10"]
        status: passing

      # sunday-types-auto.integration.test.ts (24 tests)
      - name: "getSundayOfMonth returns correct week number (AC-082-19)"
        file: "src/__tests__/integration/sunday-types-auto.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-19"]
        covers_ecs: []
        status: passing
      - name: "getAutoAssignedType regular months (AC-082-20)"
        file: "src/__tests__/integration/sunday-types-auto.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-20"]
        covers_ecs: []
        status: passing
      - name: "getAutoAssignedType conference months (AC-082-20)"
        file: "src/__tests__/integration/sunday-types-auto.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-20"]
        covers_ecs: []
        status: passing
      - name: "SUNDAY_TYPE constants (AC-082-21)"
        file: "src/__tests__/integration/sunday-types-auto.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-21"]
        covers_ecs: []
        status: passing
      - name: "useAutoAssignSundayTypes hook (AC-082-22)"
        file: "src/__tests__/integration/sunday-types-auto.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-22"]
        covers_ecs: []
        status: passing
      - name: "edge case dates (EC-082-11)"
        file: "src/__tests__/integration/sunday-types-auto.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-11"]
        status: passing
      - name: "boundary Sunday number (EC-082-12)"
        file: "src/__tests__/integration/sunday-types-auto.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-12"]
        status: passing

      # speech-lifecycle.integration.test.ts (19 tests)
      - name: "VALID_TRANSITIONS map completeness (AC-082-23)"
        file: "src/__tests__/integration/speech-lifecycle.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-23"]
        covers_ecs: []
        status: passing
      - name: "isValidTransition valid/invalid/self (AC-082-24)"
        file: "src/__tests__/integration/speech-lifecycle.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-24"]
        covers_ecs: []
        status: passing
      - name: "getAvailableStatuses returns correct next statuses (AC-082-25)"
        file: "src/__tests__/integration/speech-lifecycle.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-25"]
        covers_ecs: []
        status: passing
      - name: "assign speaker lifecycle (AC-082-26)"
        file: "src/__tests__/integration/speech-lifecycle.integration.test.ts"
        type: integration
        covers_acs: ["AC-082-26"]
        covers_ecs: []
        status: passing
      - name: "full lifecycle sequence (EC-082-13)"
        file: "src/__tests__/integration/speech-lifecycle.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-13"]
        status: passing
      - name: "invalid transition error message (EC-082-14)"
        file: "src/__tests__/integration/speech-lifecycle.integration.test.ts"
        type: integration
        covers_acs: []
        covers_ecs: ["EC-082-14"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 13 - F083 (CR-140): Rename Settings tab labels
  # ---------------------------------------------------------------------------
  - phase: 17
    feature: F083
    cr: CR-140
    tests:
      - name: "pt-BR settings.members = Discursantes (AC-083-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-01"]
        covers_ecs: []
        status: passing
      - name: "en settings.members = Speakers (AC-083-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-01"]
        covers_ecs: []
        status: passing
      - name: "es settings.members = Oradores (AC-083-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR members.title = Discursantes (AC-083-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-02"]
        covers_ecs: []
        status: passing
      - name: "en members.title = Speakers (AC-083-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-02"]
        covers_ecs: []
        status: passing
      - name: "es members.title = Oradores (AC-083-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-02"]
        covers_ecs: []
        status: passing
      - name: "pt-BR settings.topics = Biblioteca de Temas (AC-083-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-03"]
        covers_ecs: []
        status: passing
      - name: "en settings.topics = Topic Library (AC-083-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-03"]
        covers_ecs: []
        status: passing
      - name: "es settings.topics = Biblioteca de Temas (AC-083-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-03"]
        covers_ecs: []
        status: passing
      - name: "pt-BR topics.title = Biblioteca de Temas (AC-083-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-04"]
        covers_ecs: []
        status: passing
      - name: "en topics.title = Topic Library (AC-083-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-04"]
        covers_ecs: []
        status: passing
      - name: "es topics.title = Biblioteca de Temas (AC-083-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-04"]
        covers_ecs: []
        status: passing
      - name: "pt-BR settings.users contains App (AC-083-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-05"]
        covers_ecs: []
        status: passing
      - name: "en settings.users = App Users (AC-083-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-05"]
        covers_ecs: []
        status: passing
      - name: "es settings.users contains App (AC-083-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-05"]
        covers_ecs: []
        status: passing
      - name: "pt-BR users.title contains App (AC-083-06)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-06"]
        covers_ecs: []
        status: passing
      - name: "en users.title = App Users (AC-083-06)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-06"]
        covers_ecs: []
        status: passing
      - name: "es users.title contains App (AC-083-06)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-06"]
        covers_ecs: []
        status: passing
      - name: "pt-BR settings.history contains Uso (AC-083-07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-07"]
        covers_ecs: []
        status: passing
      - name: "en settings.history = Usage History (AC-083-07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-07"]
        covers_ecs: []
        status: passing
      - name: "es settings.history contains Uso (AC-083-07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-07"]
        covers_ecs: []
        status: passing
      - name: "pt-BR activityLog.title contains Uso (AC-083-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-08"]
        covers_ecs: []
        status: passing
      - name: "en activityLog.title = Usage History (AC-083-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-08"]
        covers_ecs: []
        status: passing
      - name: "es activityLog.title contains Uso (AC-083-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-08"]
        covers_ecs: []
        status: passing
      - name: "pt-BR settings.theme = Tema Claro/Escuro (AC-083-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-09"]
        covers_ecs: []
        status: passing
      - name: "en settings.theme = Light/Dark Theme (AC-083-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-09"]
        covers_ecs: []
        status: passing
      - name: "es settings.theme = Tema Claro/Oscuro (AC-083-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-09"]
        covers_ecs: []
        status: passing
      - name: "settings.theme key serves as both card label and screen title (AC-083-10)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-083-10"]
        covers_ecs: []
        status: passing
      - name: "i18n keys unchanged (EC-083-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-083-01"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 13 - F084 (CR-141): Sunday type selector in Agenda tab
  # ---------------------------------------------------------------------------
  - phase: 17
    feature: F084
    cr: CR-141
    tests:
      - name: "agenda.tsx imports SundayTypeDropdown from SundayCard (AC-084-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-01"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx renders SundayTypeDropdown (AC-084-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-01"]
        covers_ecs: []
        status: passing
      - name: "SundayTypeDropdown appears before AgendaForm (AC-084-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-01"]
        covers_ecs: []
        status: passing
      - name: "SundayTypeDropdown exported from SundayCard.tsx (AC-084-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-02"]
        covers_ecs: []
        status: passing
      - name: "SundayTypeDropdownProps exported (AC-084-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-02"]
        covers_ecs: []
        status: passing
      - name: "SundayTypeDropdown receives speeches prop (AC-084-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-03", "AC-084-04", "AC-084-05"]
        covers_ecs: []
        status: passing
      - name: "SundayTypeDropdown receives onDeleteSpeeches prop (AC-084-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-03", "AC-084-04"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx has onRevertToSpeeches handler (AC-084-06/07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-06", "AC-084-07"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx imports useRemoveSundayException (AC-084-06/07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-06", "AC-084-07"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx uses hasPermission (AC-084-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-08"]
        covers_ecs: []
        status: passing
      - name: "typeDisabled prop passed to AgendaSundayCard (AC-084-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-08"]
        covers_ecs: []
        status: passing
      - name: "disabled={typeDisabled} passed to SundayTypeDropdown (AC-084-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-08"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx imports useSetSundayType (AC-084-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-09"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx calls setSundayType.mutate (AC-084-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-09"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx imports useDeleteSpeechesByDate (AC-084-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-084-09"]
        covers_ecs: []
        status: passing
      - name: "SundayTypeDropdown derives from exception (EC-084-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-084-01"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 13 - F085 (CR-142): Activity log entries overhaul with i18n
  # ---------------------------------------------------------------------------
  - phase: 17
    feature: F085
    cr: CR-142
    tests:
      # buildLogDescription tests
      - name: "buildLogDescription member:create (AC-085-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-01"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription member:update (AC-085-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-02"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription member:delete (AC-085-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-03"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription speech:assign (AC-085-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-04"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription speech:assign_theme (AC-085-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-05"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription speech:unassign (AC-085-06)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-06"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription speech:status_change (AC-085-07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-07"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription speech_cleanup (AC-085-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-08"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription topic:create (AC-085-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-09"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription collection:activate (AC-085-10)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-10"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription actor:create with funcao (AC-085-11)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-11"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription sunday_type:change (AC-085-12)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-12"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription agenda:edit (AC-085-13)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-13"]
        covers_ecs: []
        status: passing
      - name: "buildLogDescription user:name-update (AC-085-14)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-14"]
        covers_ecs: []
        status: passing
      # formatLogDescription tests
      - name: "formatLogDescription old-format fallback (AC-085-15)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-15"]
        covers_ecs: []
        status: passing
      - name: "formatLogDescription translates with i18n (AC-085-16)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-16"]
        covers_ecs: []
        status: passing
      - name: "formatLogDescription translates topic:create (AC-085-16)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-16"]
        covers_ecs: []
        status: passing
      - name: "formatLogDescription translates actor role (AC-085-17)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-17"]
        covers_ecs: []
        status: passing
      - name: "formatLogDescription translates can_conduct role (AC-085-17)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-17"]
        covers_ecs: []
        status: passing
      # parseLogDescription tests
      - name: "parseLogDescription returns null for old format"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-15"]
        covers_ecs: []
        status: passing
      - name: "parseLogDescription parses single-param format"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-16"]
        covers_ecs: []
        status: passing
      - name: "parseLogDescription parses multi-param format"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-16"]
        covers_ecs: []
        status: passing
      # EC-085 tests
      - name: "incomplete structured format (EC-085-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-01"]
        status: passing
      - name: "unknown action_type fallback (EC-085-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-02"]
        status: passing
      - name: "speech:assign_theme log added in useSpeeches (EC-085-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-03"]
        status: passing
      - name: "speech status translated via speechStatus i18n (EC-085-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-04"]
        status: passing
      - name: "ACTOR_ROLE_I18N_KEYS maps can_preside (EC-085-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-05"]
        status: passing
      - name: "ACTOR_ROLE_I18N_KEYS maps can_conduct (EC-085-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-05"]
        status: passing
      - name: "ACTOR_ROLE_I18N_KEYS maps can_recognize (EC-085-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-05"]
        status: passing
      - name: "ACTOR_ROLE_I18N_KEYS maps can_music (EC-085-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-085-05"]
        status: passing
      # i18n keys - 24 event keys x 3 locales = 72 tests
      - name: "24 activityLog.events keys in pt-BR (AC-085-01..14)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-01", "AC-085-02", "AC-085-03", "AC-085-04", "AC-085-05", "AC-085-06", "AC-085-07", "AC-085-08", "AC-085-09", "AC-085-10", "AC-085-11", "AC-085-12", "AC-085-13", "AC-085-14"]
        covers_ecs: []
        status: passing
      - name: "24 activityLog.events keys in en (AC-085-01..14)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-01", "AC-085-02", "AC-085-03", "AC-085-04", "AC-085-05", "AC-085-06", "AC-085-07", "AC-085-08", "AC-085-09", "AC-085-10", "AC-085-11", "AC-085-12", "AC-085-13", "AC-085-14"]
        covers_ecs: []
        status: passing
      - name: "24 activityLog.events keys in es (AC-085-01..14)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-01", "AC-085-02", "AC-085-03", "AC-085-04", "AC-085-05", "AC-085-06", "AC-085-07", "AC-085-08", "AC-085-09", "AC-085-10", "AC-085-11", "AC-085-12", "AC-085-13", "AC-085-14"]
        covers_ecs: []
        status: passing
      # actorRoles keys - 4 keys x 3 locales = 12 tests
      - name: "4 actorRoles keys in all 3 locales (AC-085-17)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-17"]
        covers_ecs: []
        status: passing
      # Hooks using buildLogDescription - 8 tests
      - name: "useMembers.ts uses buildLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-01", "AC-085-02", "AC-085-03"]
        covers_ecs: []
        status: passing
      - name: "useSpeeches.ts uses buildLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-04", "AC-085-05", "AC-085-06", "AC-085-07", "AC-085-08"]
        covers_ecs: ["EC-085-03"]
        status: passing
      - name: "useTopics.ts uses buildLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-09", "AC-085-10"]
        covers_ecs: []
        status: passing
      - name: "useActors.ts uses buildLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-11"]
        covers_ecs: []
        status: passing
      - name: "useSundayTypes.ts uses buildLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-12"]
        covers_ecs: []
        status: passing
      - name: "useAgenda.ts uses buildLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-13"]
        covers_ecs: []
        status: passing
      - name: "settings/users.tsx uses buildLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-14"]
        covers_ecs: []
        status: passing
      - name: "no old hardcoded log descriptions remain in hooks"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-01", "AC-085-02", "AC-085-03", "AC-085-04", "AC-085-05", "AC-085-06", "AC-085-07", "AC-085-08", "AC-085-09", "AC-085-10", "AC-085-11", "AC-085-12", "AC-085-13", "AC-085-14"]
        covers_ecs: []
        status: passing
      # history.tsx rendering - 2 tests
      - name: "history.tsx imports formatLogDescription"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-15", "AC-085-16"]
        covers_ecs: []
        status: passing
      - name: "history.tsx uses formatLogDescription(item.description, t)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-15", "AC-085-16"]
        covers_ecs: []
        status: passing
      # Interpolation placeholder tests - 6 tests
      - name: "member_create has {{nome}} placeholder"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-01"]
        covers_ecs: []
        status: passing
      - name: "speech_assign has {{nome}}, {{N}}, {{data}} placeholders"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-04"]
        covers_ecs: []
        status: passing
      - name: "speech_assign_theme has colecao, titulo, N, data placeholders"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-05"]
        covers_ecs: []
        status: passing
      - name: "actor_create has nome and funcao placeholders"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-11"]
        covers_ecs: []
        status: passing
      - name: "sunday_type_change has data and tipo placeholders"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-12"]
        covers_ecs: []
        status: passing
      - name: "user_removed has nome and email placeholders"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-085-14"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 13 - F086 (CR-143): Static timezone list
  # ---------------------------------------------------------------------------
  - phase: 17
    feature: F086
    cr: CR-143
    tests:
      - name: "no pg_timezone_names in production source files (AC-086-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-086-01"]
        covers_ecs: []
        status: passing
      - name: "timezone.tsx defines TIMEZONES constant (AC-086-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-086-02"]
        covers_ecs: []
        status: passing
      - name: "timezone.tsx does not query pg_timezone_names (AC-086-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-086-02"]
        covers_ecs: []
        status: passing
      - name: "no migration references pg_timezone_names (AC-086-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-086-03"]
        covers_ecs: []
        status: passing
      - name: "TIMEZONES has >50 entries (EC-086-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-086-01"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 13 - F087 (CR-144): Fix search_path in SQL functions
  # ---------------------------------------------------------------------------
  - phase: 17
    feature: F087
    cr: CR-144
    tests:
      - name: "migration contains update_updated_at_column (AC-087-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-01"]
        covers_ecs: []
        status: passing
      - name: "update_updated_at_column has SET search_path (AC-087-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-01"]
        covers_ecs: []
        status: passing
      - name: "migration contains auth.ward_id (AC-087-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-02"]
        covers_ecs: []
        status: passing
      - name: "auth.ward_id has SET search_path (AC-087-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-02"]
        covers_ecs: []
        status: passing
      - name: "auth.ward_id references auth.jwt() (AC-087-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-02"]
        covers_ecs: ["EC-087-01"]
        status: passing
      - name: "list_ward_users present in migration (AC-087-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-03"]
        covers_ecs: []
        status: passing
      - name: "list_ward_users has SET search_path (AC-087-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-03"]
        covers_ecs: []
        status: passing
      - name: "list_ward_users references auth.users (AC-087-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-03"]
        covers_ecs: []
        status: passing
      - name: "create_weekly_reminders present (AC-087-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-04"]
        covers_ecs: []
        status: passing
      - name: "create_weekly_reminders has SET search_path (AC-087-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-04"]
        covers_ecs: []
        status: passing
      - name: "create_weekly_reminders uses public.wards (AC-087-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-04"]
        covers_ecs: []
        status: passing
      - name: "create_weekly_reminders uses public.sunday_exceptions (AC-087-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-04"]
        covers_ecs: []
        status: passing
      - name: "create_weekly_reminders uses public.speeches (AC-087-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-04"]
        covers_ecs: []
        status: passing
      - name: "create_weekly_reminders uses public.notification_queue (AC-087-04)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-04"]
        covers_ecs: []
        status: passing
      - name: "enqueue_speech_notification present (AC-087-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-05"]
        covers_ecs: []
        status: passing
      - name: "enqueue_speech_notification has SET search_path (AC-087-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-05"]
        covers_ecs: []
        status: passing
      - name: "enqueue_speech_notification uses public.notification_queue (AC-087-05)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-05"]
        covers_ecs: []
        status: passing
      - name: "delete_old_activity_log present (AC-087-06)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-06"]
        covers_ecs: []
        status: passing
      - name: "delete_old_activity_log has SET search_path (AC-087-06)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-06"]
        covers_ecs: []
        status: passing
      - name: "delete_old_activity_log uses public.activity_log (AC-087-06)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-06"]
        covers_ecs: []
        status: passing
      - name: "import_members present (AC-087-07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-07"]
        covers_ecs: []
        status: passing
      - name: "import_members has SET search_path (AC-087-07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-07"]
        covers_ecs: []
        status: passing
      - name: "import_members uses public.members (AC-087-07)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-07"]
        covers_ecs: []
        status: passing
      - name: "all 7 function names present in migration (AC-087-08)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-08"]
        covers_ecs: []
        status: passing
      - name: "at least 7 search_path occurrences (AC-087-09)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-09"]
        covers_ecs: []
        status: passing
      - name: "auth.jwt() fully qualified (EC-087-01)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-087-01"]
        status: passing
      - name: "trigger uses NEW.status and NEW.ward_id (EC-087-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-087-02"]
        status: passing
      - name: "update_updated_at uses NEW.updated_at (EC-087-02)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-087-02"]
        status: passing
      - name: "import_members uses jsonb_array_elements (EC-087-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-087-03"]
        status: passing
      - name: "import_members INSERT INTO public.members (EC-087-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-087-03"]
        status: passing
      - name: "import_members DELETE FROM public.members (EC-087-03)"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-087-03"]
        status: passing
      - name: "public. prefix for table references in function bodies"
        file: "src/__tests__/batch13.test.ts"
        type: unit
        covers_acs: ["AC-087-04", "AC-087-05", "AC-087-06", "AC-087-07"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-148: Update sunday type change confirmation message (F091)
  # ---------------------------------------------------------------------------
  - phase: 18
    feature: F091
    cr: CR-148
    tests:
      - name: "pt-BR changeConfirmTitle ends with question mark"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-01"]
        covers_ecs: []
        status: passing
      - name: "en changeConfirmTitle has capitalized Sunday and question mark"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-01"]
        covers_ecs: []
        status: passing
      - name: "es changeConfirmTitle ends with question mark"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR changeConfirmMessage mentions e/ou and designacoes serao apagadas"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-02"]
        covers_ecs: []
        status: passing
      - name: "en changeConfirmMessage mentions and/or and will be deleted"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-02"]
        covers_ecs: []
        status: passing
      - name: "es changeConfirmMessage mentions y/o and seran eliminadas"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-02"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have changeConfirmTitle defined"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-03"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have changeConfirmMessage defined"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-03"]
        covers_ecs: []
        status: passing
      - name: "SundayCard.tsx uses sundayExceptions.changeConfirmTitle"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-04"]
        covers_ecs: []
        status: passing
      - name: "SundayCard.tsx uses sundayExceptions.changeConfirmMessage"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-04"]
        covers_ecs: []
        status: passing
      - name: "i18n keys remain unchanged (same key names)"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-05"]
        covers_ecs: []
        status: passing
      - name: "pt-BR message warns about deletion"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-01"]
        status: passing
      - name: "en message warns about deletion"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-01"]
        status: passing
      - name: "es message warns about deletion"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-01"]
        status: passing
      - name: "pt-BR message ends with question"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-02"]
        status: passing
      - name: "en message ends with question"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-02"]
        status: passing
      - name: "es message ends with question"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-02"]
        status: passing
      - name: "SundayCard.tsx checks speaker_name in hasAssignments"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-03"]
        status: passing
      - name: "SundayCard.tsx checks topic_title in hasAssignments"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-03"]
        status: passing
      - name: "SundayCard.tsx uses OR logic for hasAssignments"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-091-03"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-149: Presentation mode button always visible (F092)
  # ---------------------------------------------------------------------------
  - phase: 18
    feature: F092
    cr: CR-149
    tests:
      - name: "index.tsx does NOT contain showMeetingButton"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-01"]
        covers_ecs: []
        status: passing
      - name: "index.tsx renders meetingButton without conditional"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-01"]
        covers_ecs: []
        status: passing
      - name: "index.tsx does NOT import isTodaySunday"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-02"]
        covers_ecs: []
        status: passing
      - name: "usePresentationMode.ts still exports isTodaySunday"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-03"]
        covers_ecs: []
        status: passing
      - name: "usePresentationMode.ts still exports getTodaySundayDate"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-03"]
        covers_ecs: []
        status: passing
      - name: "index.tsx does not gate button on user role"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-04"]
        covers_ecs: []
        status: passing
      - name: "index.tsx uses meetingButton style"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-05"]
        covers_ecs: []
        status: passing
      - name: "index.tsx uses meetingButtonText style"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-05"]
        covers_ecs: []
        status: passing
      - name: "index.tsx uses home.startMeeting i18n key"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-05"]
        covers_ecs: []
        status: passing
      - name: "index.tsx uses home.meetingAgendaTitle i18n key"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-05"]
        covers_ecs: []
        status: passing
      - name: "index.tsx does NOT import useMemo"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-092-01"]
        status: passing
      - name: "index.tsx still navigates to /presentation"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-092-02"]
        status: passing
      - name: "index.tsx uses Pressable for the meeting button"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-092-05"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-147: Offline banner readability on iPhone (F090)
  # ---------------------------------------------------------------------------
  - phase: 18
    feature: F090
    cr: CR-147
    tests:
      - name: "imports useSafeAreaInsets from react-native-safe-area-context"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-01"]
        covers_ecs: []
        status: passing
      - name: "calls useSafeAreaInsets() inside component"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-01"]
        covers_ecs: []
        status: passing
      - name: "applies paddingTop using insets.top"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-01"]
        covers_ecs: []
        status: passing
      - name: "text fontSize is 15 (was 14)"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-02"]
        covers_ecs: []
        status: passing
      - name: "subtext fontSize is 13 (was 12)"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-02"]
        covers_ecs: []
        status: passing
      - name: "background color is #E53E3E"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-03"]
        covers_ecs: []
        status: passing
      - name: "text color is #FFFFFF"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-03"]
        covers_ecs: []
        status: passing
      - name: "subtext color is #FED7D7"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-03"]
        covers_ecs: []
        status: passing
      - name: "banner does not use position absolute"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-04"]
        covers_ecs: []
        status: passing
      - name: "banner has paddingBottom 8"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-090-04"]
        covers_ecs: []
        status: passing
      - name: "banner style does not have paddingVertical"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-090-01"]
        status: passing
      - name: "banner has paddingHorizontal 16"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-090-02"]
        status: passing
      - name: "banner has alignItems center"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-090-03"]
        status: passing
      - name: "banner text has fontWeight 700"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-090-03"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-145: Password reset email redirect URL + reset page (F088)
  # ---------------------------------------------------------------------------
  - phase: 18
    feature: F088
    cr: CR-145
    tests:
      - name: "forgot-password.tsx imports expo-linking"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-02"]
        covers_ecs: []
        status: passing
      - name: "forgot-password.tsx uses Linking.createURL"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-02"]
        covers_ecs: []
        status: passing
      - name: "creates URL with /(auth)/reset-password path"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-02"]
        covers_ecs: []
        status: passing
      - name: "passes redirectTo option to resetPasswordForEmail"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-02"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx file exists"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-03"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx exports default component"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-03"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx has password input field"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-03"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx has confirm password field"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-03"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx calls updateUser with password"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-03", "AC-088-04"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx shows success message"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-04"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx shows back to login link"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-04"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx handles expired token"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-02"]
        status: passing
      - name: "pt-BR has all 7 new auth keys"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "en has all 7 new auth keys"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "es has all 7 new auth keys"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "uses * as Linking namespace import"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-01"]
        status: passing
      - name: "reset-password.tsx checks password length"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-02"]
        status: passing
      - name: "reset-password.tsx checks password mismatch"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-02"]
        status: passing
      - name: "reset-password.tsx listens for PASSWORD_RECOVERY event"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-03"]
        status: passing
      - name: "reset-password.tsx uses onAuthStateChange"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-03"]
        status: passing
      - name: "reset-password.tsx checks for existing session on mount"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-03"]
        status: passing
      - name: "pt-BR resetPasswordTitle is correct"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-01"]
        covers_ecs: ["EC-088-04"]
        status: passing
      - name: "en resetPasswordTitle is correct"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-01"]
        covers_ecs: ["EC-088-04"]
        status: passing
      - name: "es resetPasswordTitle is correct"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-01"]
        covers_ecs: ["EC-088-04"]
        status: passing
      - name: "pt-BR updatePassword is correct"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-01"]
        covers_ecs: ["EC-088-04"]
        status: passing
      - name: "en updatePassword is correct"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-01"]
        covers_ecs: ["EC-088-04"]
        status: passing
      - name: "es updatePassword is correct"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-01"]
        covers_ecs: ["EC-088-04"]
        status: passing
      - name: "reset-password.tsx uses auth.resetPasswordTitle i18n key"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-01"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx uses useTheme for themed styling"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-03"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx uses useTranslation for i18n"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx uses secureTextEntry for both fields"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-03"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx navigates to login after success"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-04"]
        covers_ecs: []
        status: passing
      - name: "reset-password.tsx has password length validation"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-088-02"]
        status: passing

  # ---------------------------------------------------------------------------
  # CR-146: Offline graceful degradation (F089)
  # ---------------------------------------------------------------------------
  - phase: 18
    feature: F089
    cr: CR-146
    tests:
      - name: "_layout.tsx has networkMode offlineFirst in queries"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-01"]
        covers_ecs: []
        status: passing
      - name: "_layout.tsx checks onlineManager.isOnline() in MutationCache.onError"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-02"]
        covers_ecs: []
        status: passing
      - name: "_layout.tsx checks for network error messages"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-02"]
        covers_ecs: []
        status: passing
      - name: "_layout.tsx returns early when offline or network error"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-02"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has common.offlineNoData"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-03"]
        covers_ecs: []
        status: passing
      - name: "en has common.offlineNoData"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-03"]
        covers_ecs: []
        status: passing
      - name: "es has common.offlineNoData"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-03"]
        covers_ecs: []
        status: passing
      - name: "networkMode offlineFirst is set globally"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-04"]
        covers_ecs: []
        status: passing
      - name: "retry function checks onlineManager.isOnline()"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-05"]
        covers_ecs: []
        status: passing
      - name: "retry returns false when offline"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-05"]
        covers_ecs: []
        status: passing
      - name: "useConnection.ts imports onlineManager"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-06"]
        covers_ecs: []
        status: passing
      - name: "useConnection.ts calls onlineManager.setOnline"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-06"]
        covers_ecs: []
        status: passing
      - name: "onlineManager.setOnline is called after setIsOnline"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-06"]
        covers_ecs: []
        status: passing
      - name: "_layout.tsx imports onlineManager from @tanstack/react-query"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-089-01"]
        status: passing
      - name: "useConnection.ts imports onlineManager from @tanstack/react-query"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-089-01"]
        status: passing
      - name: "useConnection.ts has only one useEffect"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-089-02"]
        status: passing
      - name: "_layout.tsx still has Alert.alert call"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-089-03"]
        status: passing
      - name: "_layout.tsx still references errors.mutationFailed"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-089-03"]
        status: passing
      - name: "_layout.tsx checks for fetch error string"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-02"]
        covers_ecs: ["EC-089-03"]
        status: passing
      - name: "_layout.tsx mutations have retry: 0"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-05"]
        covers_ecs: []
        status: passing
      - name: "_layout.tsx has staleTime configured"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-01"]
        covers_ecs: []
        status: passing
      - name: "_layout.tsx retry checks error status 400-499"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-01"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Cross-feature: i18n key consistency (Batch 14 Phase 1)
  # ---------------------------------------------------------------------------
  - phase: 18
    feature: cross
    cr: batch14-phase1
    tests:
      - name: "all 3 locales have common.offlineNoData"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-089-03"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have auth.resetPasswordTitle"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have updated sundayExceptions.changeConfirmTitle with ?"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-091-01"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have auth.passwordMismatch"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have auth.resetExpired"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have auth.newPassword"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing
      - name: "all 3 locales have auth.confirmPassword"
        file: "src/__tests__/batch14-phase1.test.ts"
        type: unit
        covers_acs: ["AC-088-05"]
        covers_ecs: []
        status: passing

coverage:
  acceptance_criteria:
    - id: AC-088-01
      covered: true
      tests: ["pt-BR resetPasswordTitle is correct", "en resetPasswordTitle is correct", "es resetPasswordTitle is correct", "pt-BR updatePassword is correct", "en updatePassword is correct", "es updatePassword is correct", "reset-password.tsx uses auth.resetPasswordTitle i18n key"]
    - id: AC-088-02
      covered: true
      tests: ["forgot-password.tsx imports expo-linking", "forgot-password.tsx uses Linking.createURL", "creates URL with /(auth)/reset-password path", "passes redirectTo option to resetPasswordForEmail"]
    - id: AC-088-03
      covered: true
      tests: ["reset-password.tsx file exists", "reset-password.tsx exports default component", "reset-password.tsx has password input field", "reset-password.tsx has confirm password field", "reset-password.tsx calls updateUser with password", "reset-password.tsx uses useTheme for themed styling", "reset-password.tsx uses secureTextEntry for both fields"]
    - id: AC-088-04
      covered: true
      tests: ["reset-password.tsx calls updateUser with password", "reset-password.tsx shows success message", "reset-password.tsx shows back to login link", "reset-password.tsx navigates to login after success"]
    - id: AC-088-05
      covered: true
      tests: ["pt-BR has all 7 new auth keys", "en has all 7 new auth keys", "es has all 7 new auth keys", "reset-password.tsx uses useTranslation for i18n", "all 3 locales have auth.passwordMismatch", "all 3 locales have auth.resetExpired", "all 3 locales have auth.newPassword", "all 3 locales have auth.confirmPassword"]
    - id: AC-089-01
      covered: true
      tests: ["_layout.tsx has networkMode offlineFirst in queries", "_layout.tsx has staleTime configured", "_layout.tsx retry checks error status 400-499"]
    - id: AC-089-02
      covered: true
      tests: ["_layout.tsx checks onlineManager.isOnline() in MutationCache.onError", "_layout.tsx checks for network error messages", "_layout.tsx returns early when offline or network error", "_layout.tsx checks for fetch error string"]
    - id: AC-089-03
      covered: true
      tests: ["pt-BR has common.offlineNoData", "en has common.offlineNoData", "es has common.offlineNoData", "all 3 locales have common.offlineNoData"]
    - id: AC-089-04
      covered: true
      tests: ["networkMode offlineFirst is set globally"]
    - id: AC-089-05
      covered: true
      tests: ["retry function checks onlineManager.isOnline()", "retry returns false when offline", "_layout.tsx mutations have retry: 0"]
    - id: AC-089-06
      covered: true
      tests: ["useConnection.ts imports onlineManager", "useConnection.ts calls onlineManager.setOnline", "onlineManager.setOnline is called after setIsOnline"]
    - id: AC-090-01
      covered: true
      tests: ["imports useSafeAreaInsets from react-native-safe-area-context", "calls useSafeAreaInsets() inside component", "applies paddingTop using insets.top"]
    - id: AC-090-02
      covered: true
      tests: ["text fontSize is 15 (was 14)", "subtext fontSize is 13 (was 12)"]
    - id: AC-090-03
      covered: true
      tests: ["background color is #E53E3E", "text color is #FFFFFF", "subtext color is #FED7D7"]
    - id: AC-090-04
      covered: true
      tests: ["banner does not use position absolute", "banner has paddingBottom 8"]
    - id: AC-091-01
      covered: true
      tests: ["pt-BR changeConfirmTitle ends with question mark", "en changeConfirmTitle has capitalized Sunday and question mark", "es changeConfirmTitle ends with question mark", "all 3 locales have updated sundayExceptions.changeConfirmTitle with ?"]
    - id: AC-091-02
      covered: true
      tests: ["pt-BR changeConfirmMessage mentions e/ou and designacoes serao apagadas", "en changeConfirmMessage mentions and/or and will be deleted", "es changeConfirmMessage mentions y/o and seran eliminadas"]
    - id: AC-091-03
      covered: true
      tests: ["all 3 locales have changeConfirmTitle defined", "all 3 locales have changeConfirmMessage defined"]
    - id: AC-091-04
      covered: true
      tests: ["SundayCard.tsx uses sundayExceptions.changeConfirmTitle", "SundayCard.tsx uses sundayExceptions.changeConfirmMessage"]
    - id: AC-091-05
      covered: true
      tests: ["i18n keys remain unchanged (same key names)"]
    - id: AC-092-01
      covered: true
      tests: ["index.tsx does NOT contain showMeetingButton", "index.tsx renders meetingButton without conditional"]
    - id: AC-092-02
      covered: true
      tests: ["index.tsx does NOT import isTodaySunday"]
    - id: AC-092-03
      covered: true
      tests: ["usePresentationMode.ts still exports isTodaySunday", "usePresentationMode.ts still exports getTodaySundayDate"]
    - id: AC-092-04
      covered: true
      tests: ["index.tsx does not gate button on user role"]
    - id: AC-092-05
      covered: true
      tests: ["index.tsx uses meetingButton style", "index.tsx uses meetingButtonText style", "index.tsx uses home.startMeeting i18n key", "index.tsx uses home.meetingAgendaTitle i18n key", "index.tsx uses Pressable for the meeting button"]

  edge_cases:
    - id: EC-088-01
      covered: true
      tests: ["uses * as Linking namespace import"]
    - id: EC-088-02
      covered: true
      tests: ["reset-password.tsx handles expired token", "reset-password.tsx checks password length", "reset-password.tsx checks password mismatch", "reset-password.tsx has password length validation"]
    - id: EC-088-03
      covered: true
      tests: ["reset-password.tsx listens for PASSWORD_RECOVERY event", "reset-password.tsx uses onAuthStateChange", "reset-password.tsx checks for existing session on mount"]
    - id: EC-088-04
      covered: true
      tests: ["pt-BR resetPasswordTitle is correct", "en resetPasswordTitle is correct", "es resetPasswordTitle is correct", "pt-BR updatePassword is correct", "en updatePassword is correct", "es updatePassword is correct"]
    - id: EC-089-01
      covered: true
      tests: ["_layout.tsx imports onlineManager from @tanstack/react-query", "useConnection.ts imports onlineManager from @tanstack/react-query"]
    - id: EC-089-02
      covered: true
      tests: ["useConnection.ts has only one useEffect"]
    - id: EC-089-03
      covered: true
      tests: ["_layout.tsx still has Alert.alert call", "_layout.tsx still references errors.mutationFailed", "_layout.tsx checks for fetch error string"]
    - id: EC-090-01
      covered: true
      tests: ["banner style does not have paddingVertical"]
    - id: EC-090-02
      covered: true
      tests: ["banner has paddingHorizontal 16"]
    - id: EC-090-03
      covered: true
      tests: ["banner has alignItems center", "banner text has fontWeight 700"]
    - id: EC-091-01
      covered: true
      tests: ["pt-BR message warns about deletion", "en message warns about deletion", "es message warns about deletion"]
    - id: EC-091-02
      covered: true
      tests: ["pt-BR message ends with question", "en message ends with question", "es message ends with question"]
    - id: EC-091-03
      covered: true
      tests: ["SundayCard.tsx checks speaker_name in hasAssignments", "SundayCard.tsx checks topic_title in hasAssignments", "SundayCard.tsx uses OR logic for hasAssignments"]
    - id: EC-092-01
      covered: true
      tests: ["index.tsx does NOT import useMemo"]
    - id: EC-092-02
      covered: true
      tests: ["index.tsx still navigates to /presentation"]

  # ---------------------------------------------------------------------------
  # Batch 14 Phase 2: F093-F096 (CR-150 to CR-153)
  # ---------------------------------------------------------------------------

  # --- F093 (CR-150): Collapsed SundayCard with speaker names and vertical LEDs ---
  - phase: 19
    feature: F093
    cr: CR-150
    tests:
      # AC-093-01
      - name: "renders 3 speaker lines when isSpeechesType && !expanded"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "uses speeches.slot i18n key for positions 1 and 2"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "uses speeches.lastSpeech i18n key for position 3"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "format is posLabel: name"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "map iterates over [1, 2, 3] array"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "key={pos} ensures unique keys for 3 lines"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      # AC-093-02
      - name: "uses fallback empty string for missing speaker name"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-02"]
        covers_ecs: ["EC-093-01"]
        status: passing
      - name: "line always renders (not conditional on name existing)"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-02"]
        covers_ecs: []
        status: passing
      # AC-093-03
      - name: "has ledsVertical style with flexDirection column"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-03"]
        covers_ecs: []
        status: passing
      - name: "ledsVertical has gap 4"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-03"]
        covers_ecs: []
        status: passing
      - name: "has both leds and ledsVertical styles defined"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-03"]
        covers_ecs: []
        status: passing
      - name: "horizontal leds style has flexDirection row"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-03"]
        covers_ecs: []
        status: passing
      - name: "LEDs block starts with {!expanded && isSpeechesType && ("
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-03", "AC-093-04"]
        covers_ecs: []
        status: passing
      - name: "LEDs View uses ledsVertical style"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-03"]
        covers_ecs: []
        status: passing
      # AC-093-04
      - name: "speaker names conditioned on !expanded"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-04"]
        covers_ecs: []
        status: passing
      - name: "LEDs conditioned on !expanded && isSpeechesType"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-04"]
        covers_ecs: []
        status: passing
      # AC-093-05
      - name: "exception text rendered when !isSpeechesType"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-05"]
        covers_ecs: []
        status: passing
      - name: "exceptionText style exists"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-05"]
        covers_ecs: []
        status: passing
      - name: "exception text uses colors.warning"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-05"]
        covers_ecs: []
        status: passing
      # AC-093-06
      - name: "NextSundaysSection imports SundayCard"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-06"]
        covers_ecs: []
        status: passing
      # AC-093-07
      - name: "speeches.tsx imports SundayCard"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-07"]
        covers_ecs: []
        status: passing
      # EC-093-01
      - name: "name defaults to empty string when speech not found"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-093-01"]
        status: passing
      # EC-093-02
      - name: "speaker name text has numberOfLines={1}"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-093-02"]
        status: passing
      - name: "speaker name text has ellipsizeMode tail"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-093-02"]
        status: passing
      - name: "speakerNameLine uses colors.textSecondary"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-093-02"]
        status: passing
      # EC-093-03
      - name: "card has isPast && !expanded opacity condition"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-093-03"]
        status: passing
      # Style
      - name: "speakerNameLine style has fontSize 11"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      # i18n for collapsed card
      - name: "pt-BR has speeches.slot key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has speeches.lastSpeech key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "en has speeches.slot key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "en has speeches.lastSpeech key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "es has speeches.slot key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing
      - name: "es has speeches.lastSpeech key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-093-01"]
        covers_ecs: []
        status: passing

  # --- F094 (CR-151): Pianist and Conductor fields in Agenda ---
  - phase: 19
    feature: F094
    cr: CR-151
    tests:
      # AC-094-01
      - name: "AgendaForm has pianist SelectorField"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-01"]
        covers_ecs: []
        status: passing
      - name: "pianist uses agenda.pianist i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-01"]
        covers_ecs: []
        status: passing
      # AC-094-02
      - name: "AgendaForm has conductor SelectorField"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-02"]
        covers_ecs: []
        status: passing
      - name: "conductor uses agenda.conductor i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-02"]
        covers_ecs: []
        status: passing
      # AC-094-03
      - name: "pianist field uses can_music roleFilter"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-03"]
        covers_ecs: []
        status: passing
      # AC-094-04
      - name: "conductor field uses can_music roleFilter"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-04"]
        covers_ecs: []
        status: passing
      # AC-094-05
      - name: "pianist uses field name pianist for auto name/id derivation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-05"]
        covers_ecs: []
        status: passing
      - name: "handleActorSelect builds nameField as ${field}_name"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-05", "AC-094-06"]
        covers_ecs: []
        status: passing
      - name: "handleActorSelect builds idField as ${field}_actor_id"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-05", "AC-094-06"]
        covers_ecs: []
        status: passing
      # AC-094-06
      - name: "conductor uses field name conductor for auto name/id derivation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-06"]
        covers_ecs: []
        status: passing
      # AC-094-07
      - name: "pianist field checks isObserver before opening selector"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-07"]
        covers_ecs: []
        status: passing
      - name: "conductor field checks isObserver before opening selector"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-07"]
        covers_ecs: []
        status: passing
      - name: "pianist SelectorField has disabled={isObserver}"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-07"]
        covers_ecs: []
        status: passing
      - name: "conductor SelectorField has disabled={isObserver}"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-07"]
        covers_ecs: []
        status: passing
      # AC-094-08
      - name: "buildPresentationCards has pianist_name field"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-08"]
        covers_ecs: []
        status: passing
      - name: "buildPresentationCards has conductor_name field"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-08"]
        covers_ecs: []
        status: passing
      - name: "uses agenda.pianist i18n key in presentation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-08"]
        covers_ecs: []
        status: passing
      - name: "uses agenda.conductor i18n key in presentation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-08"]
        covers_ecs: []
        status: passing
      - name: "pianist and conductor appear after announcements push in buildPresentationCards"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-08"]
        covers_ecs: []
        status: passing
      # AC-094-09
      - name: "pianist appears after announcements and before openingHymn"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-09"]
        covers_ecs: []
        status: passing
      - name: "conductor appears after pianist and before openingHymn"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-09"]
        covers_ecs: []
        status: passing
      - name: "presiding appears before conducting"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-09"]
        covers_ecs: []
        status: passing
      - name: "conducting appears before recognizing"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-09"]
        covers_ecs: []
        status: passing
      - name: "recognizing appears before announcements"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-09"]
        covers_ecs: []
        status: passing
      - name: "conductor appears before openingHymn (additional)"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-09"]
        covers_ecs: []
        status: passing
      - name: "openingHymn appears before openingPrayer"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-09"]
        covers_ecs: []
        status: passing
      # EC-094-01
      - name: "ActorSelector handles empty list gracefully (existing behavior)"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-094-01"]
        status: passing
      # EC-094-02
      - name: "pianist and conductor use separate field names allowing same actor"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-094-02"]
        status: passing
      - name: "pianist_name and conductor_name are separate DB fields"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-094-02"]
        status: passing
      # EC-094-03
      - name: "pianist defaults to empty string (presentation)"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-094-03"]
        status: passing
      - name: "conductor defaults to empty string (presentation)"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-094-03"]
        status: passing
      # i18n
      - name: "pt-BR has agenda.pianist = Pianista"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.conductor = Regente"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-02"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.pianist = Pianist"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-01"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.conductor = Conductor"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-02"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.pianist = Pianista"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-01"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.conductor = Director"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-094-02"]
        covers_ecs: []
        status: passing

  # --- F095 (CR-152): Toggle for Intermediate Hymn in Agenda ---
  - phase: 19
    feature: F095
    cr: CR-152
    tests:
      # AC-095-01 (migration + type + toggle)
      - name: "migration file 016_add_has_intermediate_hymn.sql exists"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-01"]
        covers_ecs: []
        status: passing
      - name: "migration contains ALTER TABLE with has_intermediate_hymn BOOLEAN NOT NULL DEFAULT true"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-01"]
        covers_ecs: []
        status: passing
      - name: "SundayAgenda type has has_intermediate_hymn: boolean"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-01"]
        covers_ecs: []
        status: passing
      - name: "has_intermediate_hymn is placed after has_special_presentation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-01"]
        covers_ecs: []
        status: passing
      - name: "AgendaForm has ToggleField with intermediateHymn label"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-01"]
        covers_ecs: []
        status: passing
      - name: "toggle uses agenda.has_intermediate_hymn value"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-01"]
        covers_ecs: []
        status: passing
      - name: "updateField called with has_intermediate_hymn key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-01"]
        covers_ecs: []
        status: passing
      # AC-095-02
      - name: "hymn selector conditional on has_intermediate_hymn"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-02"]
        covers_ecs: []
        status: passing
      - name: "hymn selector uses intermediate_hymn_id field for hymn selection"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-02"]
        covers_ecs: []
        status: passing
      - name: "hymn selector uses getHymnDisplay for value"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-02"]
        covers_ecs: []
        status: passing
      # AC-095-03
      - name: "hymn selector wrapped in has_intermediate_hymn conditional"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-03"]
        covers_ecs: []
        status: passing
      # AC-095-04
      - name: "toggle is in the else branch of has_special_presentation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-04"]
        covers_ecs: []
        status: passing
      # AC-095-05
      - name: "toggle is inside !isSpecial block"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-05"]
        covers_ecs: []
        status: passing
      - name: "isSpecialMeeting includes testimony_meeting"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-05"]
        covers_ecs: []
        status: passing
      - name: "isSpecialMeeting includes ward_conference"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-05"]
        covers_ecs: []
        status: passing
      # AC-095-06
      - name: "isSpecialMeeting includes primary_presentation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-06"]
        covers_ecs: []
        status: passing
      - name: "isSpecialMeeting includes other"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-06"]
        covers_ecs: []
        status: passing
      # AC-095-07
      - name: "buildPresentationCards checks has_intermediate_hymn !== false"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-095-07"]
        covers_ecs: []
        status: passing
      # EC-095-01
      - name: "intermediate_hymn_id NOT cleared in toggle handler"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-095-01"]
        status: passing
      - name: "no code clears intermediate_hymn_id anywhere in AgendaForm"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-095-01"]
        status: passing
      # EC-095-02
      - name: "has_special_presentation toggle does not modify has_intermediate_hymn"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-095-02"]
        status: passing
      # EC-095-03
      - name: "toggle disabled for observer"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-095-03"]
        status: passing
      - name: "intermediate hymn SelectorField has disabled={isObserver}"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-095-03"]
        status: passing

  # --- F096 (CR-153): Collapsed agenda card status lines ---
  - phase: 19
    feature: F096
    cr: CR-153
    tests:
      # AC-096-01
      - name: "checks presiding_name for missing role"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: ["EC-096-04"]
        status: passing
      - name: "checks conducting_name for missing role"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: ["EC-096-04"]
        status: passing
      - name: "checks pianist_name for missing role"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: ["EC-096-04"]
        status: passing
      - name: "checks conductor_name for missing role"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: ["EC-096-04"]
        status: passing
      - name: "uses statusMissing i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "uses statusPresiding i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "uses statusConducting i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "uses statusPianist i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "uses statusConductor i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "joins missing roles with pipe separator"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "uses immediately invoked function expression for status lines"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "missingRoles starts as empty array"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: ["EC-096-04"]
        status: passing
      - name: "each role pushes translated label"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: ["EC-096-04"]
        status: passing
      # AC-096-02
      - name: "Falta line conditional on missingRoles.length > 0"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-02"]
        covers_ecs: []
        status: passing
      # AC-096-03
      - name: "uses statusSpeakers i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "counts speakers filled out of 3"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      # AC-096-04
      - name: "checks speaker_N_override before speech speaker_name"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-04"]
        covers_ecs: []
        status: passing
      - name: "override field uses keyof SundayAgenda cast"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-04"]
        covers_ecs: []
        status: passing
      - name: "override field name includes speaker_${pos}_override template"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-04"]
        covers_ecs: []
        status: passing
      # AC-096-05
      - name: "uses statusPrayers i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "counts opening and closing prayer"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "prayersFilled starts at 0"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "opening_prayer_name increments count"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "closing_prayer_name increments count"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "prayersFilled compared against 2 for green color"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05", "AC-096-08"]
        covers_ecs: []
        status: passing
      - name: "total parameter is 2 for prayers"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      # AC-096-06
      - name: "uses statusHymns i18n key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      - name: "counts opening, sacrament, closing hymns"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      # AC-096-07
      - name: "base hymn total is 3"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-07"]
        covers_ecs: []
        status: passing
      - name: "hymn total becomes 4 when has_intermediate_hymn and no special presentation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-07"]
        covers_ecs: []
        status: passing
      - name: "counts intermediate_hymn_id when applicable"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-07"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx checks has_intermediate_hymn !== false"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-07"]
        covers_ecs: []
        status: passing
      - name: "presentation mode also checks has_intermediate_hymn !== false"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-07"]
        covers_ecs: []
        status: passing
      # AC-096-08
      - name: "uses green color #22c55e for complete lines"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-08"]
        covers_ecs: []
        status: passing
      - name: "speakers line green when speakersFilled === 3"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-08"]
        covers_ecs: []
        status: passing
      - name: "hymns line green when hymnsFilled === hymnsTotal"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-08"]
        covers_ecs: []
        status: passing
      - name: "GREEN constant defined as #22c55e"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-08"]
        covers_ecs: []
        status: passing
      # AC-096-09
      - name: "status lines conditioned on !exceptionLabel"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-09"]
        covers_ecs: []
        status: passing
      - name: "exception label shown in warning color"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-09"]
        covers_ecs: []
        status: passing
      - name: "exceptionLabel derived from exception.reason"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-09"]
        covers_ecs: []
        status: passing
      - name: "exceptionLabel uses t() for translation"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-09"]
        covers_ecs: []
        status: passing
      # AC-096-10
      - name: "agenda.tsx uses isExcludedFromAgenda for expandable"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-10"]
        covers_ecs: []
        status: passing
      # AC-096-11
      - name: "status lines conditioned on !isExpanded"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-11"]
        covers_ecs: []
        status: passing
      - name: "status lines inside condition that checks both !isExpanded AND !exceptionLabel"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-11"]
        covers_ecs: []
        status: passing
      # useAgendaRange hook
      - name: "useAgendaRange is exported from useAgenda.ts"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange uses agendaKeys.byDateRange query key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange has enabled guard"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange orders by sunday_date"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange returns SundayAgenda array"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange queries from sunday_agendas table"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange filters by ward_id"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange filters by startDate (gte)"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "useAgendaRange filters by endDate (lte)"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      # agenda.tsx integration
      - name: "agenda.tsx imports useAgendaRange"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "agenda.tsx calls useAgendaRange"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "builds agendaMap from useAgendaRange results"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "AgendaSundayCardProps has agenda prop"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: ["EC-096-01"]
        status: passing
      - name: "agenda passed to AgendaSundayCard"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "agendaMap uses useMemo for performance"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "agendaMap iterates over allAgendas"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "agendaMap sets by sunday_date key"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      # EC-096-01
      - name: "agenda prop can be null"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-096-01"]
        status: passing
      - name: "uses optional chaining on agenda fields"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-096-01"]
        status: passing
      # EC-096-02
      - name: "speechMap defaults to empty array"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-096-02"]
        status: passing
      # EC-096-03
      - name: "isPast applies opacity to card"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-096-03"]
        status: passing
      # EC-096-04
      - name: "all 4 role names checked for missing roles"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-096-04"]
        status: passing
      # i18n status keys (24 tests: 8 keys x 3 locales)
      - name: "pt-BR has agenda.statusMissing"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.statusSpeakers"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.statusPrayers"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.statusHymns"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.statusPresiding"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.statusConducting"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.statusPianist"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR has agenda.statusConductor"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusMissing"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusSpeakers"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusPrayers"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusHymns"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusPresiding"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusConducting"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusPianist"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusConductor"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusMissing"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusSpeakers"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusPrayers"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusHymns"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusPresiding"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusConducting"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusPianist"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusConductor"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      # Interpolation params (21 tests: 3 keys x 3 locales x {filled, total} + 3 original)
      - name: "statusSpeakers contains interpolation params in pt-BR"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "statusPrayers contains interpolation params in en"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "statusHymns contains interpolation params in es"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      - name: "pt-BR agenda.statusSpeakers has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "pt-BR agenda.statusPrayers has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "pt-BR agenda.statusHymns has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      - name: "en agenda.statusSpeakers has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "en agenda.statusPrayers has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "en agenda.statusHymns has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      - name: "es agenda.statusSpeakers has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-03"]
        covers_ecs: []
        status: passing
      - name: "es agenda.statusPrayers has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-05"]
        covers_ecs: []
        status: passing
      - name: "es agenda.statusHymns has {{filled}} param"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-06"]
        covers_ecs: []
        status: passing
      # Style
      - name: "statusLine style exists"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing
      - name: "statusLine has fontSize 11"
        file: "src/__tests__/batch14-phase2.test.ts"
        type: unit
        covers_acs: ["AC-096-01"]
        covers_ecs: []
        status: passing

  # --- Coverage: Batch 14 Phase 2 ---
  coverage:
    acceptance_criteria:
      - id: AC-093-01
        covered: true
        tests: ["renders 3 speaker lines when isSpeechesType && !expanded", "uses speeches.slot i18n key", "uses speeches.lastSpeech i18n key", "format is posLabel: name", "map iterates over [1, 2, 3] array", "speakerNameLine style has fontSize 11", "i18n keys exist in 3 locales"]
      - id: AC-093-02
        covered: true
        tests: ["uses fallback empty string for missing speaker name", "line always renders (not conditional on name existing)"]
      - id: AC-093-03
        covered: true
        tests: ["has ledsVertical style with flexDirection column", "ledsVertical has gap 4", "has both leds and ledsVertical styles", "LEDs View uses ledsVertical style"]
      - id: AC-093-04
        covered: true
        tests: ["speaker names conditioned on !expanded", "LEDs conditioned on !expanded && isSpeechesType", "LEDs block starts with correct condition"]
      - id: AC-093-05
        covered: true
        tests: ["exception text rendered when !isSpeechesType", "exceptionText style exists", "exception text uses colors.warning"]
      - id: AC-093-06
        covered: true
        tests: ["NextSundaysSection imports SundayCard"]
      - id: AC-093-07
        covered: true
        tests: ["speeches.tsx imports SundayCard"]
      - id: AC-094-01
        covered: true
        tests: ["AgendaForm has pianist SelectorField", "pianist uses agenda.pianist i18n key", "i18n keys exist in 3 locales"]
      - id: AC-094-02
        covered: true
        tests: ["AgendaForm has conductor SelectorField", "conductor uses agenda.conductor i18n key", "i18n keys exist in 3 locales"]
      - id: AC-094-03
        covered: true
        tests: ["pianist field uses can_music roleFilter"]
      - id: AC-094-04
        covered: true
        tests: ["conductor field uses can_music roleFilter"]
      - id: AC-094-05
        covered: true
        tests: ["pianist uses field name pianist for auto derivation", "handleActorSelect builds nameField", "handleActorSelect builds idField"]
      - id: AC-094-06
        covered: true
        tests: ["conductor uses field name conductor for auto derivation", "handleActorSelect builds nameField", "handleActorSelect builds idField"]
      - id: AC-094-07
        covered: true
        tests: ["pianist field checks isObserver", "conductor field checks isObserver", "pianist SelectorField has disabled={isObserver}", "conductor SelectorField has disabled={isObserver}"]
      - id: AC-094-08
        covered: true
        tests: ["buildPresentationCards has pianist_name field", "buildPresentationCards has conductor_name field", "uses agenda.pianist i18n key in presentation", "uses agenda.conductor i18n key in presentation", "pianist and conductor appear after announcements push"]
      - id: AC-094-09
        covered: true
        tests: ["pianist appears after announcements and before openingHymn", "conductor appears after pianist and before openingHymn", "presiding before conducting", "conducting before recognizing", "recognizing before announcements", "openingHymn before openingPrayer"]
      - id: AC-095-01
        covered: true
        tests: ["migration file exists", "migration contains ALTER TABLE", "SundayAgenda type has has_intermediate_hymn", "has_intermediate_hymn placed after has_special_presentation", "AgendaForm has ToggleField with intermediateHymn label", "toggle uses agenda.has_intermediate_hymn value", "updateField called with has_intermediate_hymn key"]
      - id: AC-095-02
        covered: true
        tests: ["hymn selector conditional on has_intermediate_hymn", "hymn selector uses intermediate_hymn_id field", "hymn selector uses getHymnDisplay for value"]
      - id: AC-095-03
        covered: true
        tests: ["hymn selector wrapped in has_intermediate_hymn conditional"]
      - id: AC-095-04
        covered: true
        tests: ["toggle is in the else branch of has_special_presentation"]
      - id: AC-095-05
        covered: true
        tests: ["toggle is inside !isSpecial block", "isSpecialMeeting includes testimony_meeting", "isSpecialMeeting includes ward_conference"]
      - id: AC-095-06
        covered: true
        tests: ["isSpecialMeeting includes primary_presentation", "isSpecialMeeting includes other"]
      - id: AC-095-07
        covered: true
        tests: ["buildPresentationCards checks has_intermediate_hymn !== false"]
      - id: AC-096-01
        covered: true
        tests: ["checks 4 role names for missing", "uses statusMissing i18n key", "uses 4 status role i18n keys", "joins with pipe separator", "IIFE pattern", "missingRoles construction", "useAgendaRange hook tests", "agendaMap tests", "24 i18n keys in 3 locales"]
      - id: AC-096-02
        covered: true
        tests: ["Falta line conditional on missingRoles.length > 0"]
      - id: AC-096-03
        covered: true
        tests: ["uses statusSpeakers i18n key", "counts speakers filled out of 3", "statusSpeakers interpolation params"]
      - id: AC-096-04
        covered: true
        tests: ["checks speaker_N_override before speech speaker_name", "override field uses keyof SundayAgenda cast", "override field name template"]
      - id: AC-096-05
        covered: true
        tests: ["uses statusPrayers i18n key", "counts opening and closing prayer", "prayersFilled starts at 0", "opening_prayer_name increments", "closing_prayer_name increments", "total parameter is 2"]
      - id: AC-096-06
        covered: true
        tests: ["uses statusHymns i18n key", "counts opening, sacrament, closing hymns", "statusHymns interpolation params"]
      - id: AC-096-07
        covered: true
        tests: ["base hymn total is 3", "hymn total becomes 4 when applicable", "counts intermediate_hymn_id", "cross-feature consistency check"]
      - id: AC-096-08
        covered: true
        tests: ["uses green color #22c55e", "speakers line green when === 3", "prayers line green when === 2", "hymns line green when === total", "GREEN constant definition"]
      - id: AC-096-09
        covered: true
        tests: ["status lines conditioned on !exceptionLabel", "exception label shown in warning color", "exceptionLabel derived from exception.reason", "exceptionLabel uses t()"]
      - id: AC-096-10
        covered: true
        tests: ["agenda.tsx uses isExcludedFromAgenda for expandable"]
      - id: AC-096-11
        covered: true
        tests: ["status lines conditioned on !isExpanded", "checks both !isExpanded AND !exceptionLabel"]

    edge_cases:
      - id: EC-093-01
        covered: true
        tests: ["uses fallback empty string for missing speaker name", "name defaults to empty string when speech not found"]
      - id: EC-093-02
        covered: true
        tests: ["speaker name text has numberOfLines={1}", "speaker name text has ellipsizeMode tail", "speakerNameLine uses colors.textSecondary"]
      - id: EC-093-03
        covered: true
        tests: ["card has isPast && !expanded opacity condition"]
      - id: EC-094-01
        covered: true
        tests: ["ActorSelector handles empty list gracefully (ListEmptyComponent)"]
      - id: EC-094-02
        covered: true
        tests: ["pianist and conductor use separate field names", "pianist_name and conductor_name are separate DB fields"]
      - id: EC-094-03
        covered: true
        tests: ["pianist defaults to empty string", "conductor defaults to empty string"]
      - id: EC-095-01
        covered: true
        tests: ["intermediate_hymn_id NOT cleared in toggle handler", "no code clears intermediate_hymn_id anywhere in AgendaForm"]
      - id: EC-095-02
        covered: true
        tests: ["has_special_presentation toggle does not modify has_intermediate_hymn"]
      - id: EC-095-03
        covered: true
        tests: ["toggle disabled for observer", "intermediate hymn SelectorField has disabled={isObserver}"]
      - id: EC-096-01
        covered: true
        tests: ["agenda prop can be null", "uses optional chaining on agenda fields"]
      - id: EC-096-02
        covered: true
        tests: ["speechMap defaults to empty array"]
      - id: EC-096-03
        covered: true
        tests: ["isPast applies opacity to card"]
      - id: EC-096-04
        covered: true
        tests: ["all 4 role names checked for missing roles", "missingRoles starts as empty array", "each role pushes translated label"]

  # ---------------------------------------------------------------------------
  # Batch 15 Phase 2: F101-F102 (CR-155, CR-164)
  # ---------------------------------------------------------------------------

  # --- F101 (CR-155): Multilingual password reset email via Edge Function ---
  - phase: 21
    feature: F101
    cr: CR-155
    tests:
      # AC-101-01: Edge Function exists and handles POST
      - name: "send-reset-email/index.ts file exists"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "uses Deno.serve handler"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "creates supabaseAdmin with SUPABASE_URL"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "creates supabaseAdmin with SUPABASE_SERVICE_ROLE_KEY"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "does not verify JWT (unauthenticated endpoint)"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "validates email from request body"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "uses admin.listUsers for user lookup"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      # AC-101-01 continued: generateLink
      - name: "calls admin.generateLink with type recovery"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "extracts hashed_token from properties"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      # AC-101-01 continued: Resend API
      - name: "sends email via Resend API URL"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "checks RESEND_API_KEY env var"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: ["EC-101-03"]
        status: passing
      - name: "checks RESEND_FROM_EMAIL env var"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: ["EC-101-03"]
        status: passing
      - name: "uses Authorization Bearer header with RESEND_API_KEY"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "email template contains deep link placeholder"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01", "AC-101-05"]
        covers_ecs: []
        status: passing
      # AC-101-01 additional
      - name: "returns 400 for missing email"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "returns 400 for invalid email format"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "trims and lowercases email before processing"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "handles generateLink error"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "handles missing hashed_token"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "sends POST request to Resend"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      - name: "sends email with from, to, subject, and html fields"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: []
        status: passing
      # AC-101-02: pt-BR email
      - name: "has pt-BR email subject"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-02"]
        covers_ecs: []
        status: passing
      - name: "pt-BR template has Redefinir senha heading"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-02"]
        covers_ecs: []
        status: passing
      # AC-101-03: en email
      - name: "has en email subject"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-03"]
        covers_ecs: []
        status: passing
      - name: "en template has Reset password heading"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-03"]
        covers_ecs: []
        status: passing
      # AC-101-04: es email
      - name: "has es email subject"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-04"]
        covers_ecs: []
        status: passing
      - name: "es template has Restablecer contrasena heading"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-04"]
        covers_ecs: []
        status: passing
      # AC-101-05: Deep link format
      - name: "builds sacrmeetman://reset-password deep link with token and type"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-05"]
        covers_ecs: []
        status: passing
      - name: "all templates have CTA button with deep link"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-05"]
        covers_ecs: []
        status: passing
      # AC-101-06: forgot-password calls Edge Function
      - name: "has no expo-linking import"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "calls functions.invoke with send-reset-email"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "passes email in body to Edge Function"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "does not use resetPasswordForEmail"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "does not use Linking.createURL"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "forgot-password.tsx has loading state"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "forgot-password.tsx has success state"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "forgot-password.tsx validates email before calling Edge Function"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      - name: "forgot-password.tsx has back to login navigation"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-06"]
        covers_ecs: []
        status: passing
      # AC-101-07: reset-password token handling
      - name: "imports useLocalSearchParams from expo-router"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      - name: "calls verifyOtp with token_hash"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      - name: "uses recovery type in verifyOtp call"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      - name: "has PASSWORD_RECOVERY fallback"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      - name: "extracts both token and type from params"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      - name: "checks both token AND type === recovery"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      - name: "skips onAuthStateChange when token is present"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      - name: "useEffect depends on [token, type]"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-07"]
        covers_ecs: []
        status: passing
      # AC-101-08: Full flow
      - name: "forgot-password invokes Edge Function"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-08"]
        covers_ecs: []
        status: passing
      - name: "reset-password handles token via verifyOtp"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-08"]
        covers_ecs: []
        status: passing
      - name: "reset-password calls updateUser for password change"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-08"]
        covers_ecs: []
        status: passing
      - name: "reset-password shows success message"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-08"]
        covers_ecs: []
        status: passing
      - name: "validates password length >= 6"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-08"]
        covers_ecs: []
        status: passing
      - name: "validates password matches confirmation"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-08"]
        covers_ecs: []
        status: passing
      - name: "shows success and navigates to login"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-08"]
        covers_ecs: []
        status: passing
      # AC-101-09: Anti-enumeration
      - name: "returns success true for non-existent email"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-09"]
        covers_ecs: []
        status: passing
      - name: "does not reveal user existence in response"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-09"]
        covers_ecs: []
        status: passing
      # AC-101-10: Ward language lookup
      - name: "gets ward_id from app_metadata"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-10"]
        covers_ecs: ["EC-101-01"]
        status: passing
      - name: "queries wards table for language"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-10"]
        covers_ecs: []
        status: passing
      - name: "falls back to pt-BR as default language"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-10"]
        covers_ecs: ["EC-101-02"]
        status: passing
      # AC-101-11: CORS headers
      - name: "defines corsHeaders with Access-Control-Allow-Origin: *"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-11"]
        covers_ecs: []
        status: passing
      - name: "corsHeaders includes required headers"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-11"]
        covers_ecs: []
        status: passing
      - name: "OPTIONS request returns ok with corsHeaders"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-11"]
        covers_ecs: []
        status: passing
      # AC-101-12: Expired token
      - name: "handles verifyOtp error with resetExpired message"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-12"]
        covers_ecs: []
        status: passing
      - name: "shows resetExpired on verifyOtp error"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-12"]
        covers_ecs: []
        status: passing
      - name: "shows resetExpired on updateUser error"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-12"]
        covers_ecs: []
        status: passing
      # EC-101-01: Multiple wards
      - name: "uses app_metadata.ward_id for ward lookup (single value, not ward_users table)"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-01"]
        status: passing
      - name: "queries wards table by id with .single()"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-01"]
        status: passing
      # EC-101-02: No ward fallback
      - name: "initializes language as pt-BR before ward lookup"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-02"]
        status: passing
      - name: "only queries wards table when wardId exists"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-02"]
        status: passing
      - name: "uses nullish coalescing for ward language fallback"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-02"]
        status: passing
      # EC-101-03: Resend API key not configured
      - name: "returns 500 when Resend env vars are missing"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-03"]
        status: passing
      - name: "checks both RESEND_API_KEY and RESEND_FROM_EMAIL before sending"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-03"]
        status: passing
      # EC-101-04: Resend API error
      - name: "returns 500 on Resend API failure"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-04"]
        status: passing
      - name: "checks resendResponse.ok for success"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-04"]
        status: passing
      - name: "logs Resend API error details"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-04"]
        status: passing
      # EC-101-06: Network error in forgot-password
      - name: "forgot-password.tsx catches errors and shows resetFailed message"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-06"]
        status: passing
      - name: "forgot-password.tsx has try-catch around invoke call"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-06"]
        status: passing
      - name: "forgot-password.tsx checks invokeError and throws"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-101-06"]
        status: passing
      # Additional: getEmailTemplate fallback
      - name: "uses nullish coalescing to fall back to pt-BR for unknown languages"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-02"]
        covers_ecs: ["EC-101-02"]
        status: passing
      - name: "getEmailTemplate function accepts language and deepLink params"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-02"]
        covers_ecs: []
        status: passing
      # Additional: outer catch
      - name: "has outer catch for unexpected errors"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-101-01"]
        covers_ecs: ["EC-101-03", "EC-101-04"]
        status: passing

  # --- F102 (CR-164): Test suite 100% passing ---
  - phase: 21
    feature: F102
    cr: CR-164
    tests:
      # AC-102-01: bundleIdentifier
      - name: "batch7 test file uses com.sacramentmeetingmanager.app for iOS"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-01"]
        covers_ecs: []
        status: passing
      - name: "batch7 test file does not use com.wardmanager.app in expect values"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-01"]
        covers_ecs: []
        status: passing
      # AC-102-02: Android package
      - name: "app.json ios.bundleIdentifier matches test expectations"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-02"]
        covers_ecs: []
        status: passing
      - name: "app.json android.package matches test expectations"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-02"]
        covers_ecs: []
        status: passing
      # AC-102-03: forgot-password tests updated
      - name: "batch14-phase1.test.ts verifies functions.invoke"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-03"]
        covers_ecs: []
        status: passing
      - name: "batch14-phase1.test.ts verifies send-reset-email"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-03"]
        covers_ecs: []
        status: passing
      - name: "batch14-phase1.test.ts does not expect expo-linking import"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-03"]
        covers_ecs: []
        status: passing
      # AC-102-04: reset-password tests updated
      - name: "batch14-phase1.test.ts verifies useLocalSearchParams"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-04"]
        covers_ecs: []
        status: passing
      - name: "batch14-phase1.test.ts verifies verifyOtp"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-04"]
        covers_ecs: []
        status: passing
      - name: "batch14-phase1.test.ts verifies token_hash in reset-password"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-04"]
        covers_ecs: []
        status: passing
      - name: "batch14-phase1.test.ts verifies PASSWORD_RECOVERY fallback"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: ["AC-102-04"]
        covers_ecs: []
        status: passing
      # EC-102-01: New tests exist
      - name: "batch15-phase2.test.ts file exists"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-102-01"]
        status: passing
      - name: "batch15-phase2.test.ts covers F101 Edge Function"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-102-01"]
        status: passing
      - name: "batch15-phase2.test.ts covers F101 Client-side changes"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-102-01"]
        status: passing
      - name: "batch15-phase2.test.ts covers F102 bundleIdentifier fix"
        file: "src/__tests__/batch15-phase2.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-102-01"]
        status: passing

  # --- F103 (CR-165): StatusLED/X button vertical alignment ---
  - phase: 22
    feature: F103
    cr: CR-165
    tests:
      - name: "statusSection style includes paddingRight: 5"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-01"]
        covers_ecs: []
        status: passing
      - name: "paddingRight is in statusSection style block"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-01"]
        covers_ecs: []
        status: passing
      - name: "statusSection has paddingRight to shift content left"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-02"]
        covers_ecs: []
        status: passing
      - name: "paddingRight is a static style (always applied regardless of X visibility)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-03"]
        covers_ecs: []
        status: passing
      - name: "SpeechSlot uses shared styles.statusSection for all positions"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-04"]
        covers_ecs: []
        status: passing
      - name: "statusSection style is defined in StyleSheet.create"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-04"]
        covers_ecs: []
        status: passing
      - name: "topicRow has no marginLeft"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-05"]
        covers_ecs: []
        status: passing
      - name: "remove button uses same style for both speaker and topic rows"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-103-05"]
        covers_ecs: []
        status: passing
      - name: "statusSection paddingRight is static (not conditional on role)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-103-01"]
        status: passing
      - name: "statusSection style does not depend on user role"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-103-02"]
        status: passing

  # --- F104 (CR-166): Presentation title and font size lock ---
  - phase: 22
    feature: F104
    cr: CR-166
    tests:
      - name: "presentation.tsx uses t(presentation.title) for header"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR.json has presentation.title key"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-01"]
        covers_ecs: []
        status: passing
      - name: "pt-BR presentation.title is Reuniao Sacramental (with accent)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-01"]
        covers_ecs: []
        status: passing
      - name: "en.json has presentation.title = Sacrament Meeting"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-02"]
        covers_ecs: []
        status: passing
      - name: "es.json has presentation.title key"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-03"]
        covers_ecs: []
        status: passing
      - name: "es.json presentation.title contains Sacramental"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-03"]
        covers_ecs: []
        status: passing
      - name: "header title fontSize is hardcoded to 19 (not dynamic)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-04"]
        covers_ecs: []
        status: passing
      - name: "header title does NOT use fontSizes.headerTitle"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-04"]
        covers_ecs: []
        status: passing
      - name: "fontSize 19 is used directly, not from FONT_SIZES constant"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-05"]
        covers_ecs: []
        status: passing
      - name: "headerDate style has fontSize: 14"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-06"]
        covers_ecs: []
        status: passing
      - name: "headerDate fontSize does not use dynamic value"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-104-06"]
        covers_ecs: []
        status: passing
      - name: "pt-BR title is reasonably short (no truncation risk)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-104-01"]
        status: passing
      - name: "en title is reasonably short"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-104-01"]
        status: passing
      - name: "es title is reasonably short"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-104-01"]
        status: passing
      - name: "home.startMeeting key still exists in pt-BR.json"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-104-02"]
        status: passing
      - name: "home.startMeeting key still exists in en.json"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-104-02"]
        status: passing
      - name: "presentation.tsx does NOT use home.startMeeting"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-104-02"]
        status: passing
      - name: "index.tsx still uses home.startMeeting"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-104-02"]
        status: passing

  # --- F105 (CR-167): Portuguese accents in section headers ---
  - phase: 22
    feature: F105
    cr: CR-167
    tests:
      - name: "sectionWelcome has capital V in Vindas"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-01"]
        covers_ecs: []
        status: passing
      - name: "sectionWelcome has tilde on u in Anuncios (U+00FA)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-01"]
        covers_ecs: []
        status: passing
      - name: "sectionWelcome full value is correct"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-01"]
        covers_ecs: []
        status: passing
      - name: "sectionSacrament has cedilla+tilde in Designacoes"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-02"]
        covers_ecs: []
        status: passing
      - name: "sectionSacrament full value is correct"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-02"]
        covers_ecs: []
        status: passing
      - name: "sectionLastSpeech has accent on U (U+00DA)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-03"]
        covers_ecs: []
        status: passing
      - name: "sectionLastSpeech full value is correct"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-03"]
        covers_ecs: []
        status: passing
      - name: "sectionFirstSpeeches is Primeiros Discursos (no change needed)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-04"]
        covers_ecs: []
        status: passing
      - name: "es.json has sectionWelcome key"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-05"]
        covers_ecs: []
        status: passing
      - name: "es.json sectionWelcome contains Bienvenida"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-05"]
        covers_ecs: []
        status: passing
      - name: "es.json sectionLastSpeech has accent on U (U+00DA)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-06"]
        covers_ecs: []
        status: passing
      - name: "es.json sectionLastSpeech full value is correct"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-06"]
        covers_ecs: []
        status: passing
      - name: "usePresentationMode references sectionWelcome key"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-07"]
        covers_ecs: []
        status: passing
      - name: "usePresentationMode references sectionLastSpeech key"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-07"]
        covers_ecs: []
        status: passing
      - name: "en.json section headers exist (no accents needed for English)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-105-08"]
        covers_ecs: []
        status: passing
      - name: "pt-BR values contain valid Unicode characters"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-105-01"]
        status: passing

  # --- F106 (CR-168): Back button hitSlop ---
  - phase: 22
    feature: F106
    cr: CR-168
    tests:
      - name: "hitSlop={12} provides at least 44px height"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-01"]
        covers_ecs: []
        status: passing
      - name: "theme.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "whatsapp.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "about.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "history.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "timezone.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "members.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "users.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "topics.tsx has hitSlop on back button Pressable"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-02"]
        covers_ecs: []
        status: passing
      - name: "all 8 screens back button uses router.back()"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-03"]
        covers_ecs: []
        status: passing
      - name: "backButton style still has fontSize: 16 and fontWeight 600"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-04"]
        covers_ecs: []
        status: passing
      - name: "hitSlop does not change visual layout (no padding added)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-106-04"]
        covers_ecs: []
        status: passing
      - name: "hitSlop extends touch area without changing component size"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-106-01"]
        status: passing
      - name: "pt-BR common.back is short"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-106-02"]
        status: passing
      - name: "en common.back is short"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-106-02"]
        status: passing
      - name: "es common.back is short"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-106-02"]
        status: passing

  # --- F107 (CR-169): Collapsed card row height equalization ---
  - phase: 22
    feature: F107
    cr: CR-169
    tests:
      - name: "renders Text with single space when no speaker name"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-01"]
        covers_ecs: []
        status: passing
      - name: "placeholder Text uses speakerNameLine style"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-01"]
        covers_ecs: []
        status: passing
      - name: "speechRow style has gap: 8"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-02"]
        covers_ecs: []
        status: passing
      - name: "does NOT render null for empty names"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-03"]
        covers_ecs: []
        status: passing
      - name: "empty name branch renders Text element (not null)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-03"]
        covers_ecs: []
        status: passing
      - name: "StatusLED component still imported and used"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-04"]
        covers_ecs: []
        status: passing
      - name: "StatusLED receives status prop for animation control"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-04"]
        covers_ecs: []
        status: passing
      - name: "SundayCard is a single shared component file"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-05"]
        covers_ecs: []
        status: passing
      - name: "SundayCard is used in speeches tab"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-107-05"]
        covers_ecs: []
        status: passing
      - name: "StatusLED component exists for animation control"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-107-01"]
        status: passing
      - name: "each circle gets independent status from speechStatuses array"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-107-02"]
        status: passing
      - name: "speakerNameLine uses colors.textSecondary (theme-aware)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-107-03"]
        status: passing

  # --- F108 (CR-170): Last speech label fix ---
  - phase: 22
    feature: F108
    cr: CR-170
    tests:
      - name: "last speaker label uses t(speeches.lastSpeech) only"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-108-01"]
        covers_ecs: []
        status: passing
      - name: "last speaker label does NOT concatenate with speeches.speaker"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-108-01"]
        covers_ecs: []
        status: passing
      - name: "en.json speeches.lastSpeech key exists"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-108-02"]
        covers_ecs: []
        status: passing
      - name: "es.json speeches.lastSpeech key exists"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-108-03"]
        covers_ecs: []
        status: passing
      - name: "first and second speakers use speeches.speaker key"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-108-04"]
        covers_ecs: []
        status: passing
      - name: "speeches.speaker key exists in all locales"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-108-04"]
        covers_ecs: []
        status: passing
      - name: "last speech field uses simple t() call"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-108-04"]
        covers_ecs: []
        status: passing
      - name: "special meeting path uses closingHymn title"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-108-01"]
        status: passing

  # --- F109 (CR-171): Status lines for testimony/primary collapsed cards ---
  - phase: 22
    feature: F109
    cr: CR-171
    tests:
      - name: "agenda.tsx has SPECIAL_MEETING_WITH_STATUS constant"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-01"]
        covers_ecs: []
        status: passing
      - name: "testimony_meeting is in special meeting list"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-01"]
        covers_ecs: []
        status: passing
      - name: "computes missingRoles for special meetings"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-01"]
        covers_ecs: []
        status: passing
      - name: "shows Falta line with missing roles"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-01"]
        covers_ecs: []
        status: passing
      - name: "renders exceptionLabel in yellow for special meetings"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-02"]
        covers_ecs: []
        status: passing
      - name: "uses statusPrayersLabel i18n key for special meetings"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-03"]
        covers_ecs: []
        status: passing
      - name: "counts opening and closing prayers (total 2)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-03"]
        covers_ecs: []
        status: passing
      - name: "counts hymns for special meetings"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-04"]
        covers_ecs: []
        status: passing
      - name: "uses statusHymns i18n key"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-04"]
        covers_ecs: []
        status: passing
      - name: "primary_presentation is in special meeting list"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-05"]
        covers_ecs: []
        status: passing
      - name: "isSpecialWithStatus covers both types"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-05"]
        covers_ecs: []
        status: passing
      - name: "Falta line only shown when missingRoles.length > 0"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-06"]
        covers_ecs: []
        status: passing
      - name: "hymnsTotal is 3 for special meetings (no intermediate hymn)"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-07"]
        covers_ecs: []
        status: passing
      - name: "uses green (#22c55e) when prayers are 2 of 2"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-08"]
        covers_ecs: []
        status: passing
      - name: "GREEN constant is #22c55e"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-08"]
        covers_ecs: []
        status: passing
      - name: "general_conference is NOT in SPECIAL_MEETING_WITH_STATUS"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-09"]
        covers_ecs: []
        status: passing
      - name: "stake_conference is NOT in SPECIAL_MEETING_WITH_STATUS"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-10"]
        covers_ecs: []
        status: passing
      - name: "special meeting status lines conditioned on !isExpanded"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-11"]
        covers_ecs: []
        status: passing
      - name: "checks agenda fields with optional chaining for null safety"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-109-01"]
        status: passing
      - name: "ward_conference NOT in special meeting list"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-109-02"]
        status: passing
      - name: "other type NOT in special meeting list"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-109-03"]
        status: passing
      - name: "isPast cards have reduced opacity"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-109-04"]
        status: passing
      - name: "pt-BR has agenda.statusPrayersLabel"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-03"]
        covers_ecs: []
        status: passing
      - name: "en has agenda.statusPrayersLabel = Prayers"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-03"]
        covers_ecs: []
        status: passing
      - name: "es has agenda.statusPrayersLabel"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-03"]
        covers_ecs: []
        status: passing
      - name: "es statusPrayersLabel contains Oraciones"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: ["AC-109-03"]
        covers_ecs: []
        status: passing

  # --- Batch 16 cross-feature regression checks ---
  - phase: 22
    feature: cross
    cr: cross
    tests:
      - name: "SpeechSlot still exports SpeechSlotProps"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "SpeechSlot still uses getPositionLabel function"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "SpeechSlot still has StatusChangeModal"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "presentation.tsx still renders AccordionCard"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "presentation.tsx still has font size toggle"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "presentation.tsx still has FONT_SIZES constant"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "agenda.tsx still renders status lines for speeches type"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "agenda.tsx non-special exception cards still show yellow text only"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "SundayCard still has speechRow style"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing
      - name: "SundayCard collapsed section still iterates [1, 2, 3]"
        file: "src/__tests__/batch16.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

  # --- Coverage: Batch 16 ---
  coverage:
    acceptance_criteria:
      - id: AC-103-01
        covered: true
        tests: ["statusSection style includes paddingRight: 5", "paddingRight is in statusSection style block"]
      - id: AC-103-02
        covered: true
        tests: ["statusSection has paddingRight to shift content left"]
      - id: AC-103-03
        covered: true
        tests: ["paddingRight is a static style (always applied regardless of X visibility)"]
      - id: AC-103-04
        covered: true
        tests: ["SpeechSlot uses shared styles.statusSection for all positions", "statusSection style is defined in StyleSheet.create"]
      - id: AC-103-05
        covered: true
        tests: ["topicRow has no marginLeft", "remove button uses same style for both speaker and topic rows"]
      - id: AC-104-01
        covered: true
        tests: ["presentation.tsx uses t(presentation.title) for header", "pt-BR.json has presentation.title key", "pt-BR presentation.title is Reuniao Sacramental"]
      - id: AC-104-02
        covered: true
        tests: ["en.json has presentation.title = Sacrament Meeting"]
      - id: AC-104-03
        covered: true
        tests: ["es.json has presentation.title key", "es.json presentation.title contains Sacramental"]
      - id: AC-104-04
        covered: true
        tests: ["header title fontSize is hardcoded to 19 (not dynamic)", "header title does NOT use fontSizes.headerTitle"]
      - id: AC-104-05
        covered: true
        tests: ["fontSize 19 is used directly, not from FONT_SIZES constant"]
      - id: AC-104-06
        covered: true
        tests: ["headerDate style has fontSize: 14", "headerDate fontSize does not use dynamic value"]
      - id: AC-105-01
        covered: true
        tests: ["sectionWelcome has capital V in Vindas", "sectionWelcome has tilde on u in Anuncios", "sectionWelcome full value is correct"]
      - id: AC-105-02
        covered: true
        tests: ["sectionSacrament has cedilla+tilde in Designacoes", "sectionSacrament full value is correct"]
      - id: AC-105-03
        covered: true
        tests: ["sectionLastSpeech has accent on U", "sectionLastSpeech full value is correct"]
      - id: AC-105-04
        covered: true
        tests: ["sectionFirstSpeeches is Primeiros Discursos"]
      - id: AC-105-05
        covered: true
        tests: ["es.json has sectionWelcome key", "es.json sectionWelcome contains Bienvenida"]
      - id: AC-105-06
        covered: true
        tests: ["es.json sectionLastSpeech has accent on U", "es.json sectionLastSpeech full value is correct"]
      - id: AC-105-07
        covered: true
        tests: ["usePresentationMode references sectionWelcome key", "usePresentationMode references sectionLastSpeech key"]
      - id: AC-105-08
        covered: true
        tests: ["en.json section headers exist (no accents needed for English)"]
      - id: AC-106-01
        covered: true
        tests: ["hitSlop={12} provides at least 44px height"]
      - id: AC-106-02
        covered: true
        tests: ["theme.tsx has hitSlop", "whatsapp.tsx has hitSlop", "about.tsx has hitSlop", "history.tsx has hitSlop", "timezone.tsx has hitSlop", "members.tsx has hitSlop", "users.tsx has hitSlop", "topics.tsx has hitSlop"]
      - id: AC-106-03
        covered: true
        tests: ["all 8 screens back button uses router.back()"]
      - id: AC-106-04
        covered: true
        tests: ["backButton style still has fontSize: 16 and fontWeight 600", "hitSlop does not change visual layout"]
      - id: AC-107-01
        covered: true
        tests: ["renders Text with single space when no speaker name", "placeholder Text uses speakerNameLine style"]
      - id: AC-107-02
        covered: true
        tests: ["speechRow style has gap: 8"]
      - id: AC-107-03
        covered: true
        tests: ["does NOT render null for empty names", "empty name branch renders Text element"]
      - id: AC-107-04
        covered: true
        tests: ["StatusLED component still imported and used", "StatusLED receives status prop for animation control"]
      - id: AC-107-05
        covered: true
        tests: ["SundayCard is a single shared component file", "SundayCard is used in speeches tab"]
      - id: AC-108-01
        covered: true
        tests: ["last speaker label uses t(speeches.lastSpeech) only", "last speaker label does NOT concatenate with speeches.speaker"]
      - id: AC-108-02
        covered: true
        tests: ["en.json speeches.lastSpeech key exists"]
      - id: AC-108-03
        covered: true
        tests: ["es.json speeches.lastSpeech key exists"]
      - id: AC-108-04
        covered: true
        tests: ["first and second speakers use speeches.speaker key", "speeches.speaker key exists in all locales", "last speech field uses simple t() call"]
      - id: AC-109-01
        covered: true
        tests: ["agenda.tsx has SPECIAL_MEETING_WITH_STATUS constant", "testimony_meeting is in special meeting list", "computes missingRoles", "shows Falta line"]
      - id: AC-109-02
        covered: true
        tests: ["renders exceptionLabel in yellow for special meetings"]
      - id: AC-109-03
        covered: true
        tests: ["uses statusPrayersLabel i18n key", "counts opening and closing prayers", "pt-BR has agenda.statusPrayersLabel", "en has agenda.statusPrayersLabel = Prayers", "es has agenda.statusPrayersLabel", "es statusPrayersLabel contains Oraciones"]
      - id: AC-109-04
        covered: true
        tests: ["counts hymns for special meetings", "uses statusHymns i18n key"]
      - id: AC-109-05
        covered: true
        tests: ["primary_presentation is in special meeting list", "isSpecialWithStatus covers both types"]
      - id: AC-109-06
        covered: true
        tests: ["Falta line only shown when missingRoles.length > 0"]
      - id: AC-109-07
        covered: true
        tests: ["hymnsTotal is 3 for special meetings"]
      - id: AC-109-08
        covered: true
        tests: ["uses green (#22c55e) when prayers are 2 of 2", "GREEN constant is #22c55e"]
      - id: AC-109-09
        covered: true
        tests: ["general_conference is NOT in SPECIAL_MEETING_WITH_STATUS"]
      - id: AC-109-10
        covered: true
        tests: ["stake_conference is NOT in SPECIAL_MEETING_WITH_STATUS"]
      - id: AC-109-11
        covered: true
        tests: ["special meeting status lines conditioned on !isExpanded"]

    edge_cases:
      - id: EC-103-01
        covered: true
        tests: ["statusSection paddingRight is static (not conditional on role)"]
      - id: EC-103-02
        covered: true
        tests: ["statusSection style does not depend on user role"]
      - id: EC-104-01
        covered: true
        tests: ["pt-BR title is reasonably short", "en title is reasonably short", "es title is reasonably short"]
      - id: EC-104-02
        covered: true
        tests: ["home.startMeeting key still exists in pt-BR.json", "home.startMeeting key still exists in en.json", "presentation.tsx does NOT use home.startMeeting", "index.tsx still uses home.startMeeting"]
      - id: EC-105-01
        covered: true
        tests: ["pt-BR values contain valid Unicode characters"]
      - id: EC-106-01
        covered: true
        tests: ["hitSlop extends touch area without changing component size"]
      - id: EC-106-02
        covered: true
        tests: ["pt-BR common.back is short", "en common.back is short", "es common.back is short"]
      - id: EC-107-01
        covered: true
        tests: ["StatusLED component exists for animation control"]
      - id: EC-107-02
        covered: true
        tests: ["each circle gets independent status from speechStatuses array"]
      - id: EC-107-03
        covered: true
        tests: ["speakerNameLine uses colors.textSecondary (theme-aware)"]
      - id: EC-108-01
        covered: true
        tests: ["special meeting path uses closingHymn title"]
      - id: EC-109-01
        covered: true
        tests: ["checks agenda fields with optional chaining for null safety"]
      - id: EC-109-02
        covered: true
        tests: ["ward_conference NOT in special meeting list"]
      - id: EC-109-03
        covered: true
        tests: ["other type NOT in special meeting list"]
      - id: EC-109-04
        covered: true
        tests: ["isPast cards have reduced opacity"]

  # --- Coverage: Batch 15 Phase 2 ---
  coverage:
    acceptance_criteria:
      - id: AC-101-01
        covered: true
        tests: ["send-reset-email/index.ts file exists", "uses Deno.serve handler", "creates supabaseAdmin with SUPABASE_URL", "creates supabaseAdmin with SUPABASE_SERVICE_ROLE_KEY", "does not verify JWT", "validates email from request body", "uses admin.listUsers for user lookup", "calls admin.generateLink with type recovery", "extracts hashed_token from properties", "sends email via Resend API URL", "checks RESEND_API_KEY env var", "checks RESEND_FROM_EMAIL env var", "uses Authorization Bearer header", "returns 400 for missing email", "returns 400 for invalid email format", "trims and lowercases email", "handles generateLink error", "handles missing hashed_token", "sends POST request to Resend", "sends email with from, to, subject, and html fields"]
      - id: AC-101-02
        covered: true
        tests: ["has pt-BR email subject", "pt-BR template has Redefinir senha heading", "uses nullish coalescing to fall back to pt-BR", "getEmailTemplate function accepts language and deepLink params"]
      - id: AC-101-03
        covered: true
        tests: ["has en email subject", "en template has Reset password heading"]
      - id: AC-101-04
        covered: true
        tests: ["has es email subject", "es template has Restablecer contrasena heading"]
      - id: AC-101-05
        covered: true
        tests: ["builds sacrmeetman://reset-password deep link with token and type", "email template contains deep link placeholder", "all templates have CTA button with deep link"]
      - id: AC-101-06
        covered: true
        tests: ["has no expo-linking import", "calls functions.invoke with send-reset-email", "passes email in body to Edge Function", "does not use resetPasswordForEmail", "does not use Linking.createURL", "has loading state", "has success state", "validates email before calling Edge Function", "has back to login navigation"]
      - id: AC-101-07
        covered: true
        tests: ["imports useLocalSearchParams from expo-router", "calls verifyOtp with token_hash", "uses recovery type in verifyOtp call", "has PASSWORD_RECOVERY fallback", "extracts both token and type from params", "checks both token AND type === recovery", "skips onAuthStateChange when token is present", "useEffect depends on [token, type]"]
      - id: AC-101-08
        covered: true
        tests: ["forgot-password invokes Edge Function", "reset-password handles token via verifyOtp", "reset-password calls updateUser", "reset-password shows success message", "validates password length >= 6", "validates password matches confirmation", "shows success and navigates to login"]
      - id: AC-101-09
        covered: true
        tests: ["returns success true for non-existent email", "does not reveal user existence in response"]
      - id: AC-101-10
        covered: true
        tests: ["gets ward_id from app_metadata", "queries wards table for language", "falls back to pt-BR as default language"]
      - id: AC-101-11
        covered: true
        tests: ["defines corsHeaders with Access-Control-Allow-Origin: *", "corsHeaders includes required headers", "OPTIONS request returns ok with corsHeaders"]
      - id: AC-101-12
        covered: true
        tests: ["handles verifyOtp error with resetExpired message", "shows resetExpired on verifyOtp error", "shows resetExpired on updateUser error"]
      - id: AC-102-01
        covered: true
        tests: ["batch7 test file uses com.sacramentmeetingmanager.app for iOS", "batch7 test file does not use com.wardmanager.app in expect values"]
      - id: AC-102-02
        covered: true
        tests: ["app.json ios.bundleIdentifier matches test expectations", "app.json android.package matches test expectations"]
      - id: AC-102-03
        covered: true
        tests: ["batch14-phase1.test.ts verifies functions.invoke", "batch14-phase1.test.ts verifies send-reset-email", "batch14-phase1.test.ts does not expect expo-linking import"]
      - id: AC-102-04
        covered: true
        tests: ["batch14-phase1.test.ts verifies useLocalSearchParams", "batch14-phase1.test.ts verifies verifyOtp", "batch14-phase1.test.ts verifies token_hash", "batch14-phase1.test.ts verifies PASSWORD_RECOVERY fallback"]
      - id: AC-102-05
        covered: true
        tests: ["Full test suite: 4444 tests passing, 0 failing (verified via npx vitest run)"]

    edge_cases:
      - id: EC-101-01
        covered: true
        tests: ["uses app_metadata.ward_id for ward lookup (single value, not ward_users table)", "queries wards table by id with .single()", "gets ward_id from app_metadata"]
      - id: EC-101-02
        covered: true
        tests: ["initializes language as pt-BR before ward lookup", "only queries wards table when wardId exists", "uses nullish coalescing for ward language fallback", "falls back to pt-BR as default language"]
      - id: EC-101-03
        covered: true
        tests: ["returns 500 when Resend env vars are missing", "checks both RESEND_API_KEY and RESEND_FROM_EMAIL before sending", "checks RESEND_API_KEY env var", "checks RESEND_FROM_EMAIL env var"]
      - id: EC-101-04
        covered: true
        tests: ["returns 500 on Resend API failure", "checks resendResponse.ok for success", "logs Resend API error details"]
      - id: EC-101-05
        covered: false
        reason: "Device-level behavior: sacrmeetman:// deep link requires app to be installed. Cannot be verified in unit tests. The deep link format is verified in AC-101-05 tests."
      - id: EC-101-06
        covered: true
        tests: ["forgot-password.tsx catches errors and shows resetFailed message", "forgot-password.tsx has try-catch around invoke call", "forgot-password.tsx checks invokeError and throws"]
      - id: EC-102-01
        covered: true
        tests: ["batch15-phase2.test.ts file exists", "batch15-phase2.test.ts covers F101 Edge Function", "batch15-phase2.test.ts covers F101 Client-side changes", "batch15-phase2.test.ts covers F102 bundleIdentifier fix"]

gaps:
  - id: EC-101-05
    reason: "Device-level behavior: sacrmeetman:// deep link requires app installed on device. Not testable in Vitest unit test environment."
    recommendation: "Manual QA test: verify deep link opens app on device with app installed. Verify nothing happens when app is not installed."

stats:
  total_tests: 1966
  passing: 1966
  failing: 0
  skipped: 0

changelog:
  - version: 1
    phase: 1
    changes: ["9 testes adicionados para CR-82 (GestureHandlerRootView)"]
  - version: 2
    phase: 2
    changes: ["46 testes adicionados para F026 (Members Explanatory Texts i18n)"]
  - version: 3
    phase: 3
    changes:
      - "108 testes adicionados para Batch 6 Phase 1 (F027-F031)"
      - "11 testes para F031 (CR-90): Fix Delete Button"
      - "25 testes para F027 (CR-83): Save/Cancel Buttons"
      - "24 testes para F029 (CR-85): Country Codes"
      - "14 testes para F030 (CR-86): CSV Import Confirmation"
      - "34 testes para F028 (CR-84): SearchInput Clear X Button"
  - version: 4
    phase: 4
    changes:
      - "106 testes adicionados para Batch 6 Phase 2 (F032-F034)"
      - "20 testes para F032 (CR-87): Swipe Action Icons (pencil/trash)"
      - "22 testes para F033 (CR-88): Topics Screen Explanatory Text"
      - "44 testes para F034 (CR-89): Collection Topics View (expand/collapse)"
      - "20 testes de regressao (SwipeableCard, Topics screen, useTopics hook)"
  - version: 5
    phase: 5
    changes:
      - "73 testes adicionados para Batch 7 Phase 1 (F035-F039)"
      - "18 testes para F035 (CR-91): Fix RLS policy error on notification_queue"
      - "12 testes para F036 (CR-92): Fix duplicate key error in country dropdown"
      - "10 testes para F037 (CR-93): Change deep link protocol to sacrmeetman://"
      - "13 testes para F038 (CR-95): Fix speech fields not hiding on sunday type change"
      - "20 testes para F039 (CR-98): Fix prayer fields not clickable"
  - version: 6
    phase: 6
    changes:
      - "123 testes adicionados para Batch 7 Phase 2 (F040-F044)"
      - "37 testes para F040 (CR-94): Update default WhatsApp template (i18n)"
      - "14 testes para F041 (CR-96): Search fields fixed at top"
      - "22 testes para F042 (CR-97): Multi-select for Reconhecendo a Presenca"
      - "11 testes para F043 (CR-99): Change speech labels Orador -> Discurso"
      - "39 testes para F044 (CR-100): Read-only speaker field with last-minute swap"
  - version: 7
    phase: 7
    changes:
      - "60 testes adicionados para Batch 8 Phase 1 (F045-F049)"
      - "8 testes para F045 (CR-101): Hide status LEDs on non-speech Sundays"
      - "6 testes para F046 (CR-102): Hide exception label for speech Sundays in Agenda"
      - "12 testes para F047 (CR-103): Fix WhatsApp template initialization in Settings"
      - "21 testes para F048 (CR-104, CR-108): Fix WhatsApp message variables"
      - "7 testes para F049 (CR-109): Fix speech slots in NextSundaysSection"
      - "6 testes cross-cutting (template resolution e formatDateHumanReadable)"
  - version: 8
    phase: 8
    changes:
      - "78 testes adicionados para Batch 8 Phase 2 (F050-F054)"
      - "14 testes para F050 (CR-105): Replace text buttons with icons"
      - "30 testes para F051 (CR-106): Replace Alert with custom dropdown"
      - "10 testes para F052 (CR-107): Enhanced second line in invite row"
      - "8 testes para F053 (CR-110): Bishopric sees invite management"
      - "10 testes para F054 (CR-111): SpeechSlot spacing and X size"
      - "6 testes cross-cutting (VALID_TRANSITIONS e STATUS_INDICATOR_COLORS)"
  - version: 9
    phase: 9
    changes:
      - "67 testes adicionados para Batch 9 Phase 1 (F055-F059)"
      - "15 testes para F055 (CR-112): View WhatsApp conversation without resending invite"
      - "6 testes para F056 (CR-113): InviteActionDropdown title i18n"
      - "16 testes para F057 (CR-117): Fix +1 country code showing Canada instead of USA"
      - "14 testes para F058 (CR-122): Change 3rd speech label to Ultimo Discurso"
      - "14 testes para F059 (CR-125): Fix closing prayer field visual duplication"
      - "2 testes cross-cutting (i18n key consistency)"
  - version: 10
    phase: 10
    changes:
      - "88 testes adicionados para Batch 9 Phase 2 (F060-F064)"
      - "17 testes para F060 (CR-114): Add X button to remove topic assignment"
      - "18 testes para F061 (CR-115): Confirmation dialog on sunday type change"
      - "19 testes para F062 (CR-116): LED click shows confirmed/gave_up options"
      - "15 testes para F063 (CR-119): Redesign speech cards layout (LED left, X right)"
      - "15 testes para F064 (CR-121): Last-minute assignment label in agenda"
      - "4 testes cross-cutting (i18n key consistency Phase 2)"
  - version: 11
    phase: 11
    changes:
      - "80 testes adicionados para Batch 9 Phase 3 (F065-F067)"
      - "31 testes para F065 (CR-118): SearchInput flex:1 + close button in Settings"
      - "23 testes para F066 (CR-120): Auto-scroll on card expand"
      - "24 testes para F067 (CR-123): Recognizing field proportional height"
      - "2 testes cross-cutting (i18n key consistency Phase 3)"
  - version: 12
    phase: 12
    changes:
      - "84 testes adicionados para Batch 10 Phase 1 (F069-F072)"
      - "32 testes para F069 (CR-126): StatusLED flat circle redesign + new colors"
      - "22 testes para F070 (CR-127): Delete speeches on sunday type change"
      - "16 testes para F071 (CR-129): LED click filter + disable terminal states"
      - "13 testes para F072 (CR-130): Country code display fix for shared dial codes"
      - "1 teste interno (ledAllowedStatuses structure)"
  - version: 13
    phase: 13
    changes:
      - "69 testes adicionados para Batch 10 Phase 2 (F073-F076)"
      - "17 testes para F073 (CR-128): Topic X button positioning outside dropdown"
      - "11 testes para F074 (CR-131): Hymn search field width consistency"
      - "17 testes para F075 (CR-132): Auto-scroll fix (speeches + agenda)"
      - "24 testes para F076 (CR-133): Custom prayer name hint + pre-populate"
  - version: 14
    phase: 14
    changes:
      - "93 testes adicionados para Batch 11 (F077-F081)"
      - "31 testes para F077 (CR-134): Status transition full mesh + LED enabled for all"
      - "5 testes para F078 (CR-135): Custom name help text i18n update"
      - "11 testes para F079 (CR-136): Agenda initial scroll centered (viewPosition 0.5)"
      - "18 testes para F080 (CR-137): Checkbox visual in ActorSelector multi-select"
      - "11 testes para F081 (CR-138): Actor delete confirmation text with new i18n key"
      - "24 testes existentes atualizados (7 arquivos) para refletir mudancas do Batch 11"
  - version: 15
    phase: 15
    changes:
      - "107 testes de integracao adicionados para F082 (CR-139)"
      - "25 testes hooks-supabase (AC-082-01 a AC-082-12, EC-082-01 a EC-082-06)"
      - "17 testes permissions-roles (AC-082-13, AC-082-14, EC-082-07, EC-082-08)"
      - "22 testes sync-realtime (AC-082-15 a AC-082-18, EC-082-09, EC-082-10)"
      - "24 testes sunday-types-auto (AC-082-19 a AC-082-22, EC-082-11, EC-082-12)"
      - "19 testes speech-lifecycle (AC-082-23 a AC-082-26, EC-082-13, EC-082-14)"
  - version: 16
    phase: 15
    changes:
      - "Tester validation of F082 integration tests"
      - "Documented 18 SPEC AC coverage gaps (AC-082-13 to AC-082-30)"
      - "2 ACs confirmed covered under different labels (AC-082-23, AC-082-24)"
      - "3 ACs partially covered by underlying logic tests (AC-082-15, AC-082-19, AC-082-28)"
      - "13 ACs not testable in current Vitest setup (require react-native runtime)"
      - "All 107 integration tests passing, 0 failures, 0 existing tests broken"
      - "verdict: approved with gaps (react-native component render limitation)"
  - version: 17
    phase: 17
    changes:
      - "218 testes adicionados para Batch 13 (F083-F087) + 29 testes existentes do coder"
      - "30 testes para F083 (CR-140): Rename Settings tab labels (10 ACs x 3 locales)"
      - "16 testes para F084 (CR-141): Sunday type selector in Agenda tab"
      - "125 testes para F085 (CR-142): Activity log entries overhaul with i18n"
      - "5 testes para F086 (CR-143): Static timezone list verification"
      - "32 testes para F087 (CR-144): Fix search_path in 7 SQL functions"
      - "10 testes de edge cases (EC-083-01, EC-084-01, EC-085-01..05, EC-086-01, EC-087-01..03)"
      - "verdict: approved"
  - version: 18
    phase: 18
    changes:
      - "109 testes adicionados para Batch 14 Phase 1 (F088-F092, CR-145 to CR-149)"
      - "88 testes do coder + 21 testes adicionais do tester"
      - "20 testes para F091 (CR-148): Update confirmation dialog i18n (5 ACs, 3 ECs)"
      - "13 testes para F092 (CR-149): Presentation mode button always visible (5 ACs, 2 ECs)"
      - "14 testes para F090 (CR-147): Offline banner readability iPhone (4 ACs, 3 ECs)"
      - "33 testes para F088 (CR-145): Password reset redirect + page (5 ACs, 4 ECs)"
      - "22 testes para F089 (CR-146): Offline graceful degradation (6 ACs, 3 ECs)"
      - "7 testes cross-feature (i18n key consistency Batch 14 Phase 1)"
      - "25 ACs cobertos, 15 ECs cobertos, 0 gaps"
      - "verdict: approved"
  - version: 19
    phase: 19
    changes:
      - "209 testes adicionados para Batch 14 Phase 2 (F093-F096, CR-150 to CR-153)"
      - "133 testes do coder + 76 testes adicionais do tester"
      - "33 testes para F093 (CR-150): Collapsed SundayCard speaker names and vertical LEDs (7 ACs, 3 ECs)"
      - "39 testes para F094 (CR-151): Pianist and Conductor fields in Agenda (9 ACs, 3 ECs)"
      - "23 testes para F095 (CR-152): Intermediate Hymn toggle with DB persistence (7 ACs, 3 ECs)"
      - "114 testes para F096 (CR-153): Collapsed agenda card status lines (11 ACs, 4 ECs)"
      - "6 testes i18n (speeches.slot e speeches.lastSpeech em 3 locales)"
      - "18 testes interpolation params (3 keys x 3 locales x {filled, total})"
      - "34 ACs cobertos, 13 ECs cobertos, 0 gaps"
      - "verdict: approved"
  - version: 20
    phase: 20
    changes:
      - "140 testes adicionados para Batch 15 Phase 1 (F097-F100, CR-156 to CR-163)"
      - "37 testes para F097 (CR-156/157/158/159): Presentation mode arrows, multiline names, font toggle, section titles (14 ACs, 4 ECs)"
      - "18 testes para F098 (CR-160/163): Position 3 label context-aware, selectSpeaker placeholder (8 ACs, 2 ECs)"
      - "26 testes para F099 (CR-161): Collapsed speech card inline LEDs, font 13, circle size 10 (10 ACs, 3 ECs)"
      - "31 testes para F100 (CR-162): Expanded card status on label row, full-width fields (11 ACs, 3 ECs)"
      - "15 testes cross-feature: speechStatus i18n (5 statuses x 3 locales)"
      - "12 testes cross-feature: section title i18n (4 keys x 3 locales)"
      - "1 teste cross-feature: PresentationField multiline type"
      - "10 testes de regressao atualizados em batch14-phase2 (5), batch10-phase2 (1), batch7-f040-f044 (1), batch8-phase1 (2), batch9-phase1 (1), batch9-phase2 (3), phase04-agenda-presentation (1)"
      - "43 ACs cobertos, 12 ECs cobertos, 0 gaps"
      - "verdict: approved"
  - version: 21
    phase: 21
    changes:
      - "95 testes adicionados para Batch 15 Phase 2 (F101-F102, CR-155, CR-164)"
      - "52 testes do coder + 43 testes adicionais do tester"
      - "80 testes para F101 (CR-155): Edge Function send-reset-email, client-side forgot-password/reset-password (12 ACs, 5 ECs)"
      - "15 testes para F102 (CR-164): bundleIdentifier fix verification, test suite updates (5 ACs, 1 EC)"
      - "17 ACs cobertos, 6 ECs cobertos (EC-101-05 gap justificado: device-level behavior)"
      - "Testes batch14-phase1 atualizados pelo coder para Edge Function flow"
      - "Testes batch7-f035-f039 ja corrigidos pelo coder (bundleIdentifier)"
      - "Full suite: 4444 testes passando, 0 falhando"
      - "verdict: approved com gap (EC-101-05: deep link requer app instalado, nao testavel em unit test)"
  - version: 22
    phase: 22
    changes:
      - "124 testes adicionados para Batch 16 (F103-F109, CR-165 to CR-171)"
      - "10 testes para F103 (CR-165): StatusLED/X alignment paddingRight (5 ACs, 2 ECs)"
      - "18 testes para F104 (CR-166): Presentation title and fontSize lock (6 ACs, 2 ECs)"
      - "16 testes para F105 (CR-167): Portuguese accents in section headers (8 ACs, 1 EC)"
      - "16 testes para F106 (CR-168): Back button hitSlop in 8 Settings screens (4 ACs, 2 ECs)"
      - "12 testes para F107 (CR-169): Collapsed card row height equalization (5 ACs, 3 ECs)"
      - "8 testes para F108 (CR-170): Last speech label suffix removal (4 ACs, 1 EC)"
      - "26 testes para F109 (CR-171): Status lines for testimony/primary collapsed cards (11 ACs, 4 ECs)"
      - "10 testes cross-feature (regression checks para structural integrity)"
      - "8 testes regression fix em batch15-phase1 e batch8-phase1 (atualizar para Batch 16 changes)"
      - "43 ACs cobertos, 15 ECs cobertos, 0 gaps"
      - "Full suite: 4568 testes passando, 0 falhando"
      - "verdict: approved"
