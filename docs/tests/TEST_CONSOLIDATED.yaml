# =============================================================================
# TEST_CONSOLIDATED.yaml
# Consolidated test results for all CRs
# Generated: 2026-02-18
# =============================================================================

type: test_consolidated
version: 7
last_updated: "2026-02-18T22:30:00Z"
last_updated_by: "phase-007"

test_suites:

  # ---------------------------------------------------------------------------
  # CR-82: GestureHandlerRootView wrapper
  # ---------------------------------------------------------------------------
  - phase: 1
    feature: F025
    cr: CR-82
    tests:
      - name: "should import GestureHandlerRootView from react-native-gesture-handler"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-001"]
        covers_ecs: []
        status: passing

      - name: "should wrap provider tree with GestureHandlerRootView"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

      - name: "should apply flex:1 style to GestureHandlerRootView"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

      - name: "should have SwipeableCard in Members screen (gesture descendant)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-003"]
        covers_ecs: []
        status: passing

      - name: "should have SwipeableCard in Topics screen (gesture descendant)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-004"]
        covers_ecs: []
        status: passing

      - name: "should have GestureDetector in SwipeableCard for pan gesture"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-005"]
        covers_ecs: []
        status: passing

      - name: "SwipeableCard should import from react-native-gesture-handler"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-006"]
        covers_ecs: []
        status: passing

      - name: "should have GestureHandlerRootView only in root layout (no duplicates)"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-001"]
        status: passing

      - name: "GestureHandlerRootView placement: inside ErrorBoundary, outside QueryClientProvider"
        file: "src/__tests__/cr082-gesture-handler-root.test.ts"
        type: unit
        covers_acs: ["AC-002"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # CR-80 / F026: Members Screen Explanatory Texts (i18n)
  # ---------------------------------------------------------------------------
  - phase: 2
    feature: F026
    cr: CR-80
    tests:
      # --- AC-1: Description text below the title ---
      - name: "should render members.description text in the screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should render description below the header and before searchContainer"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for description"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with fontSize 13"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with textAlign center"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with paddingHorizontal 16"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      - name: "should define description style with marginBottom 8"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-1"]
        covers_ecs: []
        status: passing

      # --- AC-2: CSV help text when canImport is true ---
      - name: "should render members.csvHelp text in the screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      - name: "should render csvHelp after csvActions buttons"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for csvHelp"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-2"]
        covers_ecs: []
        status: passing

      # --- AC-3: CSV help hidden when canImport is false ---
      - name: "should place csvHelp inside the canImport conditional block"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-3"]
        covers_ecs: ["EC-1"]
        status: passing

      - name: "should not render csvHelp outside any conditional block"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-3"]
        covers_ecs: ["EC-1"]
        status: passing

      # --- AC-4: pt-BR translations ---
      - name: "should have members.description in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in pt-BR"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4"]
        covers_ecs: []
        status: passing

      # --- AC-5: en translations ---
      - name: "should have members.description in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in en"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-5"]
        covers_ecs: []
        status: passing

      # --- AC-6: es translations ---
      - name: "should have members.description in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.description in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have non-empty members.csvHelp in es"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-6"]
        covers_ecs: []
        status: passing

      # --- AC-7: No regressions ---
      - name: "should still have SwipeableCard import in members screen"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still render SwipeableCard in member rows"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have CSV import handler"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have CSV export handler"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have search functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have add member functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have delete member functionality"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      - name: "should still have MemberEditor component"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-7"]
        covers_ecs: []
        status: passing

      # --- EC-1: Without import permissions ---
      - name: "should render description outside any conditional block (always visible)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-1"]
        status: passing

      - name: "should have exactly one occurrence of members.description (not conditional)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-1"]
        status: passing

      # --- EC-2: Text sizing for small screens ---
      - name: "should have description fontSize <= 14 (appropriate for subtitle)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should have csvHelp fontSize <= 13 (smaller than description)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should not use fixed width or numberOfLines on description (allows text wrapping)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      - name: "should not use fixed width on csvHelp (allows text wrapping)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-2"]
        status: passing

      # --- EC-3: Texts visible regardless of member list state ---
      - name: "should render description before the main member FlatList (not inside it)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      - name: "should render csvHelp before the main member FlatList (not inside it)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      - name: "should still have ListEmptyComponent for empty state"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-3"]
        status: passing

      # --- Cross-locale consistency ---
      - name: "should have members.description key in all 3 locales"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have members.csvHelp key in all 3 locales"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "should have all locale files as valid JSON (parseable)"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "csvHelp in all locales should mention CSV format info"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

      - name: "csvHelp in all locales should mention phone format"
        file: "src/__tests__/cr080-f026-members-explanatory-texts.test.ts"
        type: unit
        covers_acs: ["AC-4", "AC-5", "AC-6"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 6 Phase 1: F027 (CR-83), F028 (CR-84), F029 (CR-85), F030 (CR-86), F031 (CR-90)
  # ---------------------------------------------------------------------------

  # --- F031 (CR-90): Fix Delete Button ---
  - phase: 3
    feature: F031
    cr: CR-90
    tests:
      - name: "should have onDelete Pressable in SwipeableCard action buttons"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-01"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete function that calls onDelete"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-01"]
        covers_ecs: []
        status: passing

      - name: "should pass onDelete to SwipeableCard in MemberRow"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-02"]
        covers_ecs: []
        status: passing

      - name: "should pass onDelete to SwipeableCard in TopicRow"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-02"]
        covers_ecs: []
        status: passing

      - name: "should have pointerEvents box-none on Animated.View card content"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should have inner View with backgroundColor inside Animated.View"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should NOT have backgroundColor in cardContent style"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete that closes card and calls onDelete"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-03"]
        covers_ecs: []
        status: passing

      - name: "should still have handleEdit function in SwipeableCard"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-04"]
        covers_ecs: []
        status: passing

      - name: "should still have onPress={handleEdit} on Edit Pressable"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-04"]
        covers_ecs: []
        status: passing

      - name: "should have handleEdit with same structure as handleDelete"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F031-04"]
        covers_ecs: []
        status: passing

  # --- F027 (CR-83): Save/Cancel Buttons ---
  - phase: 3
    feature: F027
    cr: CR-83
    tests:
      - name: "should NOT have onBlur={handleSave} on any TextInput in MemberEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-01"]
        covers_ecs: []
        status: passing

      - name: "should have Save button that calls handleSave"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-02"]
        covers_ecs: []
        status: passing

      - name: "should have handleSave that validates full_name is not empty and calls onSave"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-02"]
        covers_ecs: []
        status: passing

      - name: "should have Cancel button that calls onCancel"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-03"]
        covers_ecs: []
        status: passing

      - name: "should have onCancel as required prop in MemberEditorProps"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-03"]
        covers_ecs: []
        status: passing

      - name: "should have validation that trims name and returns early if empty"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT have onBlur={handleSave} on any TextInput in TopicEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-05"]
        covers_ecs: []
        status: passing

      - name: "should have Save button that calls handleSave in TopicEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-06"]
        covers_ecs: []
        status: passing

      - name: "should validate title is not empty before calling onSave"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-06"]
        covers_ecs: []
        status: passing

      - name: "should have Cancel button that calls onCancel in TopicEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-07"]
        covers_ecs: []
        status: passing

      - name: "should have onCancel as required prop in TopicEditorProps"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-07"]
        covers_ecs: []
        status: passing

      - name: "MemberEditor should render Save button with t(common.save)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MemberEditor should render Cancel button with t(common.cancel)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicEditor should render Save button with t(common.save)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicEditor should render Cancel button with t(common.cancel)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "Save button should use primary color background in MemberEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "Cancel button should use textSecondary color in MemberEditor"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "should have editorButtons style with flexDirection row, justifyContent flex-end, gap 8"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "should have editorButtons style in topics.tsx matching members.tsx"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MemberRow should pass onCancel to MemberEditor in edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicRow should pass onCancel to TopicEditor in edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MembersScreen should pass onCancel to renderItem for edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "MembersScreen should pass onCancel to MemberEditor for adding mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicsScreen should pass onCancel to TopicRow for edit mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

      - name: "TopicsScreen should pass onCancel to TopicEditor for adding mode"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F027-08"]
        covers_ecs: []
        status: passing

  # --- F029 (CR-85): Country Codes ---
  - phase: 3
    feature: F029
    cr: CR-85
    tests:
      - name: "should have at least 150 country code entries"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "every entry should have code starting with +"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "every entry should have a non-empty flag"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "every entry should have a label containing the code"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "USA and Canada should be separate entries with code +1"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-01"]
        covers_ecs: []
        status: passing

      - name: "should parse Australian number +61412345678"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should parse Brazilian number +5511999999999"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should parse US number +14155551234"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should parse UK number +447911123456"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "should default to +55 for number without + prefix"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: ["EC-F029-01"]
        status: passing

      - name: "should handle empty string input"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: ["EC-F029-02"]
        status: passing

      - name: "should handle 3-digit country code like +355 (Albania)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-02"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should import COUNTRY_CODES from lib/countryCodes"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should import getFlagForCode from lib/countryCodes"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should NOT have local COUNTRY_CODES array"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "members.tsx should NOT have local getFlagForCode function"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "csvUtils.ts should re-export splitPhoneNumber from countryCodes"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "csvUtils.ts should NOT have local splitPhoneNumber implementation"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "splitPhoneNumber imported from csvUtils should work correctly"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-03"]
        covers_ecs: []
        status: passing

      - name: "should have Brazil (+55) as the first entry"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-04"]
        covers_ecs: []
        status: passing

      - name: "remaining entries (after Brazil) should be in alphabetical order by country name"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-04"]
        covers_ecs: []
        status: passing

      - name: "every entry should have a flag with Regional Indicator Symbol pairs"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-05"]
        covers_ecs: []
        status: passing

      - name: "getFlagForCode should return correct flag for known code"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-05"]
        covers_ecs: []
        status: passing

      - name: "getFlagForCode should return globe fallback for unknown code"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F029-05"]
        covers_ecs: ["EC-F029-03"]
        status: passing

  # --- F030 (CR-86): CSV Import Confirmation ---
  - phase: 3
    feature: F030
    cr: CR-86
    tests:
      - name: "handleImport should call Alert.alert with i18n keys"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-01"]
        covers_ecs: []
        status: passing

      - name: "should have separate performImport function with file picker logic"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-01"]
        covers_ecs: []
        status: passing

      - name: "en.json importConfirmMessage should mention replacing member list"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-02"]
        covers_ecs: []
        status: passing

      - name: "en.json importConfirmMessage should mention assignments not affected"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-02"]
        covers_ecs: []
        status: passing

      - name: "handleImport Alert should have Confirm button that calls performImport"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-03"]
        covers_ecs: []
        status: passing

      - name: "handleImport Alert should have Cancel button with style cancel"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-04"]
        covers_ecs: []
        status: passing

      - name: "Cancel button should be first in the buttons array (no onPress = dismiss)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-04"]
        covers_ecs: []
        status: passing

      - name: "en.json should have members.importConfirmTitle"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "en.json should have members.importConfirmMessage (non-empty)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "pt-BR.json should have members.importConfirmTitle"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "pt-BR.json should have members.importConfirmMessage (non-empty)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "es.json should have members.importConfirmTitle"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "es.json should have members.importConfirmMessage (non-empty)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

      - name: "all 3 locale files should be valid JSON"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F030-05"]
        covers_ecs: []
        status: passing

  # --- F028 (CR-84): SearchInput Clear X Button ---
  - phase: 3
    feature: F028
    cr: CR-84
    tests:
      - name: "SearchInput should only show X when value.length > 0"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-01"]
        covers_ecs: []
        status: passing

      - name: "X button should be conditionally rendered based on value"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-01"]
        covers_ecs: []
        status: passing

      - name: "SearchInput should render Pressable for X button"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-02"]
        covers_ecs: []
        status: passing

      - name: "X button should display unicode multiplication sign"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-02"]
        covers_ecs: []
        status: passing

      - name: "X button onPress should call onChangeText with empty string"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-03"]
        covers_ecs: []
        status: passing

      - name: "TextInput should have paddingRight >= 36 to avoid text under X"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "X button text should use textSecondary color"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "X button should have hitSlop for easier touch"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "X button should have accessibilityRole button"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "clearButton should be positioned absolutely to the right"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "SearchInput should not manually re-focus TextInput when X is pressed"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-05"]
        covers_ecs: []
        status: passing

      # AC-F028-06: All 10 search fields (20 tests: import + usage for each)
      - name: "members should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "members should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "topics should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "topics should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "history should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "history should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "timezone should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "timezone should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "HymnSelector should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "HymnSelector should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "MemberSelectorModal should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "MemberSelectorModal should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "TopicSelectorModal should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "TopicSelectorModal should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "PrayerSelector should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "PrayerSelector should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "ActorSelector should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "ActorSelector should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "AgendaForm should import SearchInput"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      - name: "AgendaForm should use <SearchInput in JSX"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-06"]
        covers_ecs: []
        status: passing

      # SearchInput component structure
      - name: "should use useTheme() internally for colors (ADR-030)"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "SearchInputProps should extend TextInputProps minus value and onChangeText"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

      - name: "should spread additional TextInput props via rest"
        file: "src/__tests__/batch6-f027-f031.test.ts"
        type: unit
        covers_acs: ["AC-F028-04"]
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 6 Phase 2: F032 (CR-87), F033 (CR-88), F034 (CR-89)
  # ---------------------------------------------------------------------------

  # --- F032 (CR-87): Swipe Action Icons ---
  - phase: 4
    feature: F032
    cr: CR-87
    tests:
      - name: "should render pencil Unicode character (U+270F) in Edit button"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should render wastebasket Unicode character (U+1F5D1) in Delete button"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT render editLabel text inside Edit button content"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT render deleteLabel text inside Delete button content"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-01"]
        covers_ecs: []
        status: passing

      - name: "should have handleEdit that fires onEdit callback on press"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-02"]
        covers_ecs: []
        status: passing

      - name: "should have handleEdit that closes card before calling onEdit"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-02"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete that fires onDelete callback on press"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-03"]
        covers_ecs: []
        status: passing

      - name: "should have handleDelete that closes card before calling onDelete"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-03"]
        covers_ecs: []
        status: passing

      - name: "should have accessibilityLabel on Edit button using editLabel"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should have accessibilityLabel on Delete button using deleteLabel"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT have Unicode pencil character in any accessibilityLabel"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should keep editLabel and deleteLabel in SwipeableCardProps interface"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-04"]
        covers_ecs: []
        status: passing

      - name: "should have actionIcon style with fontSize 20"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should have actionIcon style with textAlign center"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use styles.actionIcon for Edit button icon (not actionText)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use styles.actionIcon for Delete button icon (not actionText)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use colors.onPrimary for Edit icon color"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use #FFFFFF for Delete icon color"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use colors.primary as Edit button background"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

      - name: "should use colors.error as Delete button background"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F032-05"]
        covers_ecs: []
        status: passing

  # --- F033 (CR-88): Topics Screen Explanatory Text ---
  - phase: 4
    feature: F033
    cr: CR-88
    tests:
      - name: "should render t(topics.description) text in the topics screen"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-01"]
        covers_ecs: []
        status: passing

      - name: "should render description between header and Ward Topics section"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-01"]
        covers_ecs: []
        status: passing

      - name: "should mention ward topics in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should mention activating/deactivating collections in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should mention speeches in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should mention adding/editing/deleting in en description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-02"]
        covers_ecs: []
        status: passing

      - name: "should have topics.description in en.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.description in pt-BR.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.description in es.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.noTopics in en.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.noTopics in pt-BR.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have topics.noTopics in es.json"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-03"]
        covers_ecs: []
        status: passing

      - name: "should have description style with fontSize 13"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should have description style with textAlign center"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should have description style with paddingHorizontal 16"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should have description style with marginBottom 8"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should use colors.textSecondary for description text color"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT have numberOfLines on description Text"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-05"]
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should have paddingHorizontal on description for safe wrapping"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-05"]
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should have same set of topics keys in all 3 locales"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-06"]
        covers_ecs: []
        status: passing

      - name: "should have all existing topics keys preserved (no removal)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-06"]
        covers_ecs: []
        status: passing

      - name: "all 3 locale files should be valid JSON"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F033-06"]
        covers_ecs: []
        status: passing

  # --- F034 (CR-89): Collection Topics View ---
  - phase: 4
    feature: F034
    cr: CR-89
    tests:
      - name: "should have expandedCollectionId state in TopicsScreen"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should have handleCollectionPress that toggles expandedCollectionId"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should render CollectionTopicsList when collection is expanded"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should pass collectionId to CollectionTopicsList"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-01"]
        covers_ecs: []
        status: passing

      - name: "should toggle expandedCollectionId to null when same collection is tapped"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-02"]
        covers_ecs: []
        status: passing

      - name: "should have useCollectionTopics hook in useTopics.ts"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should query general_topics table in useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should filter by collection_id in useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should order results by title ascending in useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should be disabled when collectionId is null"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should have collectionTopics in topicKeys"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should render topic title in collection topics list"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should render topic link when available in collection topics list"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should use primary color for topic link text"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-03"]
        covers_ecs: []
        status: passing

      - name: "should import ActivityIndicator from react-native"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-04"]
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should render ActivityIndicator when isLoading is true"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-04"]
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should use small size and primary color for ActivityIndicator"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-04"]
        covers_ecs: []
        status: passing

      - name: "should render t(topics.noTopics) when topics array is empty"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-05"]
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should check for empty or null topics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-05"]
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should style empty state text as italic"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-05"]
        covers_ecs: []
        status: passing

      - name: "should have Switch outside of the Pressable in CollectionRow"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: ["EC-05"]
        status: passing

      - name: "should pass onToggle to Switch onValueChange (not to Pressable)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: ["EC-05"]
        status: passing

      - name: "should pass onPress to Pressable (not to Switch)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: []
        status: passing

      - name: "should have isExpanded and onPress in CollectionRowProps"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-06"]
        covers_ecs: []
        status: passing

      - name: "should use single expandedCollectionId (not an array/set)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-07"]
        covers_ecs: []
        status: passing

      - name: "should toggle by comparing prev with collectionId"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-07"]
        covers_ecs: []
        status: passing

      - name: "should have chevron showing right-pointing triangle when collapsed"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have chevron showing down-pointing triangle when expanded"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should toggle chevron based on isExpanded prop"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have chevron style with fontSize 10 and width 16"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have collectionPressable style with flex 1 and flexDirection row"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have collection topics container with paddingLeft 32 (visual nesting)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should use textSecondary color for topic titles"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should have hairlineWidth separator between topic items"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      - name: "should NOT have swipe or edit buttons in collection topics (read-only)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: ["AC-F034-08"]
        covers_ecs: []
        status: passing

      # Edge cases
      - name: "should use U+270F (Pencil) which is widely supported"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-01"]
        status: passing

      - name: "should use U+1F5D1 (Wastebasket) which is widely supported"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-01"]
        status: passing

      - name: "should have no numberOfLines constraint on description"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should have paddingHorizontal for safe margins on small screens"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-02"]
        status: passing

      - name: "should show noTopics message when topics array is empty"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should show noTopics message when topics is null/undefined"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-03"]
        status: passing

      - name: "should show ActivityIndicator during loading"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should have loading container with paddingVertical 16"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-04"]
        status: passing

      - name: "should wrap only chevron and name in Pressable (not Switch)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-05"]
        status: passing

      # Regression tests
      - name: "should still have handleEdit function"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have handleDelete function"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have GestureDetector for pan gesture"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have animated translateX style"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have pointerEvents box-none on Animated.View"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have onReveal callback for single-reveal management"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have TopicEditor component"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have TopicRow component"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have CollectionRow component"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still import SwipeableCard"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still import SearchInput"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have search functionality"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have ward topics CRUD"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still have collection toggle"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useWardTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useCollections"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useActiveTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should still export useToggleCollection"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should export useCollectionTopics (new hook)"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "topics.tsx should import useCollectionTopics"
        file: "src/__tests__/batch6-f032-f034.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 7 Phase 1: F035 (CR-91), F036 (CR-92), F037 (CR-93), F038 (CR-95), F039 (CR-98)
  # ---------------------------------------------------------------------------

  # --- F035 (CR-91): Fix RLS policy error on notification_queue ---
  - phase: 5
    feature: F035
    cr: CR-91
    tests:
      - name: "should have SECURITY DEFINER keyword in migration 013"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should define CREATE OR REPLACE FUNCTION enqueue_speech_notification()"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should define function as RETURNS TRIGGER"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should use plpgsql language"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should have SECURITY DEFINER after LANGUAGE plpgsql"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-01"]
        covers_ecs: []
        status: passing

      - name: "should have RLS enabled on notification_queue"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-02"]
        covers_ecs: []
        status: passing

      - name: "should NOT have INSERT policy for authenticated on notification_queue"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-02"]
        covers_ecs: []
        status: passing

      - name: "should handle assigned_not_invited status (Case 1: designation notification)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-01"]
        status: passing

      - name: "should handle assigned_confirmed status (Case 4: speaker_confirmed notification)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-02"]
        status: passing

      - name: "should handle gave_up status (Case 5: speaker_withdrew notification)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-03"]
        status: passing

      - name: "should handle not_assigned status (cancellation UPDATE)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-04"]
        status: passing

      - name: "should NOT contain DROP TRIGGER statement"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-04"]
        covers_ecs: []
        status: passing

      - name: "should NOT contain CREATE TRIGGER statement"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-04"]
        covers_ecs: []
        status: passing

      - name: "should use CREATE OR REPLACE to update function without recreating trigger"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-04"]
        covers_ecs: []
        status: passing

      - name: "should INSERT into notification_queue for assigned_not_invited"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-01"]
        status: passing

      - name: "should INSERT into notification_queue for assigned_confirmed"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-02"]
        status: passing

      - name: "should INSERT into notification_queue for gave_up"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-03"]
        status: passing

      - name: "should UPDATE notification_queue for not_assigned (cancellation)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F035-03"]
        covers_ecs: ["EC-F035-04"]
        status: passing

  # --- F036 (CR-92): Fix duplicate key error in country dropdown ---
  - phase: 5
    feature: F036
    cr: CR-92
    tests:
      - name: "should use item.label as keyExtractor for country codes FlatList"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT use item.code as keyExtractor for country codes FlatList"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-01"]
        covers_ecs: []
        status: passing

      - name: "should have all unique labels in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-02"]
        covers_ecs: []
        status: passing

      - name: "should have United States with +1 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-03"]
        covers_ecs: []
        status: passing

      - name: "should have Canada with +1 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-03"]
        covers_ecs: []
        status: passing

      - name: "should have unique labels for US and Canada"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-03"]
        covers_ecs: []
        status: passing

      - name: "should have Russia with +7 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-04"]
        covers_ecs: []
        status: passing

      - name: "should have Kazakhstan with +7 in COUNTRY_CODES"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-04"]
        covers_ecs: []
        status: passing

      - name: "should have unique labels for Russia and Kazakhstan"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-04"]
        covers_ecs: []
        status: passing

      - name: "should have item.code === countryCode comparison for highlighting"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-05"]
        covers_ecs: []
        status: passing

      - name: "should apply primaryContainer background for selected item"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-05"]
        covers_ecs: []
        status: passing

      - name: "should use code-based comparison (not label-based) for highlighting"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F036-05"]
        covers_ecs: ["EC-F036-01"]
        status: passing

  # --- F037 (CR-93): Change deep link protocol to sacrmeetman:// ---
  - phase: 5
    feature: F037
    cr: CR-93
    tests:
      - name: "should have scheme set to sacrmeetman in app.json"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT contain wardmanager as scheme"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-01"]
        covers_ecs: []
        status: passing

      - name: "should contain sacrmeetman://invite/ in create-invitation Edge Function"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-02"]
        covers_ecs: []
        status: passing

      - name: "should NOT contain wardmanager:// in create-invitation Edge Function"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-02"]
        covers_ecs: []
        status: passing

      - name: "should have zero wardmanager:// references in src/ directory"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-03"]
        covers_ecs: []
        status: passing

      - name: "should have zero wardmanager:// references in supabase/ directory"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-03"]
        covers_ecs: []
        status: passing

      - name: "should have ios.bundleIdentifier as com.wardmanager.app"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-04"]
        covers_ecs: []
        status: passing

      - name: "should have android.package as com.wardmanager.app"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-04"]
        covers_ecs: []
        status: passing

      - name: "should only use sacrmeetman:// protocol (old links stop working by design)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-02"]
        covers_ecs: ["EC-F037-01"]
        status: passing

      - name: "should have scheme defined in app.json (works only in standalone builds)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F037-01"]
        covers_ecs: ["EC-F037-02"]
        status: passing

  # --- F038 (CR-95): Fix speech fields not hiding on sunday type change ---
  - phase: 5
    feature: F038
    cr: CR-95
    tests:
      - name: "should show speech slots when exception is null (default = speeches)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01"]
        covers_ecs: ["EC-F038-01"]
        status: passing

      - name: "should use condition (!exception || exception.reason === 'speeches') for speech slots"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-02", "AC-F038-03", "AC-F038-04", "AC-F038-05", "AC-F038-06", "AC-F038-07"]
        covers_ecs: []
        status: passing

      - name: "should NOT use isExcludedFromAgenda for speech slots visibility"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-02", "AC-F038-03", "AC-F038-04", "AC-F038-05", "AC-F038-06", "AC-F038-07"]
        covers_ecs: []
        status: passing

      - name: "should NOT import isExcludedFromAgenda"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-02"]
        covers_ecs: []
        status: passing

      - name: "should only render [1, 2, 3].map speech slots inside the speeches condition"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01", "AC-F038-09"]
        covers_ecs: []
        status: passing

      - name: "should render SundayTypeDropdown inside SundayCard (not conditional on type)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-08"]
        covers_ecs: []
        status: passing

      - name: "should evaluate to true when exception.reason is speeches"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-09"]
        covers_ecs: []
        status: passing

      - name: "should evaluate !exception to true when exception is null"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01"]
        covers_ecs: ["EC-F038-01"]
        status: passing

      - name: "should compute exception from sundayData.exception with null fallback"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F038-01"]
        covers_ecs: ["EC-F038-01"]
        status: passing

      - name: "should only control visibility of speech slots (not modify speech data)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F038-02"]
        status: passing

      - name: "should import isExcludedFromAgenda in agenda.tsx"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should use isExcludedFromAgenda for expandable check in agenda.tsx"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

      - name: "should export isExcludedFromAgenda function from useAgenda.ts"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: []
        status: passing

  # --- F039 (CR-98): Fix prayer fields not clickable ---
  - phase: 5
    feature: F039
    cr: CR-98
    tests:
      - name: "should render PrayerSelector with visible={true} in AgendaForm"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-01"]
        covers_ecs: []
        status: passing

      - name: "should render PrayerSelector for closing_prayer using same selectorModal pattern"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-02"]
        covers_ecs: []
        status: passing

      - name: "should call onSelect and then onClose in handleSelectMember"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-03"]
        covers_ecs: []
        status: passing

      - name: "should have onClose prop that resets selectorModal in AgendaForm"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-04"]
        covers_ecs: []
        status: passing

      - name: "should call onClose in cancel button handler"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-04"]
        covers_ecs: []
        status: passing

      - name: "should call onClose in onRequestClose handler"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-04"]
        covers_ecs: []
        status: passing

      - name: "should have handleCustomName that calls onSelect with null memberId"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-05"]
        covers_ecs: []
        status: passing

      - name: "should call onClose after custom name selection"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-05"]
        covers_ecs: []
        status: passing

      - name: "should have disabled prop that prevents opening"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-06"]
        covers_ecs: []
        status: passing

      - name: "should pass disabled to Pressable"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-06"]
        covers_ecs: []
        status: passing

      - name: "should have visible prop in PrayerSelectorProps"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should have onClose prop in PrayerSelectorProps"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should have useEffect that opens modal when visible is true"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should import useEffect from React"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: ["AC-F039-07"]
        covers_ecs: []
        status: passing

      - name: "should have handleClear that calls onSelect(null)"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-01"]
        status: passing

      - name: "should render clear button when selected and not disabled"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-01"]
        status: passing

      - name: "should use useMembers hook with search parameter"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-02"]
        status: passing

      - name: "should have SearchInput component in modal"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-02"]
        status: passing

      - name: "should reset search and customName on close"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-03"]
        status: passing

      - name: "should reset search and customName on member selection"
        file: "src/__tests__/batch7-f035-f039.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F039-03"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 7 Phase 2: F040 (CR-94), F041 (CR-96), F042 (CR-97), F043 (CR-99), F044 (CR-100)
  # ---------------------------------------------------------------------------

  # --- F040 (CR-94): Update default WhatsApp template (i18n templates) ---
  - phase: 6
    feature: F040
    cr: CR-94
    tests:
      - name: "should export DEFAULT_TEMPLATE_PT_BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-01"]
        covers_ecs: []
        status: passing

      - name: "should include {nome} placeholder in pt-BR template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-01"]
        covers_ecs: []
        status: passing

      - name: "should export DEFAULT_TEMPLATE_EN"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-02"]
        covers_ecs: []
        status: passing

      - name: "should include all 6 placeholders in en template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-02"]
        covers_ecs: []
        status: passing

      - name: "should export DEFAULT_TEMPLATE_ES"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-03"]
        covers_ecs: []
        status: passing

      - name: "should include all 6 placeholders in es template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-03"]
        covers_ecs: []
        status: passing

      - name: "should have getDefaultTemplate function"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should accept language parameter in getDefaultTemplate"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return DEFAULT_TEMPLATE_EN for en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return DEFAULT_TEMPLATE_ES for es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return DEFAULT_TEMPLATE_PT_BR as default (fallback)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

      - name: "should have language parameter in buildWhatsAppUrl with default pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should use getDefaultTemplate(language) in buildWhatsAppUrl when template is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should pass locale as 5th argument to buildWhatsAppUrl in InviteManagementSection"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should replace {nome} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {data} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {posicao} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {colecao} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {titulo} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should replace {link} placeholder"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should re-export DEFAULT_TEMPLATE_EN from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should re-export DEFAULT_TEMPLATE_ES from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should re-export getDefaultTemplate from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should continue to re-export resolveTemplate from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should continue to re-export buildWhatsAppUrl from whatsapp.ts"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-06"]
        covers_ecs: []
        status: passing

      - name: "should use template parameter when not empty in buildWhatsAppUrl"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-01"]
        status: passing

      - name: "should have default case returning pt-BR template"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

      # Functional tests
      - name: "should return pt-BR template for pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return en template for en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return es template for es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should return pt-BR template for unknown language (fallback)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

      - name: "should replace all placeholders with values"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should handle empty optional fields"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-05"]
        covers_ecs: []
        status: passing

      - name: "should use pt-BR template when language is pt-BR and template is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should use en template when language is en and template is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: []
        status: passing

      - name: "should use custom template when provided, ignoring language"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-01"]
        status: passing

      - name: "should default to pt-BR when language parameter is omitted"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F040-04"]
        covers_ecs: ["EC-F040-02"]
        status: passing

  # --- F041 (CR-96): Search fields fixed at top filling available space ---
  - phase: 6
    feature: F041
    cr: CR-96
    tests:
      - name: "should have SearchInput outside FlatList in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-01"]
        covers_ecs: []
        status: passing

      - name: "should not have SearchInput inside FlatList (no ListHeaderComponent with SearchInput)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-01"]
        covers_ecs: []
        status: passing

      - name: "should have SearchInput outside ScrollView in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-02"]
        covers_ecs: []
        status: passing

      - name: "should have searchContainer with paddingHorizontal in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-03"]
        covers_ecs: []
        status: passing

      - name: "should have searchContainer with paddingHorizontal in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-03"]
        covers_ecs: []
        status: passing

      - name: "should use SearchInput component in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-04"]
        covers_ecs: []
        status: passing

      - name: "should use SearchInput component in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-04"]
        covers_ecs: []
        status: passing

      - name: "should use KeyboardAvoidingView in members.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-05"]
        covers_ecs: []
        status: passing

      - name: "should use KeyboardAvoidingView in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-05"]
        covers_ecs: []
        status: passing

      - name: "should not have modified MemberSelectorModal"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-06"]
        covers_ecs: []
        status: passing

      - name: "should not have modified ActorSelector layout"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F041-06"]
        covers_ecs: []
        status: passing

      - name: "should have ListEmptyComponent in members FlatList"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F041-01"]
        status: passing

      - name: "should have empty state in topics screen"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F041-01"]
        status: passing

      - name: "should have description text before search in topics.tsx"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F041-02"]
        status: passing

  # --- F042 (CR-97): Multi-select for Reconhecendo a Presenca field ---
  - phase: 6
    feature: F042
    cr: CR-97
    tests:
      - name: "should have toggle logic in recognizing handler that adds actor name"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-01"]
        covers_ecs: []
        status: passing

      - name: "should spread current array and add new name"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-01"]
        covers_ecs: []
        status: passing

      - name: "should check if actor name already exists in array"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-02"]
        covers_ecs: ["EC-F042-03"]
        status: passing

      - name: "should filter out existing actor name when toggling"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-02"]
        covers_ecs: []
        status: passing

      - name: "should display recognized_names joined by comma in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-03"]
        covers_ecs: []
        status: passing

      - name: "should have selectedNames prop in ActorSelectorProps"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-04"]
        covers_ecs: []
        status: passing

      - name: "should check if actor is selected for checkmark display"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-04"]
        covers_ecs: []
        status: passing

      - name: "should render checkmark (U+2713) for selected actors"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-04"]
        covers_ecs: []
        status: passing

      - name: "should have multiSelect prop in ActorSelectorProps"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-05"]
        covers_ecs: []
        status: passing

      - name: "should not close modal when multiSelect is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-05"]
        covers_ecs: []
        status: passing

      - name: "should pass multiSelect={true} for recognizing field"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-05"]
        covers_ecs: []
        status: passing

      - name: "should have overlay pressable that closes modal in ActorSelector"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-06"]
        covers_ecs: []
        status: passing

      - name: "should have close button that closes modal in ActorSelector"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-06"]
        covers_ecs: []
        status: passing

      - name: "should call updateField with recognized_names array"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-07"]
        covers_ecs: []
        status: passing

      - name: "should set to null when array is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-07"]
        covers_ecs: ["EC-F042-02"]
        status: passing

      - name: "should join recognized_names in presentation mode"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-08"]
        covers_ecs: []
        status: passing

      - name: "should not pass multiSelect for presiding field"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-09"]
        covers_ecs: []
        status: passing

      - name: "should close modal after selecting presiding/conducting/etc"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-09"]
        covers_ecs: []
        status: passing

      - name: "should not pass selectedNames for non-recognizing fields"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F042-09"]
        covers_ecs: []
        status: passing

      - name: "should handle null recognized_names with fallback to empty array"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F042-01"]
        status: passing

      - name: "should set to null when updated array is empty (EC-F042-02)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F042-02"]
        status: passing

      - name: "should use exact string matching for toggle"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F042-03"]
        status: passing

  # --- F043 (CR-99): Change speech labels from Orador to Discurso ---
  - phase: 6
    feature: F043
    cr: CR-99
    tests:
      - name: "should have speeches.speaker equal to Discurso in pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-01"]
        covers_ecs: []
        status: passing

      - name: "should NOT have speeches.speaker equal to Orador in pt-BR"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-01"]
        covers_ecs: []
        status: passing

      - name: "should have speeches.speaker equal to Speech in en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-02"]
        covers_ecs: []
        status: passing

      - name: "should NOT have speeches.speaker equal to Speaker in en"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-02"]
        covers_ecs: []
        status: passing

      - name: "should have speeches.speaker equal to Discurso in es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-03"]
        covers_ecs: []
        status: passing

      - name: "should NOT have speeches.speaker equal to Orador in es"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-03"]
        covers_ecs: []
        status: passing

      - name: "should use t(speeches.speaker) in usePresentationMode for speaker labels"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-04"]
        covers_ecs: []
        status: passing

      - name: "should use t(speeches.speaker) in AgendaForm for speaker labels"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-04"]
        covers_ecs: []
        status: passing

      - name: "should have speeches.speaker used only in AgendaForm and usePresentationMode"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-05"]
        covers_ecs: []
        status: passing

      - name: "should have consistent values across all 3 locales for speeches key"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F043-05"]
        covers_ecs: []
        status: passing

      - name: "should use labels with ordinal + Discurso/Speech pattern in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F043-01"]
        status: passing

  # --- F044 (CR-100): Read-only speaker field with last-minute swap ---
  - phase: 6
    feature: F044
    cr: CR-100
    tests:
      - name: "should have SpeakerField component in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-01"]
        covers_ecs: []
        status: passing

      - name: "should display speakerName as read-only text"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-01"]
        covers_ecs: []
        status: passing

      - name: "should show displayName which is overrideName or speakerName"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-01"]
        covers_ecs: []
        status: passing

      - name: "should render pencil icon (U+270F) for edit"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-02"]
        covers_ecs: []
        status: passing

      - name: "should only show pencil when hasSpeaker is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-02"]
        covers_ecs: []
        status: passing

      - name: "should have isEditing state in SpeakerField"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-03"]
        covers_ecs: []
        status: passing

      - name: "should have handleStartEdit that sets isEditing to true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-03"]
        covers_ecs: []
        status: passing

      - name: "should render TextInput when isEditing is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-03"]
        covers_ecs: []
        status: passing

      - name: "should have editValue state for text input"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-04"]
        covers_ecs: []
        status: passing

      - name: "should have onChangeText that updates editValue"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-04"]
        covers_ecs: []
        status: passing

      - name: "should call onEditOverride with trimmed value on save"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-04"]
        covers_ecs: []
        status: passing

      - name: "should render X icon (U+2716) when hasOverride is true"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-05"]
        covers_ecs: []
        status: passing

      - name: "should compute hasOverride based on overrideName vs speakerName"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-05"]
        covers_ecs: []
        status: passing

      - name: "should only show X when hasOverride and not disabled"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-05"]
        covers_ecs: []
        status: passing

      - name: "should have handleRevert that sets override to null"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-06"]
        covers_ecs: []
        status: passing

      - name: "should set isEditing to false on revert"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-06"]
        covers_ecs: []
        status: passing

      - name: "should have migration 014 for speaker override fields"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have speaker_1_override in SundayAgenda type"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have speaker_2_override in SundayAgenda type"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have speaker_3_override in SundayAgenda type"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use updateField for speaker_1_override in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use updateField for speaker_2_override in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use updateField for speaker_3_override in AgendaForm"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have TEXT DEFAULT NULL in migration"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should have COMMENT ON COLUMN for documentation"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-07"]
        covers_ecs: []
        status: passing

      - name: "should use speaker_1_override from agenda in buildPresentationCards"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should use speaker_2_override from agenda in buildPresentationCards"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should use speaker_3_override from agenda in buildPresentationCards"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should fallback to speech.speaker_name when override is null"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-08"]
        covers_ecs: []
        status: passing

      - name: "should pass disabled={isObserver} to SpeakerField"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-09"]
        covers_ecs: []
        status: passing

      - name: "should not show pencil icon when disabled"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-09"]
        covers_ecs: []
        status: passing

      - name: "should show placeholder when no speaker name"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-10"]
        covers_ecs: []
        status: passing

      - name: "should not show pencil when no speaker is assigned"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: ["AC-F044-10"]
        covers_ecs: []
        status: passing

      - name: "should read override from agenda.speaker_N_override (null clears it)"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-01"]
        status: passing

      - name: "should clear override when trimmed value is empty"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-02"]
        status: passing

      - name: "should clear override when value equals original speakerName"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-02"]
        status: passing

      - name: "should have independent SpeakerField for position 1"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-03"]
        status: passing

      - name: "should have independent SpeakerField for position 2"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-03"]
        status: passing

      - name: "should have independent SpeakerField for position 3"
        file: "src/__tests__/batch7-f040-f044.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F044-03"]
        status: passing

  # ---------------------------------------------------------------------------
  # Batch 8 Phase 1: F045 (CR-101), F046 (CR-102), F047 (CR-103),
  #                   F048 (CR-104, CR-108), F049 (CR-109)
  # ---------------------------------------------------------------------------
  - phase: 7
    feature: F045
    cr: CR-101
    tests:
      - name: "should wrap LEDs section with isSpeechesType conditional"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-01"]
        covers_ecs: []
        status: passing
      - name: "should have isSpeechesType flag defined"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-01"]
        covers_ecs: []
        status: passing
      - name: "should render StatusLED components inside conditional"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-01"]
        covers_ecs: []
        status: passing
      - name: "should NOT render LEDs unconditionally (no standalone <View style={styles.leds}>)"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-02"]
        covers_ecs: []
        status: passing
      - name: "should use SundayCard component in speeches.tsx"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-03"]
        covers_ecs: []
        status: passing
      - name: "should use SundayCard component in NextSundaysSection.tsx"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F045-04"]
        covers_ecs: []
        status: passing
      - name: "should compute isSpeechesType from currentType which derives from exception.reason"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F045-01"]
        status: passing
      - name: "should have SUNDAY_TYPE_SPEECHES imported for comparison"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F045-02"]
        status: passing

  - phase: 7
    feature: F046
    cr: CR-102
    tests:
      - name: "should filter exceptionLabel to return null when reason is speeches"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-01"]
        covers_ecs: []
        status: passing
      - name: "should compute exceptionLabel with speeches filter"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-01"]
        covers_ecs: []
        status: passing
      - name: "should still use t() for translation of exception reason"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-02"]
        covers_ecs: []
        status: passing
      - name: "should have conditional rendering {exceptionLabel && (...)}"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-02"]
        covers_ecs: []
        status: passing
      - name: "should use fallback reason string for unrecognized types"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F046-03"]
        covers_ecs: []
        status: passing
      - name: "should handle null exception gracefully"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F046-01"]
        status: passing

  - phase: 7
    feature: F047
    cr: CR-103
    tests:
      - name: "should import getDefaultTemplate from whatsappUtils"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-01"]
        covers_ecs: []
        status: passing
      - name: "should call getDefaultTemplate when whatsapp_template is null"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-01"]
        covers_ecs: []
        status: passing
      - name: "should handle undefined whatsapp_template as null"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-01"]
        covers_ecs: []
        status: passing
      - name: "should set template from ward.whatsapp_template when it has value"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-02"]
        covers_ecs: []
        status: passing
      - name: "should check for empty string explicitly"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-03"]
        covers_ecs: []
        status: passing
      - name: "should set empty template for empty string"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-03"]
        covers_ecs: []
        status: passing
      - name: "should pass ward.language to getDefaultTemplate"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-04"]
        covers_ecs: []
        status: passing
      - name: "should fallback to pt-BR when language is null"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-04"]
        covers_ecs: []
        status: passing
      - name: "should include language field in ward query"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-05"]
        covers_ecs: []
        status: passing
      - name: "should use same getDefaultTemplate function as whatsappUtils"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F047-05"]
        covers_ecs: []
        status: passing
      - name: "should guard initialization with ward check"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F047-01"]
        status: passing
      - name: "getDefaultTemplate falls back to pt-BR for unknown language"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F047-02"]
        status: passing

  - phase: 7
    feature: F048
    cr: CR-104
    tests:
      - name: "should include collection field in handleNotInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-01"]
        covers_ecs: []
        status: passing
      - name: "should include collection field in handleInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-01"]
        covers_ecs: []
        status: passing
      - name: "should include link field in handleNotInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-02"]
        covers_ecs: []
        status: passing
      - name: "should include link field in handleInvitedAction"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-02"]
        covers_ecs: []
        status: passing
      - name: "should have quotes around {titulo} in pt-BR template"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-03"]
        covers_ecs: []
        status: passing
      - name: "should have quotes around {titulo} in EN template"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-03"]
        covers_ecs: []
        status: passing
      - name: "should have quotes around {titulo} in ES template"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-03"]
        covers_ecs: []
        status: passing
      - name: "should use formatDateHumanReadable instead of formatDate for WhatsApp date"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "should import formatDateHumanReadable from dateUtils"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "formatDateHumanReadable returns correct pt-BR format"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "formatDateHumanReadable returns correct en format"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-05"]
        covers_ecs: []
        status: passing
      - name: "formatDateHumanReadable returns correct es format"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-06"]
        covers_ecs: []
        status: passing
      - name: "should use ?? empty string for collection"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-07"]
        covers_ecs: ["EC-F048-01"]
        status: passing
      - name: "should use ?? empty string for link"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-07"]
        covers_ecs: ["EC-F048-02"]
        status: passing
      - name: "resolveTemplate cleans whitespace from empty placeholders"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-07"]
        covers_ecs: []
        status: passing
      - name: "should have quotes in pt-BR template source code"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-08"]
        covers_ecs: []
        status: passing
      - name: "should have quotes in EN template source code"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-08"]
        covers_ecs: []
        status: passing
      - name: "should have quotes in ES template source code"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-08"]
        covers_ecs: []
        status: passing
      - name: "resolveTemplate handles empty collection gracefully"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F048-01"]
        status: passing
      - name: "resolveTemplate handles empty link gracefully"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F048-02"]
        status: passing
      - name: "resolveTemplate renders empty quotes for empty title"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F048-03"]
        status: passing

  - phase: 7
    feature: F049
    cr: CR-109
    tests:
      - name: "should check for speeches reason in condition"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-01"]
        covers_ecs: []
        status: passing
      - name: "should allow SpeechSlots when exception reason is speeches"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-01"]
        covers_ecs: []
        status: passing
      - name: "should block SpeechSlots when exception reason is not speeches"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-02"]
        covers_ecs: []
        status: passing
      - name: "should use same pattern as speeches.tsx"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F049-03"]
        covers_ecs: []
        status: passing
      - name: "should handle null exception with !entry.exception check"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F049-01"]
        status: passing
      - name: "should render SpeechSlot components for each position"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F049-02"]
        status: passing
      - name: "should use SpeechSlot import"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: []
        covers_ecs: ["EC-F049-02"]
        status: passing

  - phase: 7
    feature: "F045-F049"
    cr: "Cross-cutting"
    tests:
      - name: "resolves pt-BR template with all variables including quotes"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: integration
        covers_acs: ["AC-F048-03", "AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "resolves EN template with all variables including quotes"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: integration
        covers_acs: ["AC-F048-03", "AC-F048-05"]
        covers_ecs: []
        status: passing
      - name: "resolves ES template with all variables including quotes"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: integration
        covers_acs: ["AC-F048-03", "AC-F048-06"]
        covers_ecs: []
        status: passing
      - name: "formats March date in pt-BR"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-04"]
        covers_ecs: []
        status: passing
      - name: "formats December date in en"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-05"]
        covers_ecs: []
        status: passing
      - name: "formats January date in es"
        file: "src/__tests__/batch8-phase1.test.ts"
        type: unit
        covers_acs: ["AC-F048-06"]
        covers_ecs: []
        status: passing

coverage:
  acceptance_criteria:
    # CR-80 / F026 ACs
    - id: AC-1
      covered: true
      tests:
        - "should render members.description text in the screen"
        - "should render description below the header and before searchContainer"
        - "should use colors.textSecondary for description"
        - "should define description style with fontSize 13"
        - "should define description style with textAlign center"
        - "should define description style with paddingHorizontal 16"
        - "should define description style with marginBottom 8"
    - id: AC-2
      covered: true
      tests:
        - "should render members.csvHelp text in the screen"
        - "should render csvHelp after csvActions buttons"
        - "should use colors.textSecondary for csvHelp"
    - id: AC-3
      covered: true
      tests:
        - "should place csvHelp inside the canImport conditional block"
        - "should not render csvHelp outside any conditional block"
    - id: AC-4
      covered: true
      tests:
        - "should have members.description in pt-BR"
        - "should have members.csvHelp in pt-BR"
        - "should have non-empty members.description in pt-BR"
        - "should have non-empty members.csvHelp in pt-BR"
    - id: AC-5
      covered: true
      tests:
        - "should have members.description in en"
        - "should have members.csvHelp in en"
        - "should have non-empty members.description in en"
        - "should have non-empty members.csvHelp in en"
    - id: AC-6
      covered: true
      tests:
        - "should have members.description in es"
        - "should have members.csvHelp in es"
        - "should have non-empty members.description in es"
        - "should have non-empty members.csvHelp in es"
    - id: AC-7
      covered: true
      tests:
        - "should still have SwipeableCard import in members screen"
        - "should still render SwipeableCard in member rows"
        - "should still have CSV import handler"
        - "should still have CSV export handler"
        - "should still have search functionality"
        - "should still have add member functionality"
        - "should still have delete member functionality"
        - "should still have MemberEditor component"

    # F031 (CR-90) ACs
    - id: AC-F031-01
      covered: true
      tests:
        - "should have onDelete Pressable in SwipeableCard action buttons"
        - "should have handleDelete function that calls onDelete"
    - id: AC-F031-02
      covered: true
      tests:
        - "should pass onDelete to SwipeableCard in MemberRow"
        - "should pass onDelete to SwipeableCard in TopicRow"
    - id: AC-F031-03
      covered: true
      tests:
        - "should have pointerEvents box-none on Animated.View card content"
        - "should have inner View with backgroundColor inside Animated.View"
        - "should NOT have backgroundColor in cardContent style"
        - "should have handleDelete that closes card and calls onDelete"
    - id: AC-F031-04
      covered: true
      tests:
        - "should still have handleEdit function in SwipeableCard"
        - "should still have onPress={handleEdit} on Edit Pressable"
        - "should have handleEdit with same structure as handleDelete"

    # F027 (CR-83) ACs
    - id: AC-F027-01
      covered: true
      tests:
        - "should NOT have onBlur={handleSave} on any TextInput in MemberEditor"
    - id: AC-F027-02
      covered: true
      tests:
        - "should have Save button that calls handleSave"
        - "should have handleSave that validates full_name is not empty and calls onSave"
    - id: AC-F027-03
      covered: true
      tests:
        - "should have Cancel button that calls onCancel"
        - "should have onCancel as required prop in MemberEditorProps"
    - id: AC-F027-04
      covered: true
      tests:
        - "should have validation that trims name and returns early if empty"
    - id: AC-F027-05
      covered: true
      tests:
        - "should NOT have onBlur={handleSave} on any TextInput in TopicEditor"
    - id: AC-F027-06
      covered: true
      tests:
        - "should have Save button that calls handleSave in TopicEditor"
        - "should validate title is not empty before calling onSave"
    - id: AC-F027-07
      covered: true
      tests:
        - "should have Cancel button that calls onCancel in TopicEditor"
        - "should have onCancel as required prop in TopicEditorProps"
    - id: AC-F027-08
      covered: true
      tests:
        - "MemberEditor should render Save button with t(common.save)"
        - "MemberEditor should render Cancel button with t(common.cancel)"
        - "TopicEditor should render Save button with t(common.save)"
        - "TopicEditor should render Cancel button with t(common.cancel)"
        - "Save button should use primary color background in MemberEditor"
        - "Cancel button should use textSecondary color in MemberEditor"
        - "should have editorButtons style with flexDirection row, justifyContent flex-end, gap 8"
        - "should have editorButtons style in topics.tsx matching members.tsx"
        - "MemberRow should pass onCancel to MemberEditor in edit mode"
        - "TopicRow should pass onCancel to TopicEditor in edit mode"
        - "MembersScreen should pass onCancel to renderItem for edit mode"
        - "MembersScreen should pass onCancel to MemberEditor for adding mode"
        - "TopicsScreen should pass onCancel to TopicRow for edit mode"
        - "TopicsScreen should pass onCancel to TopicEditor for adding mode"

    # F029 (CR-85) ACs
    - id: AC-F029-01
      covered: true
      tests:
        - "should have at least 150 country code entries"
        - "every entry should have code starting with +"
        - "every entry should have a non-empty flag"
        - "every entry should have a label containing the code"
        - "USA and Canada should be separate entries with code +1"
    - id: AC-F029-02
      covered: true
      tests:
        - "should parse Australian number +61412345678"
        - "should parse Brazilian number +5511999999999"
        - "should parse US number +14155551234"
        - "should parse UK number +447911123456"
        - "should default to +55 for number without + prefix"
        - "should handle empty string input"
        - "should handle 3-digit country code like +355 (Albania)"
    - id: AC-F029-03
      covered: true
      tests:
        - "members.tsx should import COUNTRY_CODES from lib/countryCodes"
        - "members.tsx should import getFlagForCode from lib/countryCodes"
        - "members.tsx should NOT have local COUNTRY_CODES array"
        - "members.tsx should NOT have local getFlagForCode function"
        - "csvUtils.ts should re-export splitPhoneNumber from countryCodes"
        - "csvUtils.ts should NOT have local splitPhoneNumber implementation"
        - "splitPhoneNumber imported from csvUtils should work correctly"
    - id: AC-F029-04
      covered: true
      tests:
        - "should have Brazil (+55) as the first entry"
        - "remaining entries (after Brazil) should be in alphabetical order by country name"
    - id: AC-F029-05
      covered: true
      tests:
        - "every entry should have a flag with Regional Indicator Symbol pairs"
        - "getFlagForCode should return correct flag for known code"
        - "getFlagForCode should return globe fallback for unknown code"

    # F030 (CR-86) ACs
    - id: AC-F030-01
      covered: true
      tests:
        - "handleImport should call Alert.alert with i18n keys"
        - "should have separate performImport function with file picker logic"
    - id: AC-F030-02
      covered: true
      tests:
        - "en.json importConfirmMessage should mention replacing member list"
        - "en.json importConfirmMessage should mention assignments not affected"
    - id: AC-F030-03
      covered: true
      tests:
        - "handleImport Alert should have Confirm button that calls performImport"
    - id: AC-F030-04
      covered: true
      tests:
        - "handleImport Alert should have Cancel button with style cancel"
        - "Cancel button should be first in the buttons array (no onPress = dismiss)"
    - id: AC-F030-05
      covered: true
      tests:
        - "en.json should have members.importConfirmTitle"
        - "en.json should have members.importConfirmMessage (non-empty)"
        - "pt-BR.json should have members.importConfirmTitle"
        - "pt-BR.json should have members.importConfirmMessage (non-empty)"
        - "es.json should have members.importConfirmTitle"
        - "es.json should have members.importConfirmMessage (non-empty)"
        - "all 3 locale files should be valid JSON"

    # F028 (CR-84) ACs
    - id: AC-F028-01
      covered: true
      tests:
        - "SearchInput should only show X when value.length > 0"
        - "X button should be conditionally rendered based on value"
    - id: AC-F028-02
      covered: true
      tests:
        - "SearchInput should render Pressable for X button"
        - "X button should display unicode multiplication sign"
    - id: AC-F028-03
      covered: true
      tests:
        - "X button onPress should call onChangeText with empty string"
    - id: AC-F028-04
      covered: true
      tests:
        - "TextInput should have paddingRight >= 36 to avoid text under X"
        - "X button text should use textSecondary color"
        - "X button should have hitSlop for easier touch"
        - "X button should have accessibilityRole button"
        - "clearButton should be positioned absolutely to the right"
        - "should use useTheme() internally for colors (ADR-030)"
        - "SearchInputProps should extend TextInputProps minus value and onChangeText"
        - "should spread additional TextInput props via rest"
    - id: AC-F028-05
      covered: true
      tests:
        - "SearchInput should not manually re-focus TextInput when X is pressed"
    - id: AC-F028-06
      covered: true
      tests:
        - "members should import SearchInput"
        - "members should use <SearchInput in JSX"
        - "topics should import SearchInput"
        - "topics should use <SearchInput in JSX"
        - "history should import SearchInput"
        - "history should use <SearchInput in JSX"
        - "timezone should import SearchInput"
        - "timezone should use <SearchInput in JSX"
        - "HymnSelector should import SearchInput"
        - "HymnSelector should use <SearchInput in JSX"
        - "MemberSelectorModal should import SearchInput"
        - "MemberSelectorModal should use <SearchInput in JSX"
        - "TopicSelectorModal should import SearchInput"
        - "TopicSelectorModal should use <SearchInput in JSX"
        - "PrayerSelector should import SearchInput"
        - "PrayerSelector should use <SearchInput in JSX"
        - "ActorSelector should import SearchInput"
        - "ActorSelector should use <SearchInput in JSX"
        - "AgendaForm should import SearchInput"
        - "AgendaForm should use <SearchInput in JSX"

    # F032 (CR-87) ACs
    - id: AC-F032-01
      covered: true
      tests:
        - "should render pencil Unicode character (U+270F) in Edit button"
        - "should render wastebasket Unicode character (U+1F5D1) in Delete button"
        - "should NOT render editLabel text inside Edit button content"
        - "should NOT render deleteLabel text inside Delete button content"
    - id: AC-F032-02
      covered: true
      tests:
        - "should have handleEdit that fires onEdit callback on press"
        - "should have handleEdit that closes card before calling onEdit"
    - id: AC-F032-03
      covered: true
      tests:
        - "should have handleDelete that fires onDelete callback on press"
        - "should have handleDelete that closes card before calling onDelete"
    - id: AC-F032-04
      covered: true
      tests:
        - "should have accessibilityLabel on Edit button using editLabel"
        - "should have accessibilityLabel on Delete button using deleteLabel"
        - "should NOT have Unicode pencil character in any accessibilityLabel"
        - "should keep editLabel and deleteLabel in SwipeableCardProps interface"
    - id: AC-F032-05
      covered: true
      tests:
        - "should have actionIcon style with fontSize 20"
        - "should have actionIcon style with textAlign center"
        - "should use styles.actionIcon for Edit button icon (not actionText)"
        - "should use styles.actionIcon for Delete button icon (not actionText)"
        - "should use colors.onPrimary for Edit icon color"
        - "should use #FFFFFF for Delete icon color"
        - "should use colors.primary as Edit button background"
        - "should use colors.error as Delete button background"

    # F033 (CR-88) ACs
    - id: AC-F033-01
      covered: true
      tests:
        - "should render t(topics.description) text in the topics screen"
        - "should render description between header and Ward Topics section"
    - id: AC-F033-02
      covered: true
      tests:
        - "should mention ward topics in en description"
        - "should mention activating/deactivating collections in en description"
        - "should mention speeches in en description"
        - "should mention adding/editing/deleting in en description"
    - id: AC-F033-03
      covered: true
      tests:
        - "should have topics.description in en.json"
        - "should have topics.description in pt-BR.json"
        - "should have topics.description in es.json"
        - "should have topics.noTopics in en.json"
        - "should have topics.noTopics in pt-BR.json"
        - "should have topics.noTopics in es.json"
    - id: AC-F033-04
      covered: true
      tests:
        - "should have description style with fontSize 13"
        - "should have description style with textAlign center"
        - "should have description style with paddingHorizontal 16"
        - "should have description style with marginBottom 8"
        - "should use colors.textSecondary for description text color"
    - id: AC-F033-05
      covered: true
      tests:
        - "should NOT have numberOfLines on description Text"
        - "should have paddingHorizontal on description for safe wrapping"
    - id: AC-F033-06
      covered: true
      tests:
        - "should have same set of topics keys in all 3 locales"
        - "should have all existing topics keys preserved (no removal)"
        - "all 3 locale files should be valid JSON"

    # F034 (CR-89) ACs
    - id: AC-F034-01
      covered: true
      tests:
        - "should have expandedCollectionId state in TopicsScreen"
        - "should have handleCollectionPress that toggles expandedCollectionId"
        - "should render CollectionTopicsList when collection is expanded"
        - "should pass collectionId to CollectionTopicsList"
    - id: AC-F034-02
      covered: true
      tests:
        - "should toggle expandedCollectionId to null when same collection is tapped"
    - id: AC-F034-03
      covered: true
      tests:
        - "should have useCollectionTopics hook in useTopics.ts"
        - "should query general_topics table in useCollectionTopics"
        - "should filter by collection_id in useCollectionTopics"
        - "should order results by title ascending in useCollectionTopics"
        - "should be disabled when collectionId is null"
        - "should have collectionTopics in topicKeys"
        - "should render topic title in collection topics list"
        - "should render topic link when available in collection topics list"
        - "should use primary color for topic link text"
    - id: AC-F034-04
      covered: true
      tests:
        - "should import ActivityIndicator from react-native"
        - "should render ActivityIndicator when isLoading is true"
        - "should use small size and primary color for ActivityIndicator"
    - id: AC-F034-05
      covered: true
      tests:
        - "should render t(topics.noTopics) when topics array is empty"
        - "should check for empty or null topics"
        - "should style empty state text as italic"
    - id: AC-F034-06
      covered: true
      tests:
        - "should have Switch outside of the Pressable in CollectionRow"
        - "should pass onToggle to Switch onValueChange (not to Pressable)"
        - "should pass onPress to Pressable (not to Switch)"
        - "should have isExpanded and onPress in CollectionRowProps"
    - id: AC-F034-07
      covered: true
      tests:
        - "should use single expandedCollectionId (not an array/set)"
        - "should toggle by comparing prev with collectionId"
    - id: AC-F034-08
      covered: true
      tests:
        - "should have chevron showing right-pointing triangle when collapsed"
        - "should have chevron showing down-pointing triangle when expanded"
        - "should toggle chevron based on isExpanded prop"
        - "should have chevron style with fontSize 10 and width 16"
        - "should have collectionPressable style with flex 1 and flexDirection row"
        - "should have collection topics container with paddingLeft 32 (visual nesting)"
        - "should use textSecondary color for topic titles"
        - "should have hairlineWidth separator between topic items"
        - "should NOT have swipe or edit buttons in collection topics (read-only)"

    # F035 (CR-91) ACs
    - id: AC-F035-01
      covered: true
      tests:
        - "should have SECURITY DEFINER keyword in migration 013"
        - "should define CREATE OR REPLACE FUNCTION enqueue_speech_notification()"
        - "should define function as RETURNS TRIGGER"
        - "should use plpgsql language"
        - "should have SECURITY DEFINER after LANGUAGE plpgsql"
    - id: AC-F035-02
      covered: true
      tests:
        - "should have RLS enabled on notification_queue"
        - "should NOT have INSERT policy for authenticated on notification_queue"
    - id: AC-F035-03
      covered: true
      tests:
        - "should handle assigned_not_invited status (Case 1: designation notification)"
        - "should handle assigned_confirmed status (Case 4: speaker_confirmed notification)"
        - "should handle gave_up status (Case 5: speaker_withdrew notification)"
        - "should handle not_assigned status (cancellation UPDATE)"
    - id: AC-F035-04
      covered: true
      tests:
        - "should NOT contain DROP TRIGGER statement"
        - "should NOT contain CREATE TRIGGER statement"
        - "should use CREATE OR REPLACE to update function without recreating trigger"

    # F036 (CR-92) ACs
    - id: AC-F036-01
      covered: true
      tests:
        - "should use item.label as keyExtractor for country codes FlatList"
        - "should NOT use item.code as keyExtractor for country codes FlatList"
    - id: AC-F036-02
      covered: true
      tests:
        - "should have all unique labels in COUNTRY_CODES"
    - id: AC-F036-03
      covered: true
      tests:
        - "should have United States with +1 in COUNTRY_CODES"
        - "should have Canada with +1 in COUNTRY_CODES"
        - "should have unique labels for US and Canada"
    - id: AC-F036-04
      covered: true
      tests:
        - "should have Russia with +7 in COUNTRY_CODES"
        - "should have Kazakhstan with +7 in COUNTRY_CODES"
        - "should have unique labels for Russia and Kazakhstan"
    - id: AC-F036-05
      covered: true
      tests:
        - "should have item.code === countryCode comparison for highlighting"
        - "should apply primaryContainer background for selected item"

    # F037 (CR-93) ACs
    - id: AC-F037-01
      covered: true
      tests:
        - "should have scheme set to sacrmeetman in app.json"
        - "should NOT contain wardmanager as scheme"
    - id: AC-F037-02
      covered: true
      tests:
        - "should contain sacrmeetman://invite/ in create-invitation Edge Function"
        - "should NOT contain wardmanager:// in create-invitation Edge Function"
    - id: AC-F037-03
      covered: true
      tests:
        - "should have zero wardmanager:// references in src/ directory"
        - "should have zero wardmanager:// references in supabase/ directory"
    - id: AC-F037-04
      covered: true
      tests:
        - "should have ios.bundleIdentifier as com.wardmanager.app"
        - "should have android.package as com.wardmanager.app"

    # F038 (CR-95) ACs
    - id: AC-F038-01
      covered: true
      tests:
        - "should show speech slots when exception is null (default = speeches)"
        - "should only render [1, 2, 3].map speech slots inside the speeches condition"
    - id: AC-F038-02
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
        - "should NOT use isExcludedFromAgenda for speech slots visibility"
        - "should NOT import isExcludedFromAgenda"
    - id: AC-F038-03
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-04
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-05
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-06
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-07
      covered: true
      tests:
        - "should use condition (!exception || exception.reason === 'speeches') for speech slots"
    - id: AC-F038-08
      covered: true
      tests:
        - "should render SundayTypeDropdown inside SundayCard (not conditional on type)"
    - id: AC-F038-09
      covered: true
      tests:
        - "should evaluate to true when exception.reason is speeches"
        - "should only render [1, 2, 3].map speech slots inside the speeches condition"

    # F039 (CR-98) ACs
    - id: AC-F039-01
      covered: true
      tests:
        - "should render PrayerSelector with visible={true} in AgendaForm"
    - id: AC-F039-02
      covered: true
      tests:
        - "should render PrayerSelector for closing_prayer using same selectorModal pattern"
    - id: AC-F039-03
      covered: true
      tests:
        - "should call onSelect and then onClose in handleSelectMember"
    - id: AC-F039-04
      covered: true
      tests:
        - "should have onClose prop that resets selectorModal in AgendaForm"
        - "should call onClose in cancel button handler"
        - "should call onClose in onRequestClose handler"
    - id: AC-F039-05
      covered: true
      tests:
        - "should have handleCustomName that calls onSelect with null memberId"
        - "should call onClose after custom name selection"
    - id: AC-F039-06
      covered: true
      tests:
        - "should have disabled prop that prevents opening"
        - "should pass disabled to Pressable"
    - id: AC-F039-07
      covered: true
      tests:
        - "should have visible prop in PrayerSelectorProps"
        - "should have onClose prop in PrayerSelectorProps"
        - "should have useEffect that opens modal when visible is true"
        - "should import useEffect from React"

    # F040 (CR-94) Acceptance Criteria
    - id: AC-F040-01
      covered: true
      tests:
        - "should export DEFAULT_TEMPLATE_PT_BR"
        - "should include {nome} placeholder in pt-BR template"
    - id: AC-F040-02
      covered: true
      tests:
        - "should export DEFAULT_TEMPLATE_EN"
        - "should include all 6 placeholders in en template"
    - id: AC-F040-03
      covered: true
      tests:
        - "should export DEFAULT_TEMPLATE_ES"
        - "should include all 6 placeholders in es template"
    - id: AC-F040-04
      covered: true
      tests:
        - "should have getDefaultTemplate function"
        - "should accept language parameter in getDefaultTemplate"
        - "should return DEFAULT_TEMPLATE_EN for en"
        - "should return DEFAULT_TEMPLATE_ES for es"
        - "should return DEFAULT_TEMPLATE_PT_BR as default (fallback)"
        - "should have language parameter in buildWhatsAppUrl with default pt-BR"
        - "should use getDefaultTemplate(language) in buildWhatsAppUrl when template is empty"
        - "should pass locale as 5th argument to buildWhatsAppUrl in InviteManagementSection"
        - "should use template parameter when not empty in buildWhatsAppUrl"
        - "should return pt-BR template for pt-BR"
        - "should return en template for en"
        - "should return es template for es"
        - "should return pt-BR template for unknown language (fallback)"
        - "should use pt-BR template when language is pt-BR and template is empty"
        - "should use en template when language is en and template is empty"
        - "should use custom template when provided, ignoring language"
        - "should default to pt-BR when language parameter is omitted"
    - id: AC-F040-05
      covered: true
      tests:
        - "should replace {nome} placeholder"
        - "should replace {data} placeholder"
        - "should replace {posicao} placeholder"
        - "should replace {colecao} placeholder"
        - "should replace {titulo} placeholder"
        - "should replace {link} placeholder"
        - "should replace all placeholders with values"
        - "should handle empty optional fields"
    - id: AC-F040-06
      covered: true
      tests:
        - "should re-export DEFAULT_TEMPLATE_EN from whatsapp.ts"
        - "should re-export DEFAULT_TEMPLATE_ES from whatsapp.ts"
        - "should re-export getDefaultTemplate from whatsapp.ts"
        - "should continue to re-export resolveTemplate from whatsapp.ts"
        - "should continue to re-export buildWhatsAppUrl from whatsapp.ts"

    # F041 (CR-96) Acceptance Criteria
    - id: AC-F041-01
      covered: true
      tests:
        - "should have SearchInput outside FlatList in members.tsx"
        - "should not have SearchInput inside FlatList (no ListHeaderComponent with SearchInput)"
    - id: AC-F041-02
      covered: true
      tests:
        - "should have SearchInput outside ScrollView in topics.tsx"
    - id: AC-F041-03
      covered: true
      tests:
        - "should have searchContainer with paddingHorizontal in members.tsx"
        - "should have searchContainer with paddingHorizontal in topics.tsx"
    - id: AC-F041-04
      covered: true
      tests:
        - "should use SearchInput component in members.tsx"
        - "should use SearchInput component in topics.tsx"
    - id: AC-F041-05
      covered: true
      tests:
        - "should use KeyboardAvoidingView in members.tsx"
        - "should use KeyboardAvoidingView in topics.tsx"
    - id: AC-F041-06
      covered: true
      tests:
        - "should not have modified MemberSelectorModal"
        - "should not have modified ActorSelector layout"

    # F042 (CR-97) Acceptance Criteria
    - id: AC-F042-01
      covered: true
      tests:
        - "should have toggle logic in recognizing handler that adds actor name"
        - "should spread current array and add new name"
    - id: AC-F042-02
      covered: true
      tests:
        - "should check if actor name already exists in array"
        - "should filter out existing actor name when toggling"
    - id: AC-F042-03
      covered: true
      tests:
        - "should display recognized_names joined by comma in AgendaForm"
    - id: AC-F042-04
      covered: true
      tests:
        - "should have selectedNames prop in ActorSelectorProps"
        - "should check if actor is selected for checkmark display"
        - "should render checkmark (U+2713) for selected actors"
    - id: AC-F042-05
      covered: true
      tests:
        - "should have multiSelect prop in ActorSelectorProps"
        - "should not close modal when multiSelect is true"
        - "should pass multiSelect={true} for recognizing field"
    - id: AC-F042-06
      covered: true
      tests:
        - "should have overlay pressable that closes modal in ActorSelector"
        - "should have close button that closes modal in ActorSelector"
    - id: AC-F042-07
      covered: true
      tests:
        - "should call updateField with recognized_names array"
        - "should set to null when array is empty"
    - id: AC-F042-08
      covered: true
      tests:
        - "should join recognized_names in presentation mode"
    - id: AC-F042-09
      covered: true
      tests:
        - "should not pass multiSelect for presiding field"
        - "should close modal after selecting presiding/conducting/etc"
        - "should not pass selectedNames for non-recognizing fields"

    # F043 (CR-99) Acceptance Criteria
    - id: AC-F043-01
      covered: true
      tests:
        - "should have speeches.speaker equal to Discurso in pt-BR"
        - "should NOT have speeches.speaker equal to Orador in pt-BR"
    - id: AC-F043-02
      covered: true
      tests:
        - "should have speeches.speaker equal to Speech in en"
        - "should NOT have speeches.speaker equal to Speaker in en"
    - id: AC-F043-03
      covered: true
      tests:
        - "should have speeches.speaker equal to Discurso in es"
        - "should NOT have speeches.speaker equal to Orador in es"
    - id: AC-F043-04
      covered: true
      tests:
        - "should use t(speeches.speaker) in usePresentationMode for speaker labels"
        - "should use t(speeches.speaker) in AgendaForm for speaker labels"
    - id: AC-F043-05
      covered: true
      tests:
        - "should have speeches.speaker used only in AgendaForm and usePresentationMode"
        - "should have consistent values across all 3 locales for speeches key"

    # F044 (CR-100) Acceptance Criteria
    - id: AC-F044-01
      covered: true
      tests:
        - "should have SpeakerField component in AgendaForm"
        - "should display speakerName as read-only text"
        - "should show displayName which is overrideName or speakerName"
    - id: AC-F044-02
      covered: true
      tests:
        - "should render pencil icon (U+270F) for edit"
        - "should only show pencil when hasSpeaker is true"
    - id: AC-F044-03
      covered: true
      tests:
        - "should have isEditing state in SpeakerField"
        - "should have handleStartEdit that sets isEditing to true"
        - "should render TextInput when isEditing is true"
    - id: AC-F044-04
      covered: true
      tests:
        - "should have editValue state for text input"
        - "should have onChangeText that updates editValue"
        - "should call onEditOverride with trimmed value on save"
    - id: AC-F044-05
      covered: true
      tests:
        - "should render X icon (U+2716) when hasOverride is true"
        - "should compute hasOverride based on overrideName vs speakerName"
        - "should only show X when hasOverride and not disabled"
    - id: AC-F044-06
      covered: true
      tests:
        - "should have handleRevert that sets override to null"
        - "should set isEditing to false on revert"
    - id: AC-F044-07
      covered: true
      tests:
        - "should have migration 014 for speaker override fields"
        - "should have speaker_1_override in SundayAgenda type"
        - "should have speaker_2_override in SundayAgenda type"
        - "should have speaker_3_override in SundayAgenda type"
        - "should use updateField for speaker_1_override in AgendaForm"
        - "should use updateField for speaker_2_override in AgendaForm"
        - "should use updateField for speaker_3_override in AgendaForm"
        - "should have TEXT DEFAULT NULL in migration"
        - "should have COMMENT ON COLUMN for documentation"
    - id: AC-F044-08
      covered: true
      tests:
        - "should use speaker_1_override from agenda in buildPresentationCards"
        - "should use speaker_2_override from agenda in buildPresentationCards"
        - "should use speaker_3_override from agenda in buildPresentationCards"
        - "should fallback to speech.speaker_name when override is null"
    - id: AC-F044-09
      covered: true
      tests:
        - "should pass disabled={isObserver} to SpeakerField"
        - "should not show pencil icon when disabled"
    - id: AC-F044-10
      covered: true
      tests:
        - "should show placeholder when no speaker name"
        - "should not show pencil when no speaker is assigned"

    # F045 (CR-101) ACs
    - id: AC-F045-01
      covered: true
      tests:
        - "should wrap LEDs section with isSpeechesType conditional"
        - "should have isSpeechesType flag defined"
        - "should render StatusLED components inside conditional"
    - id: AC-F045-02
      covered: true
      tests:
        - "should NOT render LEDs unconditionally (no standalone <View style={styles.leds}>)"
    - id: AC-F045-03
      covered: true
      tests:
        - "should use SundayCard component in speeches.tsx"
    - id: AC-F045-04
      covered: true
      tests:
        - "should use SundayCard component in NextSundaysSection.tsx"

    # F046 (CR-102) ACs
    - id: AC-F046-01
      covered: true
      tests:
        - "should filter exceptionLabel to return null when reason is speeches"
        - "should compute exceptionLabel with speeches filter"
    - id: AC-F046-02
      covered: true
      tests:
        - "should still use t() for translation of exception reason"
        - "should have conditional rendering {exceptionLabel && (...)}"
    - id: AC-F046-03
      covered: true
      tests:
        - "should use fallback reason string for unrecognized types"

    # F047 (CR-103) ACs
    - id: AC-F047-01
      covered: true
      tests:
        - "should import getDefaultTemplate from whatsappUtils"
        - "should call getDefaultTemplate when whatsapp_template is null"
        - "should handle undefined whatsapp_template as null"
    - id: AC-F047-02
      covered: true
      tests:
        - "should set template from ward.whatsapp_template when it has value"
    - id: AC-F047-03
      covered: true
      tests:
        - "should check for empty string explicitly"
        - "should set empty template for empty string"
    - id: AC-F047-04
      covered: true
      tests:
        - "should pass ward.language to getDefaultTemplate"
        - "should fallback to pt-BR when language is null"
    - id: AC-F047-05
      covered: true
      tests:
        - "should include language field in ward query"
        - "should use same getDefaultTemplate function as whatsappUtils"

    # F048 (CR-104, CR-108) ACs
    - id: AC-F048-01
      covered: true
      tests:
        - "should include collection field in handleNotInvitedAction"
        - "should include collection field in handleInvitedAction"
    - id: AC-F048-02
      covered: true
      tests:
        - "should include link field in handleNotInvitedAction"
        - "should include link field in handleInvitedAction"
    - id: AC-F048-03
      covered: true
      tests:
        - "should have quotes around {titulo} in pt-BR template"
        - "should have quotes around {titulo} in EN template"
        - "should have quotes around {titulo} in ES template"
    - id: AC-F048-04
      covered: true
      tests:
        - "should use formatDateHumanReadable instead of formatDate for WhatsApp date"
        - "should import formatDateHumanReadable from dateUtils"
        - "formatDateHumanReadable returns correct pt-BR format"
    - id: AC-F048-05
      covered: true
      tests:
        - "formatDateHumanReadable returns correct en format"
    - id: AC-F048-06
      covered: true
      tests:
        - "formatDateHumanReadable returns correct es format"
    - id: AC-F048-07
      covered: true
      tests:
        - "should use ?? empty string for collection"
        - "should use ?? empty string for link"
        - "resolveTemplate cleans whitespace from empty placeholders"
    - id: AC-F048-08
      covered: true
      tests:
        - "should have quotes in pt-BR template source code"
        - "should have quotes in EN template source code"
        - "should have quotes in ES template source code"

    # F049 (CR-109) ACs
    - id: AC-F049-01
      covered: true
      tests:
        - "should check for speeches reason in condition"
        - "should allow SpeechSlots when exception reason is speeches"
    - id: AC-F049-02
      covered: true
      tests:
        - "should block SpeechSlots when exception reason is not speeches"
    - id: AC-F049-03
      covered: true
      tests:
        - "should use same pattern as speeches.tsx"

  edge_cases:
    - id: EC-1
      covered: true
      tests:
        - "should place csvHelp inside the canImport conditional block"
        - "should not render csvHelp outside any conditional block"
        - "should render description outside any conditional block (always visible)"
        - "should have exactly one occurrence of members.description (not conditional)"
    - id: EC-2
      covered: true
      tests:
        - "should have description fontSize <= 14 (appropriate for subtitle)"
        - "should have csvHelp fontSize <= 13 (smaller than description)"
        - "should not use fixed width or numberOfLines on description (allows text wrapping)"
        - "should not use fixed width on csvHelp (allows text wrapping)"
    - id: EC-3
      covered: true
      tests:
        - "should render description before the main member FlatList (not inside it)"
        - "should render csvHelp before the main member FlatList (not inside it)"
        - "should still have ListEmptyComponent for empty state"
    - id: EC-F029-01
      covered: true
      tests:
        - "should default to +55 for number without + prefix"
    - id: EC-F029-02
      covered: true
      tests:
        - "should handle empty string input"
    - id: EC-F029-03
      covered: true
      tests:
        - "getFlagForCode should return globe fallback for unknown code"
    - id: EC-B6P2-01
      covered: true
      tests:
        - "should use U+270F (Pencil) which is widely supported"
        - "should use U+1F5D1 (Wastebasket) which is widely supported"
    - id: EC-B6P2-02
      covered: true
      tests:
        - "should have no numberOfLines constraint on description"
        - "should have paddingHorizontal for safe margins on small screens"
    - id: EC-B6P2-03
      covered: true
      tests:
        - "should show noTopics message when topics array is empty"
        - "should show noTopics message when topics is null/undefined"
    - id: EC-B6P2-04
      covered: true
      tests:
        - "should show ActivityIndicator during loading"
        - "should have loading container with paddingVertical 16"
    - id: EC-B6P2-05
      covered: true
      tests:
        - "should wrap only chevron and name in Pressable (not Switch)"
    # F035 (CR-91) Edge Cases
    - id: EC-F035-01
      covered: true
      tests:
        - "should handle assigned_not_invited status (Case 1: designation notification)"
        - "should INSERT into notification_queue for assigned_not_invited"
    - id: EC-F035-02
      covered: true
      tests:
        - "should handle assigned_confirmed status (Case 4: speaker_confirmed notification)"
        - "should INSERT into notification_queue for assigned_confirmed"
    - id: EC-F035-03
      covered: true
      tests:
        - "should handle gave_up status (Case 5: speaker_withdrew notification)"
        - "should INSERT into notification_queue for gave_up"
    - id: EC-F035-04
      covered: true
      tests:
        - "should handle not_assigned status (cancellation UPDATE)"
        - "should UPDATE notification_queue for not_assigned (cancellation)"
    # F036 (CR-92) Edge Cases
    - id: EC-F036-01
      covered: true
      tests:
        - "should use code-based comparison (not label-based) for highlighting"
    # F037 (CR-93) Edge Cases
    - id: EC-F037-01
      covered: true
      tests:
        - "should only use sacrmeetman:// protocol (old links stop working by design)"
    - id: EC-F037-02
      covered: true
      tests:
        - "should have scheme defined in app.json (works only in standalone builds)"
    # F038 (CR-95) Edge Cases
    - id: EC-F038-01
      covered: true
      tests:
        - "should show speech slots when exception is null (default = speeches)"
        - "should evaluate !exception to true when exception is null"
        - "should compute exception from sundayData.exception with null fallback"
    - id: EC-F038-02
      covered: true
      tests:
        - "should only control visibility of speech slots (not modify speech data)"
    # F039 (CR-98) Edge Cases
    - id: EC-F039-01
      covered: true
      tests:
        - "should have handleClear that calls onSelect(null)"
        - "should render clear button when selected and not disabled"
    - id: EC-F039-02
      covered: true
      tests:
        - "should use useMembers hook with search parameter"
        - "should have SearchInput component in modal"
    - id: EC-F039-03
      covered: true
      tests:
        - "should reset search and customName on close"
        - "should reset search and customName on member selection"
    # F040 (CR-94) Edge Cases
    - id: EC-F040-01
      covered: true
      tests:
        - "should use template parameter when not empty in buildWhatsAppUrl"
        - "should use custom template when provided, ignoring language"
    - id: EC-F040-02
      covered: true
      tests:
        - "should have default case returning pt-BR template"
        - "should return DEFAULT_TEMPLATE_PT_BR as default (fallback)"
        - "should return pt-BR template for unknown language (fallback)"
        - "should default to pt-BR when language parameter is omitted"
    # F041 (CR-96) Edge Cases
    - id: EC-F041-01
      covered: true
      tests:
        - "should have ListEmptyComponent in members FlatList"
        - "should have empty state in topics screen"
    - id: EC-F041-02
      covered: true
      tests:
        - "should have description text before search in topics.tsx"
    # F042 (CR-97) Edge Cases
    - id: EC-F042-01
      covered: true
      tests:
        - "should handle null recognized_names with fallback to empty array"
    - id: EC-F042-02
      covered: true
      tests:
        - "should set to null when array is empty"
        - "should set to null when updated array is empty (EC-F042-02)"
    - id: EC-F042-03
      covered: true
      tests:
        - "should check if actor name already exists in array"
        - "should use exact string matching for toggle"
    # F043 (CR-99) Edge Cases
    - id: EC-F043-01
      covered: true
      tests:
        - "should use labels with ordinal + Discurso/Speech pattern in AgendaForm"
    # F044 (CR-100) Edge Cases
    - id: EC-F044-01
      covered: true
      tests:
        - "should read override from agenda.speaker_N_override (null clears it)"
    - id: EC-F044-02
      covered: true
      tests:
        - "should clear override when trimmed value is empty"
        - "should clear override when value equals original speakerName"
    - id: EC-F044-03
      covered: true
      tests:
        - "should have independent SpeakerField for position 1"
        - "should have independent SpeakerField for position 2"
        - "should have independent SpeakerField for position 3"

    # F045 (CR-101) Edge Cases
    - id: EC-F045-01
      covered: true
      tests:
        - "should compute isSpeechesType from currentType which derives from exception.reason"
    - id: EC-F045-02
      covered: true
      tests:
        - "should have SUNDAY_TYPE_SPEECHES imported for comparison"

    # F046 (CR-102) Edge Cases
    - id: EC-F046-01
      covered: true
      tests:
        - "should handle null exception gracefully"

    # F047 (CR-103) Edge Cases
    - id: EC-F047-01
      covered: true
      tests:
        - "should guard initialization with ward check"
    - id: EC-F047-02
      covered: true
      tests:
        - "getDefaultTemplate falls back to pt-BR for unknown language"

    # F048 (CR-104, CR-108) Edge Cases
    - id: EC-F048-01
      covered: true
      tests:
        - "should use ?? empty string for collection"
        - "resolveTemplate handles empty collection gracefully"
    - id: EC-F048-02
      covered: true
      tests:
        - "should use ?? empty string for link"
        - "resolveTemplate handles empty link gracefully"
    - id: EC-F048-03
      covered: true
      tests:
        - "resolveTemplate renders empty quotes for empty title"

    # F049 (CR-109) Edge Cases
    - id: EC-F049-01
      covered: true
      tests:
        - "should handle null exception with !entry.exception check"
    - id: EC-F049-02
      covered: true
      tests:
        - "should render SpeechSlot components for each position"
        - "should use SpeechSlot import"

gaps: []

stats:
  total_tests: 516
  passing: 516
  failing: 0
  skipped: 0

changelog:
  - version: 1
    phase: 1
    changes: ["9 testes adicionados para CR-82 (GestureHandlerRootView)"]
  - version: 2
    phase: 2
    changes: ["46 testes adicionados para F026 (Members Explanatory Texts i18n)"]
  - version: 3
    phase: 3
    changes:
      - "108 testes adicionados para Batch 6 Phase 1 (F027-F031)"
      - "11 testes para F031 (CR-90): Fix Delete Button"
      - "25 testes para F027 (CR-83): Save/Cancel Buttons"
      - "24 testes para F029 (CR-85): Country Codes"
      - "14 testes para F030 (CR-86): CSV Import Confirmation"
      - "34 testes para F028 (CR-84): SearchInput Clear X Button"
  - version: 4
    phase: 4
    changes:
      - "106 testes adicionados para Batch 6 Phase 2 (F032-F034)"
      - "20 testes para F032 (CR-87): Swipe Action Icons (pencil/trash)"
      - "22 testes para F033 (CR-88): Topics Screen Explanatory Text"
      - "44 testes para F034 (CR-89): Collection Topics View (expand/collapse)"
      - "20 testes de regressao (SwipeableCard, Topics screen, useTopics hook)"
  - version: 5
    phase: 5
    changes:
      - "73 testes adicionados para Batch 7 Phase 1 (F035-F039)"
      - "18 testes para F035 (CR-91): Fix RLS policy error on notification_queue"
      - "12 testes para F036 (CR-92): Fix duplicate key error in country dropdown"
      - "10 testes para F037 (CR-93): Change deep link protocol to sacrmeetman://"
      - "13 testes para F038 (CR-95): Fix speech fields not hiding on sunday type change"
      - "20 testes para F039 (CR-98): Fix prayer fields not clickable"
  - version: 6
    phase: 6
    changes:
      - "123 testes adicionados para Batch 7 Phase 2 (F040-F044)"
      - "37 testes para F040 (CR-94): Update default WhatsApp template (i18n)"
      - "14 testes para F041 (CR-96): Search fields fixed at top"
      - "22 testes para F042 (CR-97): Multi-select for Reconhecendo a Presenca"
      - "11 testes para F043 (CR-99): Change speech labels Orador -> Discurso"
      - "39 testes para F044 (CR-100): Read-only speaker field with last-minute swap"
  - version: 7
    phase: 7
    changes:
      - "60 testes adicionados para Batch 8 Phase 1 (F045-F049)"
      - "8 testes para F045 (CR-101): Hide status LEDs on non-speech Sundays"
      - "6 testes para F046 (CR-102): Hide exception label for speech Sundays in Agenda"
      - "12 testes para F047 (CR-103): Fix WhatsApp template initialization in Settings"
      - "21 testes para F048 (CR-104, CR-108): Fix WhatsApp message variables"
      - "7 testes para F049 (CR-109): Fix speech slots in NextSundaysSection"
      - "6 testes cross-cutting (template resolution e formatDateHumanReadable)"
